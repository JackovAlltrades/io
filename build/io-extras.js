import"./io-elements.js";import{IoElement as IoElement$1,IoNode as IoNode$1}from"./io.js";function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}let defaults=createCommonjsModule(function(t){function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}t.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:e,changeDefaults:function(e){t.exports.defaults=e}}}),defaults_1=defaults.defaults,defaults_2=defaults.getDefaults,defaults_3=defaults.changeDefaults;const escapeTest=/[&<>"']/,escapeReplace=/[&<>"']/g,escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g,escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=t=>escapeReplacements[t];function escape(t,e){if(e){if(escapeTest.test(t))return t.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(t))return t.replace(escapeReplaceNoEncode,getEscapeReplacement);return t}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function unescape(t){return t.replace(unescapeTest,(t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const caret=/(^|[^\[])\^/g;function edit(t,e){t=t.source||t,e=e||"";const n={replace:(e,i)=>(i=(i=i.source||i).replace(caret,"$1"),t=t.replace(e,i),n),getRegex:()=>new RegExp(t,e)};return n}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(t,e,n){if(t){let t;try{t=decodeURIComponent(unescape(n)).replace(nonWordAndColonTest,"").toLowerCase()}catch(t){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}e&&!originIndependentUrl.test(n)&&(n=resolveUrl(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(t,e){baseUrls[" "+t]||(justDomain.test(t)?baseUrls[" "+t]=t+"/":baseUrls[" "+t]=rtrim(t,"/",!0));const n=-1===(t=baseUrls[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(protocol,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(domain,"$1")+e:t+e}const noopTest={exec:function(){}};function merge(t){let e,n,i=1;for(;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function splitCells(t,e){const n=t.replace(/\|/g,(t,e,n)=>{let i=!1,o=e;for(;--o>=0&&"\\"===n[o];)i=!i;return i?"|":" |"}).split(/ \|/);let i=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function rtrim(t,e,n){const i=t.length;if(0===i)return"";let o=0;for(;o<i;){const s=t.charAt(i-o-1);if(s!==e||n){if(s===e||!n)break;o++}else o++}return t.substr(0,i-o)}function findClosingBracket(t,e){if(-1===t.indexOf(e[1]))return-1;const n=t.length;let i=0,o=0;for(;o<n;o++)if("\\"===t[o])o++;else if(t[o]===e[0])i++;else if(t[o]===e[1]&&--i<0)return o;return-1}function checkSanitizeDeprecation(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}let helpers={escape:escape,unescape:unescape,edit:edit,cleanUrl:cleanUrl,resolveUrl:resolveUrl,noopTest:noopTest,merge:merge,splitCells:splitCells,rtrim:rtrim,findClosingBracket:findClosingBracket,checkSanitizeDeprecation:checkSanitizeDeprecation};const{noopTest:noopTest$1,edit:edit$1,merge:merge$1}=helpers,block={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:noopTest$1,table:noopTest$1,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};block.def=edit$1(block.def).replace("label",block._label).replace("title",block._title).getRegex(),block.bullet=/(?:[*+-]|\d{1,9}\.)/,block.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,block.item=edit$1(block.item,"gm").replace(/bull/g,block.bullet).getRegex(),block.list=edit$1(block.list).replace(/bull/g,block.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block.def.source+")").getRegex(),block._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",block._comment=/<!--(?!-?>)[\s\S]*?-->/,block.html=edit$1(block.html,"i").replace("comment",block._comment).replace("tag",block._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),block.paragraph=edit$1(block._paragraph).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",block._tag).getRegex(),block.blockquote=edit$1(block.blockquote).replace("paragraph",block.paragraph).getRegex(),block.normal=merge$1({},block),block.gfm=merge$1({},block.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),block.gfm.nptable=edit$1(block.gfm.nptable).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",block._tag).getRegex(),block.gfm.table=edit$1(block.gfm.table).replace("hr",block.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",block._tag).getRegex(),block.pedantic=merge$1({},block.normal,{html:edit$1("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",block._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:noopTest$1,paragraph:edit$1(block.normal._paragraph).replace("hr",block.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",block.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest$1,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest$1,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};inline.em=edit$1(inline.em).replace(/punctuation/g,inline._punctuation).getRegex(),inline._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,inline.autolink=edit$1(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex(),inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,inline.tag=edit$1(inline.tag).replace("comment",block._comment).replace("attribute",inline._attribute).getRegex(),inline._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,inline._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,inline.link=edit$1(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex(),inline.reflink=edit$1(inline.reflink).replace("label",inline._label).getRegex(),inline.normal=merge$1({},inline),inline.pedantic=merge$1({},inline.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:edit$1(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit$1(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()}),inline.gfm=merge$1({},inline.normal,{escape:edit$1(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),inline.gfm.url=edit$1(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex(),inline.breaks=merge$1({},inline.gfm,{br:edit$1(inline.br).replace("{2,}","*").getRegex(),text:edit$1(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});let rules={block:block,inline:inline};const{defaults:defaults$1}=defaults,{block:block$1}=rules,{rtrim:rtrim$1,splitCells:splitCells$1,escape:escape$1}=helpers;let Lexer_1=class t{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||defaults$1,this.rules=block$1.normal,this.options.pedantic?this.rules=block$1.pedantic:this.options.gfm&&(this.rules=block$1.gfm)}static get rules(){return block$1}static lex(e,n){return new t(n).lex(e)}lex(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(t,!0)}token(t,e){let n,i,o,s,r,l,a,h,c,d,u,p,g,v,m,f;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t)){const e=this.tokens[this.tokens.length-1];t=t.substring(o[0].length),e&&"paragraph"===e.type?e.text+="\n"+o[0].trimRight():(o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?o:rtrim$1(o,"\n")}))}else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2]?o[2].trim():o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if((o=this.rules.nptable.exec(t))&&(l={type:"table",header:splitCells$1(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(t=t.substring(o[0].length),u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=splitCells$1(l.cells[u],l.header.length);this.tokens.push(l)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),a={type:"list_start",ordered:v=(s=o[2]).length>1,start:v?+s:"",loose:!1},this.tokens.push(a),h=[],n=!1,g=(o=o[0].match(this.rules.item)).length,u=0;u<g;u++)d=(l=o[u]).length,~(l=l.replace(/^ *([*+-]|\d+\.) */,"")).indexOf("\n ")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+d+"}","gm"),"")),u!==g-1&&(r=block$1.bullet.exec(o[u+1])[0],(s.length>1?1===r.length:r.length>1||this.options.smartLists&&r!==s)&&(t=o.slice(u+1).join("\n")+t,u=g-1)),i=n||/\n\n(?!\s*$)/.test(l),u!==g-1&&(n="\n"===l.charAt(l.length-1),i||(i=n)),i&&(a.loose=!0),f=void 0,(m=/^\[[ xX]\] /.test(l))&&(f=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),c={type:"list_item_start",task:m,checked:f,loose:i},h.push(c),this.tokens.push(c),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(a.loose)for(g=h.length,u=0;u<g;u++)h[u].loose=!0;this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):escape$1(o[0]):o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),p=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:o[2],title:o[3]});else if((o=this.rules.table.exec(t))&&(l={type:"table",header:splitCells$1(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===l.align.length){for(t=t.substring(o[0].length),u=0;u<l.align.length;u++)/^ *-+: *$/.test(l.align[u])?l.align[u]="right":/^ *:-+: *$/.test(l.align[u])?l.align[u]="center":/^ *:-+ *$/.test(l.align[u])?l.align[u]="left":l.align[u]=null;for(u=0;u<l.cells.length;u++)l.cells[u]=splitCells$1(l.cells[u].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2].charAt(0)?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens}};const{defaults:defaults$2}=defaults,{cleanUrl:cleanUrl$1,escape:escape$2}=helpers;let Renderer_1=class{constructor(t){this.options=t||defaults$2}code(t,e,n){const i=(e||"").match(/\S*/)[0];if(this.options.highlight){const e=this.options.highlight(t,i);null!=e&&e!==t&&(n=!0,t=e)}return i?'<pre><code class="'+this.options.langPrefix+escape$2(i,!0)+'">'+(n?t:escape$2(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:escape$2(t,!0))+"</code></pre>"}blockquote(t){return"<blockquote>\n"+t+"</blockquote>\n"}html(t){return t}heading(t,e,n,i){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+i.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,n){const i=e?"ol":"ul";return"<"+i+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+i+">\n"}listitem(t){return"<li>"+t+"</li>\n"}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return"<p>"+t+"</p>\n"}table(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return"<tr>\n"+t+"</tr>\n"}tablecell(t,e){const n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"}strong(t){return"<strong>"+t+"</strong>"}em(t){return"<em>"+t+"</em>"}codespan(t){return"<code>"+t+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return"<del>"+t+"</del>"}link(t,e,n){if(null===(t=cleanUrl$1(this.options.sanitize,this.options.baseUrl,t)))return n;let i='<a href="'+escape$2(t)+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"}image(t,e,n){if(null===(t=cleanUrl$1(this.options.sanitize,this.options.baseUrl,t)))return n;let i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"}text(t){return t}},Slugger_1=class{constructor(){this.seen={}}slug(t){let e=t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(e)){const t=e;do{this.seen[t]++,e=t+"-"+this.seen[t]}while(this.seen.hasOwnProperty(e))}return this.seen[e]=0,e}};const{defaults:defaults$3}=defaults,{inline:inline$1}=rules,{findClosingBracket:findClosingBracket$1,escape:escape$3}=helpers;let InlineLexer_1=class t{constructor(t,e){if(this.options=e||defaults$3,this.links=t,this.rules=inline$1.normal,this.options.renderer=this.options.renderer||new Renderer_1,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=inline$1.pedantic:this.options.gfm&&(this.options.breaks?this.rules=inline$1.breaks:this.rules=inline$1.gfm)}static get rules(){return inline$1}static output(e,n,i){return new t(n,i).output(e)}output(e){let n,i,o,s,r,l,a="";for(;e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),a+=escape$3(r[1]);else if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.inRawBlock=!1),e=e.substring(r[0].length),a+=this.renderer.html(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):escape$3(r[0]):r[0]);else if(r=this.rules.link.exec(e)){const i=findClosingBracket$1(r[2],"()");if(i>-1){const t=(0===r[0].indexOf("!")?5:4)+r[1].length+i;r[2]=r[2].substring(0,i),r[0]=r[0].substring(0,t).trim(),r[3]=""}e=e.substring(r[0].length),this.inLink=!0,o=r[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o))?(o=n[1],s=n[3]):s="":s=r[3]?r[3].slice(1,-1):"",o=o.trim().replace(/^<([\s\S]*)>$/,"$1"),a+=this.outputLink(r,{href:t.escapes(o),title:t.escapes(s)}),this.inLink=!1}else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),n=(r[2]||r[1]).replace(/\s+/g," "),!(n=this.links[n.toLowerCase()])||!n.href){a+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,a+=this.outputLink(r,n),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),a+=this.renderer.strong(this.output(r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),a+=this.renderer.em(this.output(r[6]||r[5]||r[4]||r[3]||r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),a+=this.renderer.codespan(escape$3(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),a+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),a+=this.renderer.del(this.output(r[1]));else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),o="@"===r[2]?"mailto:"+(i=escape$3(this.mangle(r[1]))):i=escape$3(r[1]),a+=this.renderer.link(o,null,i);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.inRawBlock?a+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):escape$3(r[0]):r[0]):a+=this.renderer.text(escape$3(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===r[2])o="mailto:"+(i=escape$3(r[0]));else{do{l=r[0],r[0]=this.rules._backpedal.exec(r[0])[0]}while(l!==r[0]);i=escape$3(r[0]),o="www."===r[1]?"http://"+i:i}e=e.substring(r[0].length),a+=this.renderer.link(o,null,i)}return a}static escapes(e){return e?e.replace(t.rules._escapes,"$1"):e}outputLink(t,e){const n=e.href,i=e.title?escape$3(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,escape$3(t[1]))}smartypants(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t}mangle(t){if(!this.options.mangle)return t;const e=t.length;let n,i="",o=0;for(;o<e;o++)n=t.charCodeAt(o),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}},TextRenderer_1=class{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,n){return""+n}image(t,e,n){return""+n}br(){return""}};const{defaults:defaults$4}=defaults,{merge:merge$2,unescape:unescape$1}=helpers;let Parser_1=class t{constructor(t){this.tokens=[],this.token=null,this.options=t||defaults$4,this.options.renderer=this.options.renderer||new Renderer_1,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new Slugger_1}static parse(e,n){return new t(n).parse(e)}parse(t){this.inline=new InlineLexer_1(t.links,this.options),this.inlineText=new InlineLexer_1(t.links,merge$2({},this.options,{renderer:new TextRenderer_1})),this.tokens=t.reverse();let e="";for(;this.next();)e+=this.tok();return e}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let t=this.token.text;for(;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)}tok(){let t="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,unescape$1(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let e,n,i,o,s="";for(i="",e=0;e<this.token.header.length;e++)i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(s+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(n=this.token.cells[e],i="",o=0;o<n.length;o++)i+=this.renderer.tablecell(this.inline.output(n[o]),{header:!1,align:this.token.align[o]});t+=this.renderer.tablerow(i)}return this.renderer.table(s,t)}case"blockquote_start":for(t="";"blockquote_end"!==this.next().type;)t+=this.tok();return this.renderer.blockquote(t);case"list_start":{t="";const e=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)t+=this.tok();return this.renderer.list(t,e,n)}case"list_item_start":{t="";const e=this.token.loose,n=this.token.checked,i=this.token.task;if(this.token.task)if(e)if("text"===this.peek().type){const t=this.peek();t.text=this.renderer.checkbox(n)+" "+t.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else t+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)t+=e||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(t,i,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const t='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(t);console.log(t)}}}};const{merge:merge$3,checkSanitizeDeprecation:checkSanitizeDeprecation$1,escape:escape$4}=helpers,{getDefaults:getDefaults,changeDefaults:changeDefaults,defaults:defaults$5}=defaults;function marked(t,e,n){if(void 0===t||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null),e=merge$3({},marked.defaults,e||{}),checkSanitizeDeprecation$1(e);const i=e.highlight;let o,s,r=0;try{o=Lexer_1.lex(t,e)}catch(t){return n(t)}s=o.length;const l=function(t){if(t)return e.highlight=i,n(t);let s;try{s=Parser_1.parse(o,e)}catch(e){t=e}return e.highlight=i,t?n(t):n(null,s)};if(!i||i.length<3)return l();if(delete e.highlight,!s)return l();for(;r<o.length;r++)!function(t){"code"!==t.type?--s||l():i(t.text,t.lang,function(e,n){return e?l(e):null==n||n===t.text?--s||l():(t.text=n,t.escaped=!0,void(--s||l()))})}(o[r])}else try{return e=merge$3({},marked.defaults,e||{}),checkSanitizeDeprecation$1(e),Parser_1.parse(Lexer_1.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||marked.defaults).silent)return"<p>An error occurred:</p><pre>"+escape$4(t.message+"",!0)+"</pre>";throw t}}marked.options=marked.setOptions=function(t){return merge$3(marked.defaults,t),changeDefaults(marked.defaults),marked},marked.getDefaults=getDefaults,marked.defaults=defaults$5,marked.Parser=Parser_1,marked.parser=Parser_1.parse,marked.Renderer=Renderer_1,marked.TextRenderer=TextRenderer_1,marked.Lexer=Lexer_1,marked.lexer=Lexer_1.lex,marked.InlineLexer=InlineLexer_1,marked.inlineLexer=InlineLexer_1.output,marked.Slugger=Slugger_1,marked.parse=marked;let marked_1=marked;class IoMdView extends IoElement$1{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t\tflex: 1 1 auto;\n\t\t\t--io-code-size: 15px;\n\t\t\tpadding: var(--io-spacing) calc(4 * var(--io-spacing));\n\t\t}\n\t\t:host > :first-child {\n\t\t\tmargin-top: 0;\n\t\t}\n\t\t:host > :last-child {\n\t\t\tmargin-top: 0;\n\t\t}\n\t\t:host p {\n\t\t\tline-height: 1.4em;\n\t\t}\n\t\t:host a {\n\t\t\ttext-decoration: underline;\n\t\t\tcolor: var(--io-color-link);\n\t\t}\n\t\t:host h1, :host h2, :host h3, :host h4 {\n\t\t\tmargin: 0;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-width: 0 0 var(--io-border-width) 0;\n\t\t}\n\t\t:host h1 {\n\t\t\tpadding: 0.5em 0;\n\t\t}\n\t\t:host h2 {\n\t\t\tpadding: 0.4em 0;\n\t\t}\n\t\t:host h3 {\n\t\t\tpadding: 0.3em 0;\n\t\t}\n\t\t:host h4 {\n\t\t\tpadding: 0.2em 0;\n\t\t}\n\t\t:host code {\n\t\t\tfont-family: monospace, monospace;\n\t\t\t-webkit-font-smoothing: auto;\n\t\t\toverflow: auto;\n\t\t\tcolor: var(--io-color-link);\n\t\t\tfont-weight: bold;\n\t\t\tbackground: var(--io-background-color-light);\n\t\t}\n\t\t:host pre > code {\n\t\t\tcolor: inherit;\n\t\t\tbackground-color: var(--io-background-color-light);\n\t\t\tline-height: 1.6em;\n\t\t}\n\t\t:host code.language-html,\n\t\t:host code.language-javascript {\n\t\t\tpadding: 1em;\n\t\t\tdisplay: block;\n\t\t\tfont-size: var(--io-code-size);\n\t\t}\n\t\t:host blockquote {\n\t\t\tfont-size: 0.85em;\n\t\t\topacity: 0.5;\n\t\t\tmargin: 0;\n\t\t\tpadding: var(--io-spacing) 0;\n\t\t}\n\t\t:host table\t{\n\t\t\twidth: 100% !important;\n\t\t\tborder: 1px solid black;\n\t\t\tborder-collapse: collapse;\n\t\t\ttable-layout: fixed;\n\t\t}\n\t\t:host table td,\n\t\t:host table tr,\n\t\t:host table th {\n\t\t\tborder: 1px solid gray;\n\t\t\tpadding: 0.25em;\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\t\t}\n\t\t:host .videocontainer {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 0;\n\t\t\t\tposition: relative;\n\t\t\t\tpadding-bottom: 56.25%;\n\t\t}\n\t\t:host .videocontainer > iframe {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t}\n\t\t@keyframes spinner {\n\t\t\tto {transform: rotate(360deg);}\n\t\t}\n\t\t:host .io-loading {\n\t\t\tbackground-image: repeating-linear-gradient(135deg, var(--io-background-color-light), var(--io-background-color) 3px, var(--io-background-color) 7px, var(--io-background-color-light) 10px) !important;\n\t\t\tbackground-repeat: repeat;\n\t\t\tposition: relative;\n\t\t}\n\t\t:host .io-loading:after {\n\t\t\tcontent: '';\n\t\t\tbox-sizing: border-box;\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tmargin-top: -20px;\n\t\t\tmargin-left: -20px;\n\t\t\tborder-radius: 50%;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-top-color: #000;\n\t\t\tanimation: spinner .6s linear infinite;\n\t\t}\n\t\t"}static get Properties(){return{path:{type:String,reflect:1},role:"document"}}onResized(){let t=this.getBoundingClientRect().width;t=Math.min((t-30)/35,15),this.style.setProperty("--io-code-size",t+"px")}parseMarkdown(t){marked_1&&(marked_1&&marked_1.setOptions({sanitize:!1,highlight:function(t){return window.hljs?window.hljs.highlightAuto(t).value:null}}),this.innerHTML=marked_1(t),this.classList.toggle("io-loading",!1),this.dispatchEvent("content-ready",{},!0))}pathChanged(){this.classList.toggle("io-loading",!0),fetch(this.path).then(t=>t.text()).then(t=>{this.parseMarkdown(t)})}}IoMdView.Register(),"serviceWorker"in navigator||console.warn("No Service Worker support!"),"PushManager"in window||console.warn("No Push API Support!");class IoServiceLoader extends IoNode$1{static get Properties(){return{path:"service.js",serviceWorker:void 0,permission:window.Notification?window.Notification.permission:"default",subscription:""}}constructor(t){super(t),this.requestNotification=this.requestNotification.bind(this),"serviceWorker"in navigator&&this.init()}async init(){const t=await navigator.serviceWorker.register(this.path);t.update(),navigator.serviceWorker.addEventListener("message",this.onServiceWorkerMessage),t.active?this.serviceWorker=t:t.addEventListener("activate",()=>{this.serviceWorker=t})}serviceWorkerChanged(){"granted"===this.permission&&this.subscribe()}subscribe(){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({command:"subscribe"})}async requestNotification(){this.permission=await window.Notification.requestPermission(),"granted"===this.permission&&this.subscribe()}onServiceWorkerMessage(t){const e=JSON.parse(t.data);e.subscription&&(this.subscription=JSON.stringify(e.subscription))}}IoServiceLoader.Register();class NodeBindings{constructor(t){Object.defineProperty(this,"node",{value:t,configurable:!0})}get(t){return this[t]=this[t]||new Binding(this.node,t),this[t]}dispose(){for(let t in this)this[t].dispose(),delete this[t];delete this.node}}class Binding{constructor(t,e){this.source=t,this.sourceProp=e,this.targets=[],this.targetsMap=new WeakMap,this._onTargetChanged=this._onTargetChanged.bind(this),this._onSourceChanged=this._onSourceChanged.bind(this),this.source.addEventListener(this.sourceProp+"-changed",this._onSourceChanged)}set value(t){this.source[this.sourceProp]=t}get value(){return this.source[this.sourceProp]}addTarget(t,e){if(t[e]=this.source[this.sourceProp],-1===this.targets.indexOf(t)&&this.targets.push(t),this.targetsMap.has(t)){const n=this.targetsMap.get(t);-1===n.indexOf(e)&&(n.push(e),t.addEventListener(e+"-changed",this._onTargetChanged))}else this.targetsMap.set(t,[e]),t.addEventListener(e+"-changed",this._onTargetChanged)}removeTarget(t,e){if(this.targetsMap.has(t)){const n=this.targetsMap.get(t);if(e){const i=n.indexOf(e);-1!==i&&n.splice(i,1),t.removeEventListener(e+"-changed",this._onTargetChanged)}else{for(let e=n.length;e--;)t.removeEventListener(n[e]+"-changed",this._onTargetChanged);n.length=0}0===n.length&&this.targets.splice(this.targets.indexOf(t),1)}}_onTargetChanged(t){if(-1===this.targets.indexOf(t.target))return void console.error("Io: _onTargetChanged() should never fire when target is removed from binding.\n\t\t\t\tPlease file an issue at https://github.com/arodic/io/issues.");const e=this.source[this.sourceProp],n=t.detail.value;if(e!==n){if("number"==typeof n&&isNaN(n)&&"number"==typeof e&&isNaN(e))return;this.source[this.sourceProp]=n}}_onSourceChanged(t){if(t.target!=this.source)return void console.error("Io: _onSourceChanged() should always originate form source node.\n\t\t\t\tPlease file an issue at https://github.com/arodic/io/issues.");const e=t.detail.value;for(let t=this.targets.length;t--;){const n=this.targetsMap.get(this.targets[t]);for(let i=n.length;i--;){const o=this.targets[t][n[i]];if(o!==e){if("number"==typeof e&&isNaN(e)&&"number"==typeof o&&isNaN(o))continue;this.targets[t][n[i]]=e}}}}dispose(){this.source.removeEventListener(this.sourceProp+"-changed",this._onSourceChanged);for(let t in this.targets)this.removeTarget(this.targets[t]),delete this.targets[t]}}class NodeQueue extends Array{constructor(t){super(),Object.defineProperty(this,"node",{value:t,configurable:!0})}queue(t,e,n){const i=this.indexOf(t);-1===i?this.push(t,{property:t,value:e,oldValue:n}):this[i+1].value=e}dispatch(){if(!0===this._dispatchInProgress)return;this._dispatchInProgress=!0;const t=this.node;let e=!1;for(;this.length;){const n=this.length-2,i=this[n],o=this[n+1],s={detail:o};o.value!==o.oldValue?(e=!0,t[i+"Changed"]&&t[i+"Changed"](s),t.propertyChanged&&t.propertyChanged(s),t.dispatchEvent(i+"-changed",s.detail)):o.value,this.splice(n,2)}e&&(t.applyCompose(),t.changed(),t.setAria&&t.setAria()),this.length=0,this._dispatchInProgress=!1}dispose(){this.length=0,delete this.node}}class ProtoListeners{constructor(t){for(let e=t.length;e--;){const n=t[e].constructor.Listeners;for(let t in n)this[t]=n[t]}}}class Listeners{constructor(t,e){Object.defineProperty(this,"node",{value:t}),Object.defineProperty(this,"propListeners",{value:{}}),Object.defineProperty(this,"activeListeners",{value:{}}),Object.defineProperty(this,"__connected",{enumerable:!1,writable:!0});for(let t in e)this[t]=e[t]}setPropListeners(t){const e=this.propListeners,n=this.node,i={};for(let e in t)e.startsWith("on-")&&(i[e.slice(3,e.length)]=t[e]);for(let t in i){if(e[t])if(e[t]instanceof Array){const i="function"==typeof e[t][0]?e[t][0]:n[e[t][0]];n.removeEventListener(t,i,e[t][1])}else{const i="function"==typeof e[t]?e[t]:n[e[t]];n.removeEventListener(t,i)}if(e[t]=i[t],this.__connected)if(i[t]instanceof Array){const e="function"==typeof i[t][0]?i[t][0]:n[i[t][0]];n.addEventListener(t,e,i[t][1])}else{const e="function"==typeof i[t]?i[t]:n[i[t]];n.addEventListener(t,e)}}}connect(){this.__connected=!0;const t=this.node,e=this.propListeners;for(let e in this)this[e]instanceof Array?this.addEventListener(e,t[this[e][0]],this[e][1]):this.addEventListener(e,t[this[e]]);for(let n in e)if(e[n]instanceof Array){const i="function"==typeof e[n][0]?e[n][0]:t[e[n][0]];this.addEventListener(n,i,e[n][1])}else{const i="function"==typeof e[n]?e[n]:t[e[n]];this.addEventListener(n,i)}}disconnect(){this.__connected=!1;const t=this.node,e=this.propListeners;for(let e in this)this[e]instanceof Array?this.removeEventListener(e,t[this[e][0]],this[e][1]):this.removeEventListener(e,t[this[e]]);for(let n in e)if(e[n]instanceof Array){const i="function"==typeof e[n][0]?e[n][0]:t[e[n][0]];this.removeEventListener(n,i,e[n][1])}else{const i="function"==typeof e[n]?e[n]:t[e[n]];this.removeEventListener(n,i)}}dispose(){this.disconnect();const t=this.activeListeners;for(let e in t)for(let n=t[e].length;n--;)this.node.isIoElement&&HTMLElement.prototype.removeEventListener.call(this.node,e,t[e][n]),t[e].splice(n,1)}addEventListener(t,e,n){const i=this.activeListeners;i[t]=i[t]||[],-1===i[t].indexOf(e)&&(this.node.isIoElement&&HTMLElement.prototype.addEventListener.call(this.node,t,e,n),i[t].push(e))}removeEventListener(t,e,n){const i=this.activeListeners;if(void 0!==i[t]){const o=i[t].indexOf(e);-1!==o&&(this.node.isIoElement&&HTMLElement.prototype.removeEventListener.call(this.node,t,e,n),i[t].splice(o,1))}}dispatchEvent(t,e={},n=!0,i=this.node){if(i instanceof HTMLElement||i===window)HTMLElement.prototype.dispatchEvent.call(i,new CustomEvent(t,{type:t,detail:e,bubbles:n,composed:!0,cancelable:!0}));else{const n=this.activeListeners;if(void 0!==n[t]){const o=n[t].slice(0);for(let t=0;t<o.length;t++)o[t].call(i,{detail:e,target:i,path:[i]})}}}}class ProtoProperties{constructor(t){this._p=t;const e={};for(let n=t.length;n--;){const i=t[n].constructor.Properties;for(let t in i)e[t]?Object.assign(e[t],new ProtoProperty(i[t])):e[t]=new ProtoProperty(i[t]),void 0===e[t].reflect&&(e[t].reflect=0),void 0===e[t].notify&&(e[t].notify=!0),void 0===e[t].observe&&(e[t].observe=!1),void 0===e[t].enumerable&&(e[t].enumerable=!0)}for(let t in e){"_"===t.charAt(0)&&(e[t].notify=!1,e[t].enumerable=!1),void 0===e[t].value&&(e[t].value=void 0),void 0===e[t].type&&(e[t].type=void 0),this[t]=new Property(e[t])}}}class ProtoProperty{constructor(t){const e=typeof t;null===t||void 0===t?t={value:t}:"function"===e?t={type:t}:"number"===e||"string"===e||"boolean"===e?t={value:t,type:t.constructor}:"object"===e?t instanceof Array?t={value:[...t],type:Array}:t instanceof Binding?t={value:t.value,binding:t}:"function"!=typeof t.type&&(void 0===t.value||null===t.value||(t.type=t.value.constructor)):console.error("Property error!",e,t),void 0!==t.value&&(this.value=t.value),void 0!==t.type&&(this.type=t.type),void 0!==t.reflect&&(this.reflect=t.reflect),void 0!==t.notify&&(this.notify=t.notify),void 0!==t.observe&&(this.observe=t.observe),void 0!==t.enumerable&&(this.enumerable=t.enumerable),void 0!==t.binding&&(this.binding=t.binding)}}class Properties{constructor(t,e){Object.defineProperty(this,"node",{value:t});for(let n in e)this[n]=new Property(e[n]),this[n].instantiateCustomType(),void 0!==this[n].value&&("object"==typeof this[n].value&&null!==this[n].value?(this[n].value.isIoNode&&this[n].value.connect(t),t.queue(n,this[n].value,void 0)):this[n].reflect>=1&&this.node.setAttribute(n,this[n].value))}get(t){return this[t].value}set(t,e,n){let i=this[t].value;if(e!==i){const o=this.node;let s=this[t].binding,r=e instanceof Binding?e:null;r&&s&&r!==s&&s.removeTarget(o,t),r?(r.addTarget(o,t),this[t].binding=r,this[t].value=e.source[e.sourceProp],e=e.source[e.sourceProp]):this[t].value=e,e&&e.isIoNode&&e.connect(o),i&&i.isIoNode&&i.disconnect(o),this[t].notify&&i!==this[t].value&&(o.queue(t,this[t].value,i),o.__connected&&!n&&o.queueDispatch()),this[t].reflect>=1&&o.setAttribute(t,e)}}connect(){for(let t in this)this[t].binding&&this[t].binding.addTarget(this.node,t)}disconnect(){for(let t in this)this[t].binding&&this[t].binding.removeTarget(this.node,t)}dispose(){for(let t in this)this[t].binding&&(this[t].binding.removeTarget(this.node,t),delete this[t].binding),delete this[t]}}class Property{constructor(t){this.value=t.value,this.type=t.type,this.reflect=t.reflect,this.notify=t.notify,this.observe=t.observe,this.enumerable=t.enumerable,this.binding=t.binding,this.type===Array&&this.value&&(this.value=[...this.value]),this.type===Object&&this.value&&(this.value={}),void 0===this.value&&this.type&&(this.type===Boolean?this.value=!1:this.type===String?this.value="":this.type===Number?this.value=0:this.type===Array?this.value=[]:this.type===Object&&(this.value={}))}instantiateCustomType(){void 0===this.value&&this.type&&this.type!==HTMLElement&&this.type!==Function&&(this.value=new this.type)}}const IoNodeMixin=t=>{const e=class extends t{static get Properties(){return{$:{type:Object,notify:!1},lazy:Boolean}}constructor(t={}){super(t),this.__registered||this.__proto__.constructor.Register(),Object.defineProperty(this,"__nodeBindings",{value:new NodeBindings(this)}),Object.defineProperty(this,"__nodeQueue",{value:new NodeQueue(this)}),Object.defineProperty(this,"__properties",{value:new Properties(this,this.__protoProperties)}),Object.defineProperty(this,"__listeners",{value:new Listeners(this,this.__protoListeners)}),Object.defineProperty(this,"__connected",{enumerable:!1,writable:!0});for(let t=0;t<this.__functions.length;t++)this[this.__functions[t]]=this[this.__functions[t]].bind(this);this.setProperties(t)}connect(t){this._owner=this._owner||[],-1===this._owner.indexOf(t)&&(this._owner.push(t),this.__connected||this.connectedCallback())}disconnect(t){-1!==this._owner.indexOf(t)&&this._owner.splice(this._owner.indexOf(t),1),0===this._owner.length&&this.__connected&&this.disconnectedCallback()}preventDefault(t){t.preventDefault()}stopPropagation(t){t.stopPropagation()}changed(){}applyCompose(){const t=this.compose;if(t)for(let e in t)this[e].setProperties(t[e])}bind(t){return this.__nodeBindings.get(t)}set(t,e,n){if(this[t]!==e||n){const n=this[t];this[t]=e,this.dispatchEvent("value-set",{property:t,value:e,oldValue:n},!1),this.dispatchEvent("io-value-set",{property:t,value:e,oldValue:n},!0)}}setProperties(t){for(let e in t)void 0!==this.__properties[e]&&this.__properties.set(e,t[e],!0);if(t.style)for(let e in t.style)this.style[e]=t.style[e],this.style.setProperty(e,t.style[e]);this.__listeners.setPropListeners(t,this),this.__connected&&this.queueDispatch()}_onObjectMutation(t){for(let e=this.__observedProps.length;e--;){const n=this.__observedProps[e],i=this.__properties[n].value;if(i===t.detail.object)return void this.throttle(this._onObjectMutationThrottled,n);if(t.detail.objects&&-1!==t.detail.objects.indexOf(i))return void this.throttle(this._onObjectMutationThrottled,n)}}_onObjectMutationThrottled(t){this.propMutated&&this.propMutated(t),this[t+"Mutated"]&&this[t+"Mutated"](),this.applyCompose(),this.changed(),this.setAria&&this.setAria()}connectedCallback(){this.__listeners.connect(),this.__properties.connect(),this.__connected=!0,this.__observedProps.length&&window.addEventListener("object-mutated",this._onObjectMutation),this.queueDispatch()}disconnectedCallback(){this.__listeners.disconnect(),this.__properties.disconnect(),this.__connected=!1,this.__observedProps.length&&window.removeEventListener("object-mutated",this._onObjectMutation)}dispose(){this.__nodeQueue.dispose(),this.__nodeBindings.dispose(),this.__listeners.dispose(),this.__properties.dispose()}addEventListener(t,e,n){"function"==typeof e?this.__listeners.addEventListener(t,e,n):console.warn(`Io ${this.constructor.name} "${t}" listener handler is not a function`)}removeEventListener(t,e,n){this.__listeners.removeEventListener(t,e,n)}dispatchEvent(t,e,n=!1,i){this.__listeners.dispatchEvent(t,e,n,i)}queue(t,e,n){this.__nodeQueue.queue(t,e,n)}queueDispatch(){this.lazy?(preThrottleQueue.push(this._queueDispatchLazy),this.throttle(this._queueDispatchLazy)):this.__nodeQueue.dispatch()}_queueDispatchLazy(){this.__nodeQueue.dispatch()}throttle(t,e,n){if(-1!==preThrottleQueue.indexOf(t)||(preThrottleQueue.push(t),n))if(-1===throttleQueue.indexOf(t)&&throttleQueue.push(t),argQueue.has(t)&&"object"!=typeof e){const n=argQueue.get(t);-1===n.indexOf(e)&&n.push(e)}else argQueue.set(t,[e]);else t(e)}requestAnimationFrameOnce(t){requestAnimationFrameOnce(t)}filterObject(t,e,n=5,i=[],o=0){if(-1===i.indexOf(t)&&(i.push(t),!(o>n))){if(o++,e(t))return t;for(let s in t){const r=t[s]instanceof Binding?t[s].value:t[s];if(e(r))return r;if("object"==typeof r){const t=this.filterObject(r,e,n,i,o);if(t)return t}}}}filterObjects(t,e,n=5,i=[],o=0){const s=[];if(-1!==i.indexOf(t))return s;if(i.push(t),o>n)return s;o++,e(t)&&-1===s.indexOf(t)&&s.push(t);for(let r in t){const l=t[r]instanceof Binding?t[r].value:t[r];if(e(l)&&-1===s.indexOf(l)&&s.push(l),"object"==typeof l){const t=this.filterObjects(l,e,n,i,o);for(let e=0;e<t.length;e++)-1===s.indexOf(t[e])&&s.push(t[e])}}return s}import(t){const e=new URL(t,window.location).href;return new Promise(n=>{!t||importedPaths[e]?n(e):import(e).then(()=>{importedPaths[e]=!0,n(e)})})}};return e.Register=Register,e},Register=function(){let t=this.prototype;const e=[];for(;t&&t.constructor!==HTMLElement&&t.constructor!==Object;)e.push(t),t=t.__proto__;const n=t.constructor!==HTMLElement;this.isIoNode=n,Object.defineProperty(this.prototype,"isIoNode",{value:n}),Object.defineProperty(this.prototype,"__registered",{value:!0}),t=this.prototype,Object.defineProperty(t,"__protochain",{value:e}),Object.defineProperty(t,"__protoProperties",{value:new ProtoProperties(e)}),Object.defineProperty(t,"__protoListeners",{value:new ProtoListeners(e)});const i=new Set;for(let t=e.length;t--;){const n=Object.getOwnPropertyNames(e[t]);for(let o=0;o<n.length;o++){if("constructor"===n[o])continue;const s=Object.getOwnPropertyDescriptor(e[t],n[o]);s.get||s.set||"function"==typeof e[t][n[o]]&&(n[o].startsWith("_")||n[o].startsWith("on"))&&i.add(n[o])}}Object.defineProperty(t,"__functions",{value:[...i]}),Object.defineProperty(t,"__observedProps",{value:[]});for(let e in t.__protoProperties)t.__protoProperties[e].observe&&t.__observedProps.push(e);for(let e in t.__protoProperties)Object.defineProperty(t,e,{get:function(){return this.__properties.get(e)},set:function(t){this.__properties.set(e,t)},enumerable:!!t.__protoProperties[e].enumerable,configurable:!0})};IoNodeMixin.Register=Register;const importedPaths={},preThrottleQueue=new Array,throttleQueue=new Array,argQueue=new WeakMap,funcQueue=new Array,animate=function(){requestAnimationFrame(animate);for(let t=preThrottleQueue.length;t--;)preThrottleQueue.splice(preThrottleQueue.indexOf(preThrottleQueue[t]),1);for(let t=throttleQueue.length;t--;){const e=argQueue.get(throttleQueue[t]);for(let n=e.length;n--;)throttleQueue[t](e[n]),e.splice(e.indexOf(n),1);throttleQueue.splice(throttleQueue.indexOf(throttleQueue[t]),1)}for(let t=funcQueue.length;t--;){const e=funcQueue[t];funcQueue.splice(funcQueue.indexOf(e),1),e()}};function requestAnimationFrameOnce(t){-1===funcQueue.indexOf(t)&&funcQueue.push(t)}requestAnimationFrame(animate);class IoNode extends(IoNodeMixin(Object)){}
/** @license
 * MIT License
 *
 * Copyright (c) 2019 Luke Jackson
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */const isString=t=>"string"==typeof t,isArray=Array.isArray,isObject=t=>"object"==typeof t&&!isArray(t),clense=(t,e)=>e?isString(e[0])?[...t,e]:[...t,...e]:t,buildTree=()=>t=>t&&isObject(t[1])?{name:t[0],props:t[1],children:isArray(t[2])?t[2].reduce(clense,[]).map(buildTree()):t[2]}:buildTree()([t[0],{},t[1]]);class IoElement extends(IoNodeMixin(HTMLElement)){static get Style(){return"\n\t\t:host[hidden] {\n\t\t\tdisplay: none;\n\t\t}\n\t\t"}static get Properties(){return{tabindex:{type:String,reflect:1},contenteditable:{type:Boolean,reflect:1},class:{type:String,reflect:1},role:{type:String,reflect:1},label:{type:String,reflect:1},id:{type:String,reflect:-1},hidden:{type:Boolean,reflect:1}}}static get Listeners(){return{"focus-to":"_onFocusTo"}}static get observedAttributes(){const t=[];for(let e in this.prototype.__protoProperties){const n=this.prototype.__protoProperties[e].reflect;-1!==n&&2!==n||t.push(e)}return t}attributeChangedCallback(t,e,n){const i=this.__properties[t].type;i===Boolean?null===n?this[t]=!1:""===n&&(this[t]=!0):i===Number||i===String?this[t]=i(n):i===Object||i===Array?this[t]=JSON.parse(n):this[t]=isNaN(Number(n))?n:Number(n)}connectedCallback(){super.connectedCallback(),"function"==typeof this.onResized&&(ro?ro.observe(this):(window.addEventListener("resize",this.onResized),setTimeout(()=>{this.onResized()})))}disconnectedCallback(){super.disconnectedCallback(),"function"==typeof this.onResized&&(ro?ro.unobserve(this):window.removeEventListener("resize",this.onResized))}template(t,e){const n=buildTree()(["root",t]).children;(e=e||this)===this&&(this.__properties.$.value={}),this.traverse(n,e)}traverse(t,e){const n=e.children;for(;n.length>t.length;){const t=n[n.length-1];e.removeChild(t)}if(n.length<t.length){const i=document.createDocumentFragment();for(let e=n.length;e<t.length;e++){const n=constructElement(t[e]);i.appendChild(n)}e.appendChild(i)}for(let i=0;i<n.length;i++)if(n[i].localName!==t[i].name){const o=n[i],s=constructElement(t[i]);e.insertBefore(s,o),e.removeChild(o)}else n[i].removeAttribute("className"),n[i].isIoElement?n[i].setProperties(t[i].props):setNativeElementProps(n[i],t[i].props);for(let e=0;e<t.length;e++)t[e].props.id&&(this.$[t[e].props.id]=n[e]),void 0!==t[e].children&&("string"==typeof t[e].children?n[e].isIoElement?console.log(n[e],n[e].isIoElement,t[e]):(this.flattenTextNode(n[e]),n[e]._textNode.nodeValue=String(t[e].children)):"object"==typeof t[e].children&&this.traverse(t[e].children,n[e]))}flattenTextNode(t){if(0===t.childNodes.length&&t.appendChild(document.createTextNode("")),"#text"!==t.childNodes[0].nodeName&&(t.innerHTML="",t.appendChild(document.createTextNode(""))),t._textNode=t.childNodes[0],t.childNodes.length>1){const e=t.textContent;for(let e=t.childNodes.length;e--;)0!==e&&t.removeChild(t.childNodes[e]);t._textNode.nodeValue=e}}get textNode(){return this.flattenTextNode(this),this._textNode.nodeValue}set textNode(t){this.flattenTextNode(this),this._textNode.nodeValue=String(t)}setAttribute(t,e){!0===e?HTMLElement.prototype.setAttribute.call(this,t,""):!1===e||""===e?this.removeAttribute(t):"string"!=typeof e&&"number"!=typeof e||this.getAttribute(t)!==String(e)&&HTMLElement.prototype.setAttribute.call(this,t,e)}setAria(){this.label?this.setAttribute("aria-label",this.label):this.setAttribute("aria-label",!1)}_onFocusTo(t){const e=t.composedPath()[0],n=t.detail.dir,i=t.detail.rect;if(i.center={x:i.x+i.width/2,y:i.y+i.height/2},e!==this){let o=e,s=1/0,r=1/0;const l=this.querySelectorAll('[tabindex="0"]');for(let t=l.length;t--;){if(!l[t].offsetParent)continue;if("visible"!==window.getComputedStyle(l[t]).visibility)continue;const e=l[t].getBoundingClientRect();switch(e.center={x:e.x+e.width/2,y:e.y+e.height/2},n){case"right":if(e.left>=i.right-1){const n=Math.abs(e.left-i.right),a=Math.abs(e.center.y-i.center.y);n<s||a<r/3?(o=l[t],s=n,r=a):n===s&&a<r&&(o=l[t],r=a)}break;case"left":if(e.right<=i.left+1){const n=Math.abs(e.right-i.left),a=Math.abs(e.center.y-i.center.y);n<s||a<r/3?(o=l[t],s=n,r=a):n===s&&a<r&&(o=l[t],r=a)}break;case"down":if(e.top>=i.bottom-1){const n=Math.abs(e.center.x-i.center.x),a=Math.abs(e.top-i.bottom);a<r||n<s/3?(o=l[t],s=n,r=a):a===r&&n<s&&(o=l[t],s=n)}break;case"up":if(e.bottom<=i.top+1){const n=Math.abs(e.center.x-i.center.x),a=Math.abs(e.bottom-i.top);a<r||n<s/3?(o=l[t],s=n,r=a):a===r&&n<s&&(o=l[t],s=n)}}}o!==e&&(o.focus(),t.stopPropagation())}}focusTo(t){const e=this.getBoundingClientRect();this.dispatchEvent("focus-to",{dir:t,rect:e},!0)}}const warning=document.createElement("div");let ro;warning.innerHTML='\nNo support for custom elements detected! <br />\nSorry, modern browser is required to view this page.<br />\nPlease try <a href="https://www.mozilla.org/en-US/firefox/new/">Firefox</a>,\n<a href="https://www.google.com/chrome/">Chrome</a> or\n<a href="https://www.apple.com/lae/safari/">Safari</a>',IoElement.Register=function(){IoNodeMixin.Register.call(this),this.isIoElement=!0,Object.defineProperty(this.prototype,"isIoElement",{value:!0});const t=this.name.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();Object.defineProperty(this,"localName",{value:t}),Object.defineProperty(this.prototype,"localName",{value:t}),void 0!==window.customElements?(window.customElements.define(t,this),_initProtoStyle(this.prototype.__protochain)):document.body.insertBefore(warning,document.body.children[0])},void 0!==window.ResizeObserver&&(ro=new ResizeObserver(t=>{for(let e of t)e.target.onResized()}));const constructElement=function(t){const e=window.customElements?window.customElements.get(t.name):null;if(e&&e.isIoElement)return new e(t.props);const n=document.createElement(t.name);return setNativeElementProps(n,t.props),n},superCreateElement=document.createElement;document.createElement=function(){const t=arguments[0];if(t.startsWith("io-")){const e=customElements.get(t);return e?new e:superCreateElement.apply(this,arguments)}return superCreateElement.apply(this,arguments)};const setNativeElementProps=function(t,e){for(let n in e){const i=e[n];if(n.startsWith("@"))t.setAttribute(n.substr(1),i);else if("style"===n)for(let e in i)t.style.setProperty(e,i[e]);else"class"===n?t.className=i:"id"!==n&&(t[n]=i);"name"===n&&t.setAttribute("name",i)}t.__listeners||(Object.defineProperty(t,"__listeners",{value:new Listeners(t)}),t.__listeners.connect()),t.__listeners.setPropListeners(e,t)},mixinDB={},commentsRegex=new RegExp("(\\/\\*[\\s\\S]*?\\*\\/)","gi"),keyframeRegex=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi"),mediaQueryRegex=new RegExp("((@media [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi"),mixinRegex=new RegExp("((--[\\s\\S]*?): {([\\s\\S]*?)})","gi"),applyRegex=new RegExp("(@apply\\s.*?;)","gi"),cssRegex=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");function _initProtoStyle(t){const e=t[0].constructor.name.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n="io-style-"+e.replace("io-","");let i="",o=t[0].constructor.Style;if(o){const n=o.match(mixinRegex);if(n)for(let t=0;t<n.length;t++){const e=n[t].split(": {"),o=e[0],s=e[1].replace(/}/g,"").trim().replace(/^ +/gm,"");mixinDB[o]=s,i+=n[t].replace("--",".").replace(": {"," {")}for(let n=t.length;n--;){let o=t[n].constructor.Style;if(o){const t=(o=o.replace(mixinRegex,"")).match(applyRegex);if(t)for(let e=0;e<t.length;e++){const n=t[e].split("@apply ")[1].replace(";","");mixinDB[n]?o=o.replace(t[e],mixinDB[n]):console.warn("IoElement: cound not find mixin:",n)}{let t=o;const n=(t=(t=(t=t.replace(commentsRegex,"")).replace(keyframeRegex,"")).replace(mediaQueryRegex,"")).match(cssRegex);n&&n.map(t=>{(t=t.trim()).startsWith(":host")||(console.warn(e+': CSS Selector not prefixed with ":host"! This will cause style leakage!'),console.warn(t))})}i+=o.replace(new RegExp(":host","g"),e)}}}if(i){const t=document.createElement("style");t.innerHTML=i,t.setAttribute("id",n),document.head.appendChild(t)}}class EmulatedLocalStorage{get permited(){try{return self.localStorage.getItem("io-storage-user-permitted")}catch(t){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}}set permited(t){try{if(self.localStorage.setItem("io-storage-user-permitted",t),"true"===self.localStorage.getItem("io-storage-user-permitted")){for(let t in this.store)self.localStorage.setItem(t,this.store[t]),delete this.store[t];console.log("IoStorage: Saved localStorage state.")}}catch(t){console.warn("IoStorage: Cannot access localStorage. Check browser privacy settings!")}}constructor(){Object.defineProperty(this,"store",{value:{},writable:!0}),Object.defineProperty(this,"warned",{value:!1,writable:!0})}setItem(t,e){"true"===this.permited?self.localStorage.setItem(t,e):(this.store[t]="object"==typeof e?JSON.stringify(e):String(e),this.warned||("false"===this.permited?console.warn("IoStorage: localStorage permission denied by user."):console.warn("IoStorage: localStorage pending permission by user."),this.warned=!0),"io-storage-user-permitted"===t&&(this.permited=this.store[t]))}getItem(t){return"true"===this.permited?self.localStorage.getItem(t):this.store[t]}removeItem(t){if("true"===this.permited)return self.localStorage.removeItem(t);delete this.store[t]}clear(){if("true"===this.permited)return self.localStorage.clear();this.store={}}}const localStorage=new EmulatedLocalStorage,nodes={};let hashes={};const parseHashes=function(){return self.location.hash.substr(1).split("&").reduce(function(t,e){const n=e.split("=");return t[n[0]]=n[1],t},{})},getHashes=function(){hashes=self.location.hash.substr(1).split("&").reduce(function(t,e){const n=e.split("=");return t[n[0]]=n[1],t},{});for(let t in hashes)if(nodes[t]&&""!==nodes[t]){const e=hashes[t].replace(/%20/g," ");isNaN(e)?nodes[t].value="true"===e||"false"===e?JSON.parse(e):e:nodes[t].value=JSON.parse(e)}for(let t in nodes)"hash"!==nodes[t].storage||hashes[t]||(nodes[t].value=nodes[t].default)},setHashes=function(t){let e="";for(let n in nodes)"hash"!==nodes[n].storage&&!t||void 0===nodes[n].value||""===nodes[n].value||nodes[n].value===nodes[n].default||("string"==typeof nodes[n].value?e+=n+"="+nodes[n].value+"&":e+=n+"="+JSON.stringify(nodes[n].value)+"&");for(let t in hashes)t&&!nodes[t]&&(e+=t+"="+hashes[t]+"&");e=e.slice(0,-1),self.location.hash=e,self.location.hash||history.replaceState({},document.title,self.location.pathname+self.location.search)};self.addEventListener("hashchange",getHashes,!1),getHashes();class IoStorage extends IoNode{static get Properties(){return{key:String,value:void 0,default:void 0,storage:void 0}}constructor(t){super(Object.assign({default:t.value},t)),t.key&&(nodes[t.key]=nodes[t.key]||this),this.binding=this.bind("value"),this.getStorageValue(),this.connect(window)}getStorageValue(){switch(this.storage){case"hash":if(void 0!==hashes[this.key]){const t=hashes[this.key].replace(/%20/g," ");try{this.value=JSON.parse(t)}catch(e){this.value=t}}else this.value=this.default;break;case"local":{const t="/"!==self.location.pathname?self.location.pathname+this.key:this.key,e=localStorage.getItem(t);this.value=null!==e&&void 0!==e?JSON.parse(e):this.default;break}default:this.value=this.default}}valueChanged(){switch(this.storage){case"hash":setHashes();break;case"local":{const t="/"!==self.location.pathname?self.location.pathname+this.key:this.key;null===this.value||void 0===this.value?localStorage.removeItem(t):localStorage.setItem(t,JSON.stringify(this.value));break}}}}IoStorage.Register();const IoStorageFactory=function(t){return t&&"string"==typeof t&&(t={key:t}),t&&t.key&&nodes[t.key]?(t.storage&&(nodes[t.key].storage=t.storage),void 0!==t.value&&(nodes[t.key].default=t.value),nodes[t.key].binding):new IoStorage(t).binding};Object.defineProperty(IoStorageFactory,"permitted",{get:()=>localStorage.permited,set:t=>{localStorage.permited=t}});const themePropDefaults={cssSpacing:2,cssBorderRadius:3,cssBorderWidth:1,cssStrokeWidth:1,cssLineHeight:22,cssItemHeight:0,cssFontSize:14},themeDBDefaults={light:Object.assign({cssBackgroundColor:[.95,.95,.95,1],cssBackgroundColorLight:[1,1,1,1],cssBackgroundColorDark:[.84,.84,.84,1],cssBackgroundColorField:[.92,.92,.92,1],cssColor:[.16,.16,.16,1],cssColorError:[.91,.5,.5,1],cssColorLink:[.2,.75,.2,1],cssColorFocus:[.3,.6,1,1],cssColorField:[0,0,0,1],cssColorNumber:[.12,.64,1,1],cssColorString:[.95,.25,.1,1],cssColorBoolean:[.82,.35,.75,1],cssColorBorder:[.7,.7,.7,1],cssColorBorderLight:[1,1,1,1],cssColorBorderDark:[.6,.6,.6,1],cssColorGradientStart:[.9,.9,.9,1],cssColorGradientEnd:[.75,.75,.75,1],cssColorShadow:[0,0,0,.2]},themePropDefaults),dark:Object.assign({cssBackgroundColor:[.164,.164,.164,1],cssBackgroundColorLight:[.22,.22,.22,1],cssBackgroundColorDark:[.25,.25,.25,1],cssBackgroundColorField:[.137,.137,.137,1],cssColor:[.823,.823,.823,1],cssColorError:[1,.376,.062,1],cssColorLink:[.75,.9,.59,1],cssColorFocus:[.3,.82,1.4,1],cssColorField:[.75,.75,.75,1],cssColorNumber:[.125,.64,1,1],cssColorString:[.94,.25,.086,1],cssColorBoolean:[.82,.35,.75,1],cssColorBorder:[.3,.3,.3,1],cssColorBorderLight:[.4,.4,.4,1],cssColorBorderDark:[0,0,0,1],cssColorGradientStart:[1,1,1,.1],cssColorGradientEnd:[0,0,0,.2],cssColorShadow:[0,0,0,.2]},themePropDefaults)},themeDB=IoStorageFactory({value:JSON.parse(JSON.stringify(themeDBDefaults)),storage:"local",key:"themeDB"});class IoTheme extends IoElement{static get Style(){return"\n\t\t--io-item: {\n\t\t\talign-self: flex-start;\n\t\t\tdisplay: inline-block;\n\t\t\tcursor: pointer;\n\t\t\tuser-select: none;\n\t\t\t-webkit-tap-highlight-color: transparent;\n\t\t\t-webkit-user-select: none;\n\t\t\t-webkit-touch-callout: none;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tflex-wrap: nowrap;\n\t\t\twhite-space: nowrap;\n\t\t\tbox-sizing: border-box;\n\t\t\tline-height: var(--io-line-height);\n\t\t\theight: var(--io-item-height);\n\t\t\tfont-size: var(--io-font-size);\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: transparent;\n\t\t\tcolor: var(--io-color);\n\t\t\tbackground-color: transparent;\n\t\t\tbackground-image: none;\n\t\t\tpadding: var(--io-spacing);\n\t\t\ttransition: background-color 0.25s;\n\t\t}\n\t\t--io-panel: {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t\tborder-radius: calc(var(--io-border-radius) + var(--io-spacing));\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-outset);\n\t\t\tcolor: var(--io-color-field);\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tpadding: var(--io-spacing);\n\t\t}\n\t\t--io-content: {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t\tflex: 1 1 auto;\n\t\t\toverflow-x: hidden;\n\t\t\toverflow-y: auto;\n\t\t\t-webkit-overflow-scrolling: touch;\n\t\t\t-webkit-tap-highlight-color: transparent;\n\t\t}\n\t\t--io-row: {\n\t\t\tdisplay: flex;\n\t\t\tflex: 1 1;\n\t\t\tflex-direction: row;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t--io-column: {\n\t\t\tdisplay: flex;\n\t\t\tflex: 1 1;\n\t\t\tflex-direction: column;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t--io-table2: {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(2, 1fr);\n\t\t\tgrid-gap: var(--io-spacing);\n\t\t}\n\t\t--io-table3: {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t\tgrid-gap: var(--io-spacing);\n\t\t}\n\t\t--io-table4: {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(4, 1fr);\n\t\t\tgrid-gap: var(--io-spacing);\n\t\t}\n\t\t--io-table5: {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: repeat(5, 1fr);\n\t\t\tgrid-gap: var(--io-spacing);\n\t\t}\n\t\t"}static get Properties(){const t=!!window.matchMedia("(prefers-color-scheme: dark)").matches,e=IoStorageFactory({value:t?"dark":"light",storage:"local",key:"theme"}),n=themeDB.value[e.value];return{theme:e,cssSpacing:n.cssSpacing,cssBorderRadius:n.cssBorderRadius,cssBorderWidth:n.cssBorderWidth,cssStrokeWidth:n.cssStrokeWidth,cssLineHeight:n.cssLineHeight,cssItemHeight:n.cssItemHeight,cssFontSize:n.cssFontSize,cssBackgroundColor:{value:n.cssBackgroundColor,observe:!0},cssBackgroundColorLight:{value:n.cssBackgroundColorLight,observe:!0},cssBackgroundColorDark:{value:n.cssBackgroundColorDark,observe:!0},cssBackgroundColorField:{value:n.cssBackgroundColorField,observe:!0},cssColor:{value:n.cssColor,observe:!0},cssColorError:{value:n.cssColorError,observe:!0},cssColorLink:{value:n.cssColorLink,observe:!0},cssColorFocus:{value:n.cssColorFocus,observe:!0},cssColorField:{value:n.cssColorField,observe:!0},cssColorNumber:{value:n.cssColorNumber,observe:!0},cssColorString:{value:n.cssColorString,observe:!0},cssColorBoolean:{value:n.cssColorBoolean,observe:!0},cssColorBorder:{value:n.cssColorBorder,observe:!0},cssColorBorderLight:{value:n.cssColorBorderLight,observe:!0},cssColorBorderDark:{value:n.cssColorBorderDark,observe:!0},cssColorGradientStart:{value:n.cssColorGradientStart,observe:!0},cssColorGradientEnd:{value:n.cssColorGradientEnd,observe:!0},cssColorShadow:{value:n.cssColorShadow,observe:!0},lazy:!0}}constructor(t){super(t),this.variablesElement=document.createElement("style"),this.variablesElement.setAttribute("id","io-theme-variables"),document.head.appendChild(this.variablesElement)}_toCss(t){const e=Math.floor(255*t[0]),n=Math.floor(255*t[1]),i=Math.floor(255*t[2]);return void 0!==t[3]?`rgba(${e}, ${n}, ${i}, ${t[3]})`:`rgb(${e}, ${n}, ${i})`}reset(){themeDB.value=Object.assign({},JSON.parse(JSON.stringify(themeDBDefaults))),this.themeChanged()}themeChanged(){const t=themeDB.value[this.theme];this.setProperties({cssSpacing:t.cssSpacing,cssBorderRadius:t.cssBorderRadius,cssBorderWidth:t.cssBorderWidth,cssStrokeWidth:t.cssStrokeWidth,cssLineHeight:t.cssLineHeight,cssItemHeight:t.cssItemHeight,cssFontSize:t.cssFontSize,cssBackgroundColor:t.cssBackgroundColor,cssBackgroundColorLight:t.cssBackgroundColorLight,cssBackgroundColorDark:t.cssBackgroundColorDark,cssBackgroundColorField:t.cssBackgroundColorField,cssColor:t.cssColor,cssColorError:t.cssColorError,cssColorLink:t.cssColorLink,cssColorFocus:t.cssColorFocus,cssColorField:t.cssColorField,cssColorNumber:t.cssColorNumber,cssColorString:t.cssColorString,cssColorBoolean:t.cssColorBoolean,cssColorBorder:t.cssColorBorder,cssColorBorderLight:t.cssColorBorderLight,cssColorBorderDark:t.cssColorBorderDark,cssColorGradientStart:t.cssColorGradientStart,cssColorGradientEnd:t.cssColorGradientEnd,cssColorShadow:t.cssColorShadow})}changed(){this.__properties.cssItemHeight.value=this.cssLineHeight+2*(this.cssSpacing+this.cssBorderWidth),this.variablesElement.innerHTML=`\n\t\t\tbody {\n\t\t\t\t--io-spacing: ${this.cssSpacing}px;\n\t\t\t\t--io-border-radius: ${this.cssBorderRadius}px;\n\t\t\t\t--io-border-width: ${this.cssBorderWidth}px;\n\t\t\t\t--io-stroke-width: ${this.cssStrokeWidth}px;\n\t\t\t\t--io-line-height: ${this.cssLineHeight}px;\n\t\t\t\t--io-item-height: ${this.cssItemHeight}px;\n\t\t\t\t--io-font-size: ${this.cssFontSize}px;\n\n\t\t\t\t--io-background-color: ${this._toCss(this.cssBackgroundColor)};\n\t\t\t\t--io-background-color-light: ${this._toCss(this.cssBackgroundColorLight)};\n\t\t\t\t--io-background-color-dark: ${this._toCss(this.cssBackgroundColorDark)};\n\t\t\t\t--io-background-color-field: ${this._toCss(this.cssBackgroundColorField)};\n\n\t\t\t\t--io-color: ${this._toCss(this.cssColor)};\n\t\t\t\t--io-color-error: ${this._toCss(this.cssColorError)};\n\t\t\t\t--io-color-link: ${this._toCss(this.cssColorLink)};\n\t\t\t\t--io-color-focus: ${this._toCss(this.cssColorFocus)};\n\t\t\t\t--io-color-field: ${this._toCss(this.cssColorField)};\n\t\t\t\t--io-color-number: ${this._toCss(this.cssColorNumber)};\n\t\t\t\t--io-color-string: ${this._toCss(this.cssColorString)};\n\t\t\t\t--io-color-boolean: ${this._toCss(this.cssColorBoolean)};\n\t\t\t\t--io-color-border: ${this._toCss(this.cssColorBorder)};\n\t\t\t\t--io-color-border-light: ${this._toCss(this.cssColorBorderLight)};\n\t\t\t\t--io-color-border-dark: ${this._toCss(this.cssColorBorderDark)};\n\t\t\t\t--io-color-gradient-start: ${this._toCss(this.cssColorGradientStart)};\n\t\t\t\t--io-color-gradient-end: ${this._toCss(this.cssColorGradientEnd)};\n\t\t\t\t--io-color-shadow: ${this._toCss(this.cssColorShadow)};\n\n\n\t\t\t\t--io-border: var(--io-border-width) solid var(--io-color-border);\n\t\t\t\t--io-border-error: var(--io-border-width) solid var(--io-color-error);\n\t\t\t\t--io-color-border-inset: var(--io-color-border-dark) var(--io-color-border-light) var(--io-color-border-light) var(--io-color-border-dark);\n\t\t\t\t--io-color-border-outset: var(--io-color-border-light) var(--io-color-border-dark) var(--io-color-border-dark) var(--io-color-border-light);\n\n\t\t\t\t--io-gradient-button: linear-gradient(180deg, var(--io-color-gradient-start), var(--io-color-gradient-end) 100%);\n\t\t\t\t--io-gradient-error: repeating-linear-gradient(135deg, transparent, var(--io-color-error) 1px, var(--io-color-error) 4px, transparent 6px);\n\n\t\t\t\t--io-shadow: 2px 2px 6px var(--io-color-shadow),\n\t\t\t\t\t\t\t\t\t\t 1px 1px 1px var(--io-color-shadow);\n\t\t\t\t--io-shadow-inset: 1px 1px 2px inset var(--io-color-shadow);\n\t\t\t\t--io-shadow-outset: -1px -1px 2px inset var(--io-color-shadow);\n\t\t\t}\n\t\t`;const t=themeDB.value[this.theme];for(let e in this.__properties)e.startsWith("css")&&(t[e]=this.__properties[e].value);themeDB.value=Object.assign({},themeDB.value),this.dispatchEvent("object-mutated",{object:this},!1,window)}}IoTheme.Register();const IoThemeSingleton=new IoTheme;IoThemeSingleton.connect();class IoItem extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\t@apply --io-item;\n\t\t}\n\t\t:host[selected] {\n\t\t\tcolor: var(--io-color-link);\n\t\t\tbackground-color: var(--io-background-color-light);\n\t\t}\n\t\t:host:focus {\n\t\t\tz-index: 200;\n\t\t\tposition: relative;\n\t\t\ttext-overflow: inherit;\n\t\t\tborder-color: var(--io-color-focus);\n\t\t\toutline-color: var(--io-color-focus);\n\t\t}\n\t\t"}static get Properties(){return{value:void 0,selected:{type:Boolean,reflect:!0},tabindex:0}}static get Listeners(){return{focus:"_onFocus",pointerdown:"_onPointerdown",click:"_onClick"}}constructor(t){super(t),Object.defineProperty(this,"_textNode",{value:document.createTextNode(""),writable:!0}),this.appendChild(this._textNode)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("keyup",this._onKeydown),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup)}_onFocus(){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown),this.addEventListener("keyup",this._onKeyup)}_onBlur(){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("keyup",this._onKeyup)}_onPointerdown(t){t.preventDefault(),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerleave",this._onPointerleave),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(){}_onPointerleave(){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup)}_onPointerup(){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerleave",this._onPointerleave),this.removeEventListener("pointerup",this._onPointerup),this.focus()}_onClick(){this.dispatchEvent("item-clicked",{value:this.value,label:this.label},!0)}_onKeydown(t){"Enter"===t.key||" "===t.key?(t.preventDefault(),this._onClick(t)):"ArrowLeft"===t.key?(t.preventDefault(),this.focusTo("left")):"ArrowUp"===t.key?(t.preventDefault(),this.focusTo("up")):"ArrowRight"===t.key?(t.preventDefault(),this.focusTo("right")):"ArrowDown"===t.key&&(t.preventDefault(),this.focusTo("down"))}_onKeyup(){}changed(){let t;if(this.label)t=this.label,this.title=this.label;else{let e;e=this.value&&"object"==typeof this.value?`${this.value.constructor.name}`+(this.value instanceof Array?`(${this.value.length})`:""):String(this.value),this.title=e,t=e}this.textNode=t}getCaretPosition(){let t=0;const e=window.getSelection();if(e.rangeCount){const n=e.getRangeAt(0),i=n.toString().length,o=n.cloneRange();o.selectNodeContents(this),o.setEnd(n.endContainer,n.endOffset),t=o.toString().length-i}return t}setCaretPosition(t){if(!t)return;const e=window.getSelection(),n=document.createRange();n.setStart(this.firstChild,t),n.collapse(!0),e.removeAllRanges(),e.addRange(n)}}IoItem.Register();class IoContent extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\t@apply --io-content;\n\t\t}\n\t\t:host:not([expanded]) {\n\t\t\tdisplay: none;\n\t\t}\n\t\t"}static get Properties(){return{elements:{type:Array,observe:!0},expanded:{type:Boolean,reflect:1},cache:Boolean}}changed(){this.expanded?this.template([this.elements]):this.cache||this.template([null])}}IoContent.Register();const canvas=document.createElement("canvas"),gl=canvas.getContext("webgl",{antialias:!1,premultipliedAlpha:!0});gl.imageSmoothingEnabled=!1,gl.getExtension("OES_standard_derivatives"),gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),gl.disable(gl.DEPTH_TEST);const positionBuff=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,positionBuff),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([-1,1,0,-1,-1,0,1,-1,0,1,1,0]),gl.STATIC_DRAW),gl.bindBuffer(gl.ARRAY_BUFFER,null);const uvBuff=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,uvBuff),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),gl.STATIC_DRAW),gl.bindBuffer(gl.ARRAY_BUFFER,null);const indexBuff=gl.createBuffer();gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuff),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([3,2,1,3,1,0]),gl.STATIC_DRAW),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,null),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,indexBuff);const shadersCache=new WeakMap;let currentProgram;class IoGl extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden !important;\n\t\t\t-webkit-tap-highlight-color: transparent;\n\t\t\tuser-select: none;\n\t\t\tbox-sizing: border-box;\n\t\t}\n\t\t:host > .io-gl-canvas {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tborder-radius: calc(var(--io-border-radius) - var(--io-border-width));\n\t\t\tpointer-events: none;\n\t\t\t/* image-rendering: pixelated; */\n\t\t}\n\t\t"}static get Properties(){return{size:[0,0],color:{value:[1,1,1,1],observe:!0},pxRatio:1,css:{type:Object,observe:!0}}}static get Vert(){return"\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = vec4(position, 1.0);\n\t\t\t}\n\n"}static get GlUtils(){return"\n\t\t#ifndef saturate\n\t\t\t#define saturate(v) clamp(v, 0., 1.)\n\t\t#endif\n\n\t\tvec2 translate(vec2 samplePosition, vec2 xy){\n\t\t\treturn samplePosition - vec2(xy.x, xy.y);\n\t\t}\n\t\tvec2 translate(vec2 samplePosition, float x, float y){\n\t\t\treturn samplePosition - vec2(x, y);\n\t\t}\n\t\tfloat circle(vec2 samplePosition, float radius){\n\t\t\treturn saturate((length(samplePosition) - radius) * uPxRatio);\n\t\t}\n\t\tfloat rectangle(vec2 samplePosition, vec2 halfSize){\n\t\t\tvec2 edgeDistance = abs(samplePosition) - halfSize;\n\t\t\tfloat outside = length(max(edgeDistance, 0.));\n\t\t\tfloat inside = min(max(edgeDistance.x, edgeDistance.y), 0.);\n\t\t\treturn saturate((outside + inside) * uPxRatio); // TODO: check\n\t\t}\n\t\tfloat grid(vec2 samplePosition, float gridWidth, float gridHeight, float lineWidth) {\n\t\t\tvec2 sp = samplePosition / vec2(gridWidth, gridHeight);\n\t\t\tfloat linex = abs(fract(sp.x - 0.5) - 0.5) * 2.0 / abs(max(dFdx(sp.x), dFdy(sp.x))) - lineWidth;\n\t\t\tfloat liney = abs(fract(sp.y - 0.5) - 0.5) * 2.0 / abs(max(dFdy(sp.y), dFdx(sp.y))) - lineWidth;\n\t\t\treturn saturate(min(linex, liney));\n\t\t}\n\t\tfloat checker(vec2 samplePosition, float size) {\n\t\t\tvec2 checkerPos = floor(samplePosition / size);\n\t\t\tfloat checkerMask = mod(checkerPos.x + mod(checkerPos.y, 2.0), 2.0);\n\t\t\treturn checkerMask;\n\t\t}\n\n"}static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 position = uSize * vUv;\n\t\t\t\tfloat gridWidth = 8. * uPxRatio;\n\t\t\t\tfloat lineWidth = 1. * uPxRatio;\n\t\t\t\tfloat gridShape = grid(position, gridWidth, gridWidth, lineWidth);\n\t\t\t\tgl_FragColor = mix(vec4(vUv, 0.0, 1.0), uColor, gridShape);\n\t\t\t}\n\n"}initPropertyUniform(t,e){if(e.notify)switch(e.type){case Boolean:return"uniform int "+t+";\n";case Number:return"uniform float "+t+";\n";case Array:return this._vecLengths[t]=e.value.length,"uniform vec"+e.value.length+" "+t+";\n"}return""}initShader(){let t="\n\t\t#extension GL_OES_standard_derivatives : enable\n\t\tprecision highp float;\n";for(let e in this.css.__properties){const n=this.css.__protoProperties[e];t+=this.initPropertyUniform(e,n)}t+="\n";for(let e in this.__properties){const n="u"+e.charAt(0).toUpperCase()+e.slice(1),i=this.__protoProperties[e];t+=this.initPropertyUniform(n,i)}for(let e=this.__protochain.length;e--;){const n=this.__protochain[e].constructor,i=Object.getOwnPropertyDescriptor(n,"GlUtils");i&&i.get&&(t+=n.GlUtils)}const e=gl.createShader(gl.VERTEX_SHADER);if(gl.shaderSource(e,this.constructor.Vert),gl.compileShader(e),!gl.getShaderParameter(e,gl.COMPILE_STATUS)){let t=gl.getShaderInfoLog(e);console.error("IoGl [Vertex Shader] "+this.localName+" error:"),console.warn(t)}const n=gl.createShader(gl.FRAGMENT_SHADER);if(gl.shaderSource(n,t+this.constructor.Frag),gl.compileShader(n),!gl.getShaderParameter(n,gl.COMPILE_STATUS)){let t=gl.getShaderInfoLog(n);console.error("IoGl [Frament Shader] "+this.localName+" error:"),console.warn(t)}const i=gl.createProgram();return gl.attachShader(i,e),gl.attachShader(i,n),i}constructor(t){super(t),this.css=IoThemeSingleton,this._vecLengths={};for(let t in this.css.__properties){const e=this.css.__protoProperties[t];e.notify&&e.type===Array&&(this._vecLengths[t]=e.value.length)}for(let t in this.__properties){const e="u"+t.charAt(0).toUpperCase()+t.slice(1),n=this.__protoProperties[t];n.notify&&n.type===Array&&(this._vecLengths[e]=n.value.length)}shadersCache.has(this.constructor)?this._shader=shadersCache.get(this.constructor):(this._shader=this.initShader(),shadersCache.set(this.constructor,this._shader)),gl.linkProgram(this._shader);const e=gl.getAttribLocation(this._shader,"position");gl.bindBuffer(gl.ARRAY_BUFFER,positionBuff),gl.vertexAttribPointer(e,3,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(e);const n=gl.getAttribLocation(this._shader,"uv");gl.bindBuffer(gl.ARRAY_BUFFER,uvBuff),gl.vertexAttribPointer(n,2,gl.FLOAT,!1,0,0),gl.enableVertexAttribArray(n),this.render=this.render.bind(this),this.template([["canvas",{id:"canvas",class:"io-gl-canvas"}]]),this.$.canvas.ctx=this.$.canvas.getContext("2d"),this.updateCssUniforms()}onResized(){const t=window.devicePixelRatio,e=this.getBoundingClientRect(),n=window.getComputedStyle(this),i=parseInt(n.borderRightWidth)+parseInt(n.borderLeftWidth),o=parseInt(n.borderTopWidth)+parseInt(n.borderBottomWidth),s=Math.max(0,Math.floor(e.width-i)),r=Math.max(0,Math.floor(e.height-o));(s!==this.size[0]||r!==this.size[1]||t!==this.pxRatio)&&(this.$.canvas.style.width=Math.floor(s)+"px",this.$.canvas.style.height=Math.floor(r)+"px",this.$.canvas.width=Math.floor(s*t),this.$.canvas.height=Math.floor(r*t),this.setProperties({size:[s,r],pxRatio:t}))}cssMutated(){this.updateCssUniforms(),this.requestAnimationFrameOnce(this.render)}changed(){window.ResizeObserver?this.requestAnimationFrameOnce(this.render):setTimeout(()=>{this.onResized(),this.requestAnimationFrameOnce(this.render)})}render(){const t=this.size[0]*this.pxRatio,e=this.size[1]*this.pxRatio;if(t&&e){this.setShaderProgram();for(let t in this.__properties){const e="u"+t.charAt(0).toUpperCase()+t.slice(1);this.updatePropertyUniform(e,this.__properties[t])}canvas.width=t,canvas.height=e,gl.viewport(0,0,t,e),gl.drawElements(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0),this.$.canvas.ctx.drawImage(canvas,0,0)}}setShaderProgram(){currentProgram!==this._shader&&(currentProgram=this._shader,gl.useProgram(this._shader))}updatePropertyUniform(t,e){this.setShaderProgram(),e.notify&&this.setUniform(t,e.type,e.value)}updateCssUniforms(){for(let t in this.css.__properties)this.updatePropertyUniform(t,this.css.__properties[t])}setUniform(t,e,n){const i=gl.getUniformLocation(this._shader,t);let o;switch(e){case Boolean:gl.uniform1i(i,n?1:0);break;case Number:gl.uniform1f(i,void 0!==n?n:1);break;case Array:switch(o=[0,1,2,3],n instanceof Array||"object"!=typeof n||(void 0!==n.x?o=["x","y","z","w"]:void 0!==n.r?o=["r","g","b","a"]:void 0!==n.h?o=["h","s","v","a"]:void 0!==n.c&&(o=["c","m","y","k"])),this._vecLengths[t]){case 2:if(void 0===n){gl.uniform2f(i,0,0);break}gl.uniform2f(i,void 0!==n[o[0]]?n[o[0]]:1,void 0!==n[o[1]]?n[o[1]]:1);break;case 3:if(void 0===n){gl.uniform3f(i,0,0,0);break}gl.uniform3f(i,void 0!==n[o[0]]?n[o[0]]:1,void 0!==n[o[1]]?n[o[1]]:1,void 0!==n[o[2]]?n[o[2]]:1);break;case 4:if(void 0===n){gl.uniform4f(i,0,0,0,0);break}gl.uniform4f(i,void 0!==n[o[0]]?n[o[0]]:1,void 0!==n[o[1]]?n[o[1]]:1,void 0!==n[o[2]]?n[o[2]]:1,void 0!==n[o[3]]?n[o[3]]:1)}}}}IoGl.Register();class IoButton extends IoItem{static get Style(){return"\n\t\t:host {\n\t\t\ttext-align: center;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-outset);\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tbackground-image: var(--io-gradient-button);\n\t\t\tpadding-left: calc(2 * var(--io-spacing));\n\t\t\tpadding-right: calc(2 * var(--io-spacing));\n\t\t}\n\t\t:host[pressed] {\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t}\n\t\t"}static get Properties(){return{action:Function,value:void 0,pressed:{type:Boolean,reflect:!0},label:"Button",role:"button"}}_onPointerdown(t){super._onPointerdown(t),this.pressed=!0}_onPointerleave(t){super._onPointerleave(t),this.pressed=!1}_onPointerup(t){super._onPointerup(t),this.pressed=!1}_onKeydown(t){super._onKeydown(t),"Enter"!==t.key&&" "!==t.key||(this.pressed=!0)}_onKeyup(t){super._onKeyup(t),this.pressed=!1}_onClick(){super._onClick(),"function"==typeof this.action&&this.action(this.value)}}IoButton.Register();class IoBoolean extends IoItem{static get Style(){return"\n\t\t:host[aria-invalid] {\n\t\t\tborder: var(--io-border-error);\n\t\t\tbackground-image: var(--io-gradient-error);\n\t\t}\n\t\t"}static get Properties(){return{label:"Boolean",value:{type:Boolean,reflect:1},true:"true",false:"false",role:"switch"}}_onClick(){this.toggle()}toggle(){this.set("value",!this.value)}valueChanged(){this.setAttribute("value",Boolean(this.value))}changed(){this.title=this.label,this.textNode=this.value?this.true:this.false}setAria(){super.setAria(),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true")}}IoBoolean.Register();const IoIconsetDB={};class IoIconset extends IoNode{registerIcons(t,e){const n=document.createElement("div");n.innerHTML=e,n.querySelectorAll("[id]").forEach(e=>{IoIconsetDB[t]=IoIconsetDB[t]||{},IoIconsetDB[t][e.id]=e.outerHTML})}getIcon(t){const e=IoIconsetDB[t.split(":")[0]];if(e){const n=t.split(":")[1];if(e[n]){return`<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">${e[n].replace(' id="',' class="icon-id-')}</svg>`}}return'<svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet"></svg>'}}IoIconset.Register();const IoIconsetSingleton=new IoIconset,icons='\n<svg><g id="io">\t<ellipse fill="#83A61E" cx="5.4" cy="12.1" rx="3.4" ry="3.4"/>\t<path fill="#646464" d="M16.3,17.7c-3.1,0-5.6-2.6-5.6-5.6s2.6-5.6,5.6-5.6s5.6,2.6,5.6,5.6S19.3,17.7,16.3,17.7z M16.3,8.8\t\tc-1.8,0-3.3,1.5-3.3,3.2s1.5,3.2,3.3,3.2s3.3-1.5,3.3-3.2S18.1,8.8,16.3,8.8z"/></g><g id="io_logo">\t<path fill="#646464" d="M19.5,12.7c0.3-0.3,0.3-0.9,0-1.2l-0.7-0.7l-2.6-2.6c-0.3-0.3-0.3-0.9,0-1.2c0.3-0.3,0.9-0.3,1.2,0l3.8,3.8\t\tc0.7,0.7,0.7,1.8,0,2.6l-3.8,3.8c-0.3,0.3-0.9,0.3-1.2,0c-0.3-0.3-0.3-0.9,0-1.2"/>\t<path fill="#646464" d="M4.3,12.7c-0.3-0.3-0.3-0.9,0-1.2L5,10.8l2.6-2.6c0.3-0.3,0.3-0.9,0-1.2C7.3,6.7,6.7,6.7,6.4,7l-3.8,3.8\t\tc-0.7,0.7-0.7,1.8,0,2.6l3.8,3.8c0.3,0.3,0.9,0.3,1.2,0s0.3-0.9,0-1.2"/>\t<ellipse fill="#83A61E" cx="8.4" cy="12.1" rx="1.7" ry="1.7"/>\t<path fill="#646464" d="M13.9,14.9c-1.6,0-2.8-1.2-2.8-2.8s1.2-2.8,2.8-2.8s2.8,1.2,2.8,2.8S15.4,14.9,13.9,14.9z M13.9,10.4\t\tc-0.9,0-1.7,0.7-1.7,1.7c0,0.9,0.7,1.7,1.7,1.7c0.9,0,1.7-0.7,1.7-1.7C15.5,11.2,14.8,10.4,13.9,10.4z"/></g><g <g id="unlink">\t<path d="M3.9,12c0-1.7,1.4-3.2,3.2-3.2h4V7H7c-2.7,0-5,2.2-5,5s2.2,5,5,5h4v-1.9H7C5.2,15.1,3.9,13.7,3.9,12z M17,7h-4.1v1.9H17\t\tc1.7,0,3.2,1.4,3.2,3.2s-1.4,3.2-3.2,3.2h-4.1v1.9H17c2.7,0,5-2.2,5-5S19.8,7,17,7z"/></g><g id="link">\t<path d="M3.9,12c0-1.7,1.4-3.2,3.2-3.2h4V7H7c-2.7,0-5,2.2-5,5s2.2,5,5,5h4v-1.9H7C5.2,15.1,3.9,13.7,3.9,12z M8,13h8.1v-2H8V13z\t\t M17,7h-4.1v1.9H17c1.7,0,3.2,1.4,3.2,3.2s-1.4,3.2-3.2,3.2h-4.1v1.9H17c2.7,0,5-2.2,5-5S19.8,7,17,7z"/></g><g id="gear">\t<path d="M21.3,14.6L19.2,13c0-0.3,0.1-0.6,0.1-1c0-0.3,0-0.6-0.1-1l2.1-1.7c0.2-0.2,0.2-0.4,0.1-0.6l-1.9-3.4\t\tc-0.1-0.2-0.3-0.2-0.6-0.2l-2.4,1c-0.5-0.3-1.1-0.7-1.7-1l-0.3-2.7c0-0.2-0.2-0.4-0.4-0.4h-4C9.8,2.3,9.5,2.4,9.5,2.7L9.1,5.3\t\tC8.5,5.5,8,5.8,7.5,6.3l-2.4-1c-0.2-0.1-0.5,0-0.7,0.2L2.5,8.8C2.4,9.1,2.4,9.3,2.6,9.5l2.1,1.7c0,0.3-0.1,0.6-0.1,1s0,0.6,0.1,1\t\tl-2.1,1.7c-0.2,0.2-0.2,0.4-0.1,0.6l1.9,3.4C4.5,19,4.7,19,5,19l2.4-1c0.5,0.4,1.1,0.7,1.7,1l0.4,2.7c0,0.2,0.3,0.4,0.6,0.4H14\t\tc0.2,0,0.4-0.2,0.5-0.4l0.3-2.7c0.6-0.2,1.2-0.5,1.7-1l2.4,1c0.2,0.1,0.4,0,0.6-0.2l1.9-3.4C21.6,15.1,21.5,14.8,21.3,14.6z\t\t M11.9,15.6c-2,0-3.7-1.7-3.7-3.7s1.7-3.6,3.7-3.6s3.7,1.7,3.7,3.7S13.9,15.6,11.9,15.6z"/></g><g id="less">\t<path d="M6.6,20.3L8.3,22l3.7-4l3.7,4l1.7-1.7l-5.3-5.7L6.6,20.3z M17.3,3.8l-1.7-1.7l-3.7,4l-3.7-4L6.6,3.8l5.3,5.7L17.3,3.8z"/></g><g id="more">\t<path d="M11.9,5.3l3.7,3.5l1.7-1.6L12,2.1L6.6,7.2l1.7,1.6L11.9,5.3z M11.9,18.9l-3.7-3.5L6.6,17l5.3,5.1l5.3-5.1l-1.7-1.6\t\tL11.9,18.9z"/></g><g id="code">\t<path d="M9.4,16.6L4.8,12l4.6-4.6L8,6.1l-6,6l6,6L9.4,16.6z M14.5,16.6l4.6-4.6l-4.6-4.6L15.9,6l6,6l-6,6L14.5,16.6z"/></g><g id="tune">\t<path d="M2,17.6v2.2h6.6v-2.2H2z M2,4.3v2.2h11V4.3H2z M13,22v-2.2h8.9v-2.2H13v-2.2h-2.2V22H13z M6.4,8.7V11H2v2.2h4.4v2.2h2.2\t\tV8.7H6.4z M21.9,13.1v-2.2h-11v2.2H21.9z M15.3,8.7h2.2V6.5h4.4V4.3h-4.4V2.1h-2.2V8.7z"/></g><g id="unlock">\t<path d="M11.9,17.3c1,0,1.9-0.8,1.9-1.9s-0.8-1.9-1.9-1.9S10,14.3,10,15.4S11,17.3,11.9,17.3z M17.6,8.7h-0.9V6.8\t\tc-0.1-2.6-2.2-4.7-4.7-4.7S7.3,4.3,7.3,6.8H9c0-1.7,1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9v1.9H6.4c-1.1,0-1.9,0.8-1.9,1.9v9.5\t\tc0,1.1,0.8,1.9,1.9,1.9h11.2c1,0,1.9-0.8,1.9-1.9v-9.5C19.4,9.6,18.6,8.7,17.6,8.7z M17.6,20.1H6.4v-9.5h11.2V20.1z"/></g><g id="lock">\t<path d="M11.9,17.3c1,0,1.9-0.8,1.9-1.9s-0.8-1.9-1.9-1.9S10,14.3,10,15.4S11,17.3,11.9,17.3z M17.6,8.7h-0.9V6.8\t\tc-0.1-2.6-2.2-4.7-4.7-4.7S7.3,4.3,7.3,6.8v1.9H6.4c-1.1,0-1.9,0.8-1.9,1.9v9.5c0,1.1,0.8,1.9,1.9,1.9h11.2c1,0,1.9-0.8,1.9-1.9\t\tv-9.5C19.4,9.6,18.6,8.7,17.6,8.7z M9,6.8c0-1.7,1.3-2.9,2.9-2.9s2.9,1.3,2.9,2.9v1.9H9V6.8z M17.6,20.1H6.4v-9.5h11.2V20.1z"/></g><g id="more_horizontal">\t<path d="M4.5,9.6C3.1,9.6,2,10.7,2,12.1s1.1,2.5,2.5,2.5S7,13.5,7,12.1S5.9,9.6,4.5,9.6z M19.4,9.6c-1.4,0-2.5,1.1-2.5,2.5\t\ts1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S20.8,9.6,19.4,9.6z M11.9,9.6c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5\t\tS13.4,9.6,11.9,9.6z"/></g><g id="more_vertical">\t<path d="M11.9,7.1c1.4,0,2.5-1.1,2.5-2.5s-1.1-2.5-2.5-2.5S9.5,3.2,9.5,4.6S10.5,7.1,11.9,7.1z M11.9,9.6c-1.4,0-2.5,1.1-2.5,2.5\t\ts1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5S13.4,9.6,11.9,9.6z M11.9,17.1c-1.4,0-2.5,1.1-2.5,2.5s1.1,2.5,2.5,2.5s2.5-1.1,2.5-2.5\t\tS13.4,17.1,11.9,17.1z"/></g><g id="chevron_left">\t<path d="M18.1,4.4l-2.3-2.3l-10,10l10,10l2.3-2.3l-7.6-7.6L18.1,4.4z"/></g><g id="chevron_up">\t<path d="M11.9,5.9l-10,10l2.3,2.3l7.6-7.6l7.6,7.6l2.3-2.3L11.9,5.9z"/></g><g id="chevron_down">\t<path d="M4.3,5.9l7.6,7.6l7.6-7.6l2.3,2.3l-10,10L2,8.2L4.3,5.9z"/></g><g id="chevron_right">\t<path d="M5.8,19.7l7.6-7.6L5.8,4.4l2.3-2.3l10,10l-10,10L5.8,19.7z"/></g><g id="arrow_left">\t<path d="M21.9,10.8H6.7l7-7L12,2.1l-10,10l10,10l1.7-1.7l-7-7h15.2V10.8z"/></g><g id="arrow_down">\t<path d="M21.9,12.1l-1.7-1.7l-7,7V2.1h-2.5v15.2l-7-7L2,12.1l10,10L21.9,12.1z"/></g><g id="arrow_up">\t<path d="M2,12.1l1.7,1.7l7-7V22h2.5V6.8l7,7l1.7-1.7l-10-10L2,12.1z"/></g><g id="arrow_right">\t<path d="M2,13.3h15.2l-7,7l1.7,1.7l10-10l-10-10l-1.7,1.7l7,7H2V13.3z"/></g><g id="arrow_end">\t<polygon points="7.6,3.8 14.6,10.8 2,10.8 2,13.3 14.6,13.3 7.6,20.3 9.4,22 19.3,12.1 9.4,2.1 \t"/>\t<rect x="19.4" y="2.1" width="2.5" height="19.9"/></g><g id="arrow_home">\t<polygon points="16.3,20.3 9.3,13.3 21.9,13.3 21.9,10.8 9.3,10.8 16.3,3.8 14.5,2.1 4.6,12.1 14.5,22 \t"/>\t<rect x="2" y="2.1" width="2.5" height="19.9"/></g><g id="chevron_end">\t<path d="M2,4.4L9.6,12L2,19.7L4.3,22l10-10L4.3,2L2,4.4z M18.6,2.1h3.3V22h-3.3V2.1z"/></g><g id="chevron_home">\t<path d="M21.9,19.7l-7.6-7.6l7.6-7.6l-2.3-2.3l-10,10l10,10L21.9,19.7z M5.3,22H2V2.1h3.3V22z"/></g><g id="check">\t<path d="M8.3,16.5l-4.7-4.7L2,13.3l6.3,6.3L21.9,6.1l-1.6-1.6L8.3,16.5z"/></g><g id="close">\t<path d="M21.9,4.1l-2-2l-8,8l-8-8l-2,2l8,8l-8,8l2,2l8-8l8,8l2-2l-8-8L21.9,4.1z"/></g><g id="circle">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8\t\ts8,3.6,8,8S16.4,20,11.9,20z"/></g><g id="circle_minus">\t<path d="M7,11.1v2h10v-2C16.9,11.1,7,11.1,7,11.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\t\t M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/></g><g id="circle_plus">\t<path d="M12.9,7.1h-2v4H7v2h4v4h2v-4h4v-2h-4v-4H12.9z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1\t\tz M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/></g><g id="circle_close">\t<path d="M14.5,8.1l-2.6,2.6L9.4,8.1L8,9.5l2.6,2.6L8,14.6L9.4,16l2.6-2.6l2.6,2.6l1.4-1.4L13.4,12L16,9.4L14.5,8.1z M11.9,2.1\t\tc-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8\t\tS16.4,20,11.9,20z"/></g><g id="circle_triangle_right">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8\t\ts8,3.6,8,8S16.4,20,11.9,20z"/>\t<polygon points="10,16.6 15.9,12.1 10,7.6 \t"/></g><g id="circle_triangle_down">\t<path d="M21.9,12.1c0-5.5-4.5-10-10-10S2,6.6,2,12.1s4.5,10,10,10S21.9,17.5,21.9,12.1z M4,12.1c0-4.4,3.6-8,8-8s8,3.6,8,8\t\ts-3.6,8-8,8S4,16.5,4,12.1z"/>\t<polygon points="7.5,10.1 11.9,16.1 16.4,10.1 \t"/></g><g id="circle_triangle_left">\t<path d="M11.9,22c5.5,0,10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1S6.5,22,11.9,22z M11.9,4.1c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8\t\tS7.5,4.1,11.9,4.1z"/>\t<polygon points="13.9,7.6 8,12.1 13.9,16.6 \t"/></g><g id="circle_triangle_up">\t<path d="M2,12.1c0,5.5,4.5,10,10,10s10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1z M19.9,12.1c0,4.4-3.6,8-8,8s-8-3.6-8-8s3.6-8,8-8\t\tS19.9,7.7,19.9,12.1z"/>\t<polygon points="16.4,14.1 11.9,8.1 7.5,14.1 \t"/></g><g id="triangle_right">\t<polygon points="9.1,16.5 14.9,12 9.1,7.5 \t"/></g><g id="triangle_down">\t<polygon points="7.6,9 11.9,15 16.5,9 \t"/></g><g id="triangle_left">\t<polygon points="14.9,7.5 9.1,12 14.9,16.5 \t"/></g><g id="triangle_up">\t<polygon points="16.5,15 11.9,9 7.6,15 \t"/></g><g id="circle_pause">\t<path d="M9,16.1h2v-8H9V16.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20\t\tc-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M12.9,16.1h2v-8h-2V16.1z"/></g><g id="circle_info">\t<path d="M11,17.1h2v-6h-2V17.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20\t\tc-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M11,9.1h2v-2h-2C11,7.1,11,9.1,11,9.1z"/></g><g id="circle_warning">\t<path d="M11,15.1h2v2h-2V15.1z M11,7.1h2v6h-2V7.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\t\t M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/></g><g id="circle_help">\t<path d="M11,18h2v-2h-2C11,16.1,11,18,11,18z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z\t\t M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z M11.9,6.1c-2.2,0-4,1.8-4,4h2c0-1.1,0.9-2,2-2s2,0.9,2,2\t\tc0,2-3,1.8-3,5h2c0-2.3,3-2.5,3-5C15.9,7.9,14.1,6.1,11.9,6.1z"/></g><g id="circle_checked">\t<path d="M11.9,7.1c-2.8,0-5,2.2-5,5s2.2,5,5,5s5-2.2,5-5S14.8,7.1,11.9,7.1z M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10\t\ts10-4.5,10-10S17.4,2.1,11.9,2.1z M11.9,20c-4.4,0-8-3.6-8-8s3.6-8,8-8s8,3.6,8,8S16.4,20,11.9,20z"/></g><g id="circle_location">\t<path d="M20,11.2c-0.4-3.8-3.4-6.8-7.1-7.1v-2H11V4c-3.8,0.3-6.8,3.3-7.1,7.1H2V13h1.9c0.4,3.8,3.4,6.8,7.1,7.1V22h1.8v-1.9\t\tc3.8-0.4,6.8-3.4,7.1-7.1h1.9v-1.8C21.9,11.2,20,11.2,20,11.2z M11.9,18.4c-3.6,0-6.3-2.8-6.3-6.3s2.7-6.3,6.3-6.3s6.3,2.8,6.3,6.3\t\tS15.5,18.4,11.9,18.4z"/></g><g id="circle_location_checked">\t<path d="M11.9,8.4c-2,0-3.7,1.7-3.7,3.7s1.7,3.7,3.7,3.7s3.7-1.7,3.7-3.7S13.9,8.4,11.9,8.4z M20,11.2c-0.4-3.8-3.4-6.8-7.1-7.1v-2\t\tH11V4c-3.8,0.3-6.8,3.3-7.1,7.1H2V13h1.9c0.4,3.8,3.4,6.8,7.1,7.1V22h1.8v-1.9c3.8-0.4,6.8-3.4,7.1-7.1h1.9v-1.8\t\tC21.9,11.2,20,11.2,20,11.2z M11.9,18.4c-3.6,0-6.3-2.8-6.3-6.3s2.7-6.3,6.3-6.3s6.3,2.8,6.3,6.3S15.5,18.4,11.9,18.4z"/></g><g id="circle_fill">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z"/></g><g id="circle_fill_checked">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M10,17.1l-5-5l1.4-1.4l3.6,3.6l7.6-7.6\t\tL19,8.1L10,17.1z"/></g><g id="circle_fill_minus">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M16.9,13.1H7v-2h10v2H16.9z"/></g><g id="circle_fill_plus">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M16.9,13.1h-4v4h-2v-4H7v-2h4v-4h2v4h4v2\t\tH16.9z"/></g><g id="circle_fill_arrow_down">\t<path d="M21.9,12.1c0-5.5-4.5-10-10-10S2,6.6,2,12.1s4.5,10,10,10S21.9,17.5,21.9,12.1z M7.5,10.1h9l-4.5,6L7.5,10.1z"/></g><g id="circle_fill_arrow_left">\t<path d="M11.9,22c5.5,0,10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1S6.5,22,11.9,22z M13.9,7.6v9l-6-4.5L13.9,7.6z"/></g><g id="circle_fill_arrow_up">\t<path d="M2,12.1c0,5.5,4.5,10,10,10s10-4.5,10-10s-4.5-10-10-10S2,6.6,2,12.1z M16.4,14.1h-9l4.5-6L16.4,14.1z"/></g><g id="circle_fill_arrow_right">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M10,16.6v-9l6,4.5L10,16.6z"/></g><g id="circle_fill_pause">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M11,16.1H9v-8h2V16.1z M14.9,16.1h-2v-8h2\t\tV16.1z"/></g><g id="circle_fill_info">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,17.1h-2v-6h2V17.1z M12.9,9.1h-2v-2h2\t\tC12.9,7.1,12.9,9.1,12.9,9.1z"/></g><g id="circle_fill_warning">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,17.1h-2v-2h2V17.1z M12.9,13.1h-2v-6h2\t\tC12.9,7.1,12.9,13.1,12.9,13.1z"/></g><g id="circle_fill_help">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M12.9,19h-2v-2h2C12.9,17.1,12.9,19,12.9,19z\t\t M15,11.4l-0.9,0.9c-0.8,0.7-1.2,1.3-1.2,2.8h-2v-0.6c0-1.1,0.4-2.1,1.2-2.8l1.2-1.3c0.4-0.3,0.6-0.8,0.6-1.4C14,8,13.1,7.1,12,7.1\t\ts-2,0.9-2,2H8c0-2.2,1.8-4,4-4s4,1.8,4,4C15.9,10,15.5,10.7,15,11.4z"/></g><g id="circle_fill_group">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10s10-4.5,10-10S17.4,2.1,11.9,2.1z M8,17.5c-1.4,0-2.5-1.1-2.5-2.5\t\ts1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S9.4,17.5,8,17.5z M9.5,8.1c0-1.4,1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5s-1.1,2.5-2.5,2.5\t\tS9.5,9.5,9.5,8.1z M15.9,17.5c-1.4,0-2.5-1.1-2.5-2.5s1.1-2.5,2.5-2.5s2.5,1.1,2.5,2.5S17.3,17.5,15.9,17.5z"/></g><g id="box">\t<path d="M19.7,4.3v15.5H4.2V4.3H19.7 M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3\t\tC21.9,3.1,20.9,2.1,19.7,2.1z"/></g><g id="box_fill">\t<path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z"/></g><g id="box_fill_checked">\t<path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z\t\t M9.8,17.6l-5.5-5.5l1.6-1.6l4,4l8.3-8.4l1.6,1.5L9.8,17.6z"/></g><g id="box_fill_minus">\t<path d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z\t\t M17.5,13.1H6.4v-2.2h11L17.5,13.1L17.5,13.1z"/></g><path id="box_fill_plus" d="M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3\tC21.9,3.1,20.9,2.1,19.7,2.1z M17.5,13.1h-4.4v4.4h-2.2v-4.4H6.4v-2.2h4.4V6.5H13v4.4h4.4L17.5,13.1L17.5,13.1z"/><g id="box_fill_gear">\t<path d="M11.9,9.8c-1.2,0-2.2,1-2.2,2.2s1,2.2,2.2,2.2s2.2-1,2.2-2.2S13.2,9.8,11.9,9.8z M19.7,2.1H4.2C3,2.1,2,3.1,2,4.3v15.5\t\tC2,21,3,22,4.2,22h15.5c1.2,0,2.2-1,2.2-2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z M17.8,12.1c0,0.2,0,0.5-0.1,0.7l1.7,1.2\t\tc0.2,0.1,0.2,0.3,0.1,0.5l-1.6,2.7c-0.1,0.2-0.3,0.2-0.5,0.2l-1.9-0.7c-0.4,0.3-0.8,0.6-1.3,0.7L14,19.5c0,0.2-0.2,0.3-0.4,0.3\t\th-3.1c-0.2,0-0.3-0.2-0.4-0.3l-0.2-2.1C9.4,17.2,9,17,8.6,16.7l-1.9,0.7c-0.2,0.1-0.4,0-0.5-0.2l-1.5-2.7c-0.1-0.2-0.1-0.4,0.1-0.5\t\tl1.7-1.2c-0.1-0.2-0.1-0.5-0.1-0.7s0-0.5,0.1-0.7l-1.7-1.2C4.4,9.9,4.4,9.7,4.5,9.6l1.6-2.7c0.1-0.2,0.2-0.3,0.4-0.2l1.9,0.7\t\tc0.4-0.3,0.8-0.6,1.3-0.7L10,4.6c0-0.2,0.2-0.3,0.4-0.3h3.1c0.2,0,0.3,0.2,0.4,0.3l0.2,2.1c0.5,0.2,0.9,0.4,1.3,0.7l1.9-0.7\t\tc0.2-0.1,0.4,0,0.5,0.2l1.6,2.7c0.1,0.2,0.1,0.4-0.1,0.5l-1.7,1.2C17.8,11.6,17.8,11.8,17.8,12.1z"/></g><g id="box_focus">\t<path d="M4.2,15.4H2v4.4C2,21,3,22,4.2,22h4.4v-2.2H4.2V15.4z M4.2,4.3h4.4V2.1H4.2C3,2.1,2,3.1,2,4.3v4.4h2.2V4.3z M19.7,2.1h-4.4\t\tv2.2h4.4v4.4h2.2V4.3C21.9,3.1,20.9,2.1,19.7,2.1z M19.7,19.8h-4.4V22h4.4c1.2,0,2.2-1,2.2-2.2v-4.4h-2.2V19.8z M11.9,7.7\t\tc-2.4,0-4.4,2-4.4,4.4s2,4.4,4.4,4.4s4.4-2,4.4-4.4S14.4,7.7,11.9,7.7z M11.9,14.3c-1.2,0-2.2-1-2.2-2.2s1-2.2,2.2-2.2\t\ts2.2,1,2.2,2.2S13.2,14.3,11.9,14.3z"/></g><g id="rows">\t<path d="M20.8,13.1H3.1c-0.6,0-1.1,0.5-1.1,1.1v6.6C2,21.5,2.5,22,3.1,22H21c0.6,0,1.1-0.5,1.1-1.1v-6.6\t\tC21.9,13.6,21.4,13.1,20.8,13.1z M20.8,2.1H3.1C2.5,2.1,2,2.6,2,3.2v6.6c0,0.6,0.5,1.1,1.1,1.1H21c0.6,0,1.1-0.5,1.1-1.1V3.2\t\tC21.9,2.6,21.4,2.1,20.8,2.1z"/></g><g id="columns">\t<path d="M6.2,2.1H3.1C2.5,2.1,2,2.8,2,3.5v17.1C2,21.4,2.5,22,3.1,22h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C7.2,2.8,6.7,2.1,6.2,2.1z\t\t M20.8,2.1h-3.2c-0.6,0-1.1,0.7-1.1,1.4v17.1c0,0.7,0.5,1.4,1.1,1.4h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C21.9,2.8,21.4,2.1,20.8,2.1z\t\t M13.5,2.1h-3.2c-0.6,0-1.1,0.7-1.1,1.4v17.1c0,0.7,0.5,1.4,1.1,1.4h3.2c0.6,0,1.1-0.7,1.1-1.4V3.5C14.6,2.8,14.1,2.1,13.5,2.1z"/></g><g id="dashboard">\t<path d="M2,13.1h8.9v-11H2V13.1z M2,22h8.9v-6.6H2V22z M13,22h8.9V11H13V22z M13,2.1v6.6h8.9V2.1H13z"/></g><g id="layer_add">\t<path d="M4,6.1H2v14c0,1.1,0.9,2,2,2h14v-2H4V6.1z M19.9,2.1H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12\t\tC21.9,3,21,2.1,19.9,2.1z M18.9,11.1h-4v4h-2v-4H9v-2h4v-4h2v4h4C18.9,9.1,18.9,11.1,18.9,11.1z"/></g><g id="layer_remove">\t<path d="M4,6.1H2v14c0,1.1,0.9,2,2,2h14v-2H4V6.1z"/>\t<path d="M19.9,2.1H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12C21.9,3,21,2.1,19.9,2.1z M18.9,11.1H9v-2h10v2\t\tH18.9z"/></g><g id="layer_to_back">\t<path d="M8.6,6.5H6.4v2.2h2.2V6.5L8.6,6.5z M8.6,11H6.4v2.2h2.2V11C8.5,11,8.6,11,8.6,11z M8.6,2.1c-1.2,0-2.2,1-2.2,2.2h2.2V2.1\t\tL8.6,2.1z M13,15.4h-2.2v2.2H13C13,17.5,13,15.4,13,15.4z M19.8,2.1v2.2H22C21.9,3.1,20.9,2.1,19.8,2.1z M13,2.1h-2.2v2.2H13V2.1z\t\t M8.6,17.6v-2.2H6.4C6.4,16.6,7.4,17.6,8.6,17.6z M19.8,13.1H22V11h-2.2V13.1z M19.8,8.7H22V6.5h-2.2V8.7z M19.8,17.6\t\tc1.2,0,2.2-1,2.2-2.2h-2.2V17.6z M4.1,6.5H2v13.3C2,21,3,22,4.1,22h13.3v-2.2H4.1C4.1,19.9,4.1,6.5,4.1,6.5z M15.3,4.3h2.2V2.1\t\th-2.2V4.3z M15.3,17.6h2.2v-2.2h-2.2V17.6z"/></g><g id="layer_to_front">\t<path d="M2,13.1h2.2V11H2V13.1z M2,17.6h2.2v-2.2H2V17.6z M4.1,22v-2.2H2C2,21,3,22,4.1,22z M2,8.7h2.2V6.5H2V8.7z M15.3,22h2.2\t\tv-2.2h-2.2V22z M19.8,2.1H8.6c-1.2,0-2.2,1-2.2,2.2v11.1c0,1.2,1,2.2,2.2,2.2h11c1.2,0,2.2-1,2.2-2.2V4.3\t\tC21.9,3.1,20.9,2.1,19.8,2.1z M19.8,15.4H8.6V4.3h11L19.8,15.4L19.8,15.4z M10.9,22H13v-2.2h-2.2C10.9,19.9,10.9,22,10.9,22z\t\t M6.4,22h2.2v-2.2H6.4V22z"/></g><g id="layer_image">\t<path d="M21.9,16.1v-12c0-1.1-0.9-2-2-2H8c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h12C21,18,21.9,17.1,21.9,16.1z M11,12.1l2,2.7\t\tl3-3.7l4,5H8L11,12.1z M2,6.1v14c0,1.1,0.9,2,2,2h14v-2H4v-14C4,6.1,2,6.1,2,6.1z"/></g><g id="image">\t<path d="M21.9,19.8V4.3c0-1.2-1-2.2-2.2-2.2H4.2C3,2.1,2,3.1,2,4.3v15.5C2,21,3,22,4.2,22h15.5C20.9,22,21.9,21,21.9,19.8z M8,13.7\t\tl2.7,3.3l3.9-5l5,6.6H4.2L8,13.7z"/></g><g id="label_fill">\t<path d="M17.3,5.6c-0.4-0.5-1-0.9-1.7-0.9H4.1C2.9,4.8,2,5.7,2,6.8v10.5c0,1.2,0.9,2.1,2.1,2.1h11.5c0.7,0,1.3-0.3,1.7-0.9l4.6-6.4\t\tL17.3,5.6z"/></g><g id="label">\t<path d="M17.3,5.6c-0.4-0.5-1-0.9-1.7-0.9H4.1C2.9,4.7,2,5.6,2,6.8v10.5c0,1.2,0.9,2.1,2.1,2.1h11.5c0.7,0,1.3-0.3,1.7-0.9l4.6-6.3\t\tL17.3,5.6z M15.6,17.3H4.1V6.8h11.5l3.7,5.2L15.6,17.3z"/></g><g id="backspace">\t<path d="M20.3,4.8H7.8c-0.6,0-1,0.2-1.3,0.7L2,12.1l4.5,6.6c0.3,0.4,0.7,0.7,1.3,0.7h12.5c0.9,0,1.7-0.7,1.7-1.7V6.3\t\tC21.9,5.4,21.2,4.8,20.3,4.8z M17.8,15l-1.2,1.2l-3-2.9l-3,2.9L9.5,15l3-2.9l-3-2.9L10.6,8l3,2.9l3-2.9l1.2,1.2l-3,2.9L17.8,15z"/></g><g id="redo">\t<path d="M18.3,11.2c-1.8-1.6-4.2-2.6-6.7-2.6c-4.6,0-8.3,3-9.7,7.1l2.2,0.7c1-3.1,4-5.3,7.4-5.3c1.9,0,3.7,0.7,5,1.8l-3.6,3.6h9\t\tV7.7L18.3,11.2z"/></g><g id="undo">\t<path d="M12.2,8.6c-2.6,0-4.9,1-6.7,2.6L2,7.7v8.8h8.8L7.2,13c1.3-1.2,3.1-1.8,5-1.8c3.4,0,6.3,2.2,7.4,5.3l2.2-0.8\t\tC20.6,11.6,16.8,8.6,12.2,8.6z"/></g><g id="reload">\t<path d="M19,5c-1.8-1.7-4.3-2.9-7.1-2.9c-5.5,0-10,4.5-10,10s4.5,10,10,10c4.7,0,8.6-3.2,9.6-7.5H19c-1,2.9-3.8,5-7.1,5\t\tc-4.2,0-7.5-3.3-7.5-7.5s3.3-7.5,7.5-7.5c2.1,0,3.9,0.8,5.2,2.2l-4,4h8.7V2.1L19,5z"/></g><g id="grid_fill">\t<path d="M4,8.1h4v-4H4V8.1z M10,20h4v-4h-4V20z M4,20h4v-4H4V20z M4,14.1h4v-4H4V14.1z M10,14.1h4v-4h-4V14.1z M15.9,4.1v4h4v-4\t\tC19.9,4.1,15.9,4.1,15.9,4.1z M10,8.1h4v-4h-4V8.1z M15.9,14.1h4v-4h-4V14.1z M15.9,20h4v-4h-4V20z"/></g><g id="grid">\t<path d="M19.9,2.1H4c-1.1,0-2,0.9-2,2V20c0,1.1,0.9,2,2,2h15.9c1.1,0,2-0.9,2-2V4.1C21.9,3,21,2.1,19.9,2.1z M8,20H4v-4h4\t\tC8,16.1,8,20,8,20z M8,14.1H4v-4h4V14.1z M8,8.1H4v-4h4C8,4.1,8,8.1,8,8.1z M13.9,20h-4v-4h4C13.9,16.1,13.9,20,13.9,20z\t\t M13.9,14.1h-4v-4h4V14.1z M13.9,8.1h-4v-4h4C13.9,4.1,13.9,8.1,13.9,8.1z M19.9,20h-4v-4h4C19.9,16.1,19.9,20,19.9,20z M19.9,14.1\t\th-4v-4h4V14.1z M19.9,8.1h-4v-4h4C19.9,4.1,19.9,8.1,19.9,8.1z"/></g><g id="search">\t<path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-2.9,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\t\tc1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\t\tS12.2,14.6,9.5,14.6z"/></g><g id="zoom_in">\t<path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-3,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\t\tc1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\t\tS12.2,14.6,9.5,14.6z M12.2,10.1H10v2.2H8.9v-2.2H6.6V9h2.2V6.8H10V9h2.2V10.1L12.2,10.1z"/></g><g id="zoom_out">\t<path d="M16.2,14.6h-0.9L15,14.3c1.1-1.2,1.7-3,1.7-4.7c0-4.1-3.2-7.3-7.3-7.3S2.1,5.5,2.1,9.6s3.2,7.3,7.3,7.3\t\tc1.8,0,3.5-0.7,4.7-1.7l0.3,0.3v0.9L20,22l1.7-1.7L16.2,14.6z M9.5,14.6c-2.8,0-5.1-2.2-5.1-5.1s2.2-5.1,5.1-5.1s5.1,2.2,5.1,5.1\t\tS12.2,14.6,9.5,14.6z M6.6,9h5.6v1.2H6.6V9z"/></g><g id="fullscreen">\t<path d="M4.8,14.9H2V22h7.1v-2.8H4.8V14.9z M2,9.2h2.8V4.9H9V2.1H2V9.2z M19.1,19.2h-4.2V22H22v-7.1h-2.8v4.3H19.1z M14.8,2.1v2.8\t\tH19v4.2h2.9v-7H14.8z"/></g><g id="fullscreen_off">\t<path d="M2,17.8h4.2V22H9v-7.1H2V17.8z M6.2,6.3H2v2.8h7.1v-7H6.2V6.3z M14.8,22h2.8v-4.2h4.3V15h-7.1C14.8,15,14.8,22,14.8,22z\t\t M17.7,6.3V2.1h-2.8v7.1H22V6.3H17.7z"/></g><g id="color_palette">\t<path d="M11.9,2.1c-5.5,0-10,4.5-10,10s4.5,10,10,10c0.9,0,1.7-0.7,1.7-1.7c0-0.4-0.2-0.8-0.4-1.1c-0.2-0.3-0.4-0.7-0.4-1.1\t\tc0-0.9,0.7-1.7,1.7-1.7h2c3.1,0,5.6-2.5,5.6-5.6C21.9,6.1,17.4,2.1,11.9,2.1z M5.9,12.1c-0.9,0-1.7-0.7-1.7-1.7S5,8.7,5.9,8.7\t\ts1.7,0.7,1.7,1.7S6.8,12.1,5.9,12.1z M9.2,7.7C8.3,7.7,7.5,6.9,7.5,6s0.7-1.7,1.7-1.7S10.9,5,10.9,6S10.1,7.7,9.2,7.7z M14.7,7.7\t\tC13.8,7.7,13,6.9,13,6s0.7-1.7,1.7-1.7c0.9,0,1.7,0.7,1.7,1.7S15.6,7.7,14.7,7.7z M18,12.1c-0.9,0-1.7-0.7-1.7-1.7S17,8.7,18,8.7\t\ts1.7,0.7,1.7,1.7S18.9,12.1,18,12.1z"/></g><g id="color_picker">\t<path d="M21.6,5L19,2.4c-0.4-0.4-1.2-0.4-1.6,0l-3.5,3.5l-2.1-2.2l-1.6,1.6l1.6,1.6L2,16.8V22h5.2l9.9-9.9l1.6,1.6l1.6-1.6L18.1,10\t\tl3.5-3.5C22,6.2,22,5.4,21.6,5z M6.3,19.8l-2.2-2.2l9-8.9l2.2,2.2L6.3,19.8z"/></g><g id="trash">\t<path d="M5.3,19.8c0,1.2,1,2.2,2.2,2.2h8.9c1.2,0,2.2-1,2.2-2.2V6.5H5.3V19.8z M19.7,3.2h-3.9l-1.1-1.1H9.2L8,3.2H4.2v2.2h15.5V3.2\t\tL19.7,3.2z"/></g><g id="trash_empty">\t<path d="M5.3,19.8c0,1.2,1,2.2,2.2,2.2h8.9c1.2,0,2.2-1,2.2-2.2V6.5H5.3V19.8z M8,11.9l1.6-1.5l2.3,2.3l2.3-2.3l1.6,1.6l-2.3,2.3\t\tl2.3,2.3l-1.6,1.6l-2.3-2.4l-2.3,2.3L8,16.6l2.3-2.3L8,11.9z M15.9,3.2l-1.2-1.1H9.2L8,3.2H4.2v2.2h15.5V3.2H15.9z"/></g><g id="developer">\t<path d="M21.9,9V6.9h-2v-2c0-1.2-0.9-2.1-2-2.1H4c-1.1,0-2,0.9-2,2.1v14.4c0,1.2,0.9,2.1,2,2.1h13.9c1.1,0,2-0.9,2-2.1v-2.1H22\t\tv-2.1h-2V13h2v-2h-2V9H21.9z M17.9,19.2H4V4.9h13.9V19.2L17.9,19.2z M6,13.1h5v4.1H6V13.1z M11.9,6.9h4V10h-4V6.9z M6,6.9h5V12H6\t\tV6.9z M11.9,11.1h4v6.1h-4V11.1z"/></g><g id="hub">\t<path d="M17.5,16.5L13,12.1V8.6c1.3-0.5,2.2-1.7,2.2-3.2c0-1.8-1.5-3.3-3.3-3.3S8.6,3.6,8.6,5.4c0,1.4,0.9,2.7,2.2,3.2v3.5\t\tl-4.4,4.4H2V22h5.6v-3.4l4.4-4.7l4.4,4.7V22H22v-5.6h-4.5V16.5z"/></g><g id="camera">\t<path d="M9.4,10.6l4.7-8.2c-0.7-0.2-1.4-0.2-2.2-0.2C9.5,2.2,7.3,3,5.6,4.4L9.4,10.6L9.4,10.6z M21.4,9.1c-0.9-2.9-3.2-5.2-6-6.3\t\tl-3.7,6.3H21.4z M21.8,10.1h-7.5l0.2,0.5l4.7,8.2c1.7-1.7,2.7-4.2,2.7-6.7C21.9,11.4,21.8,10.7,21.8,10.1z M8.5,12.1L4.6,5.3\t\tC3,7.1,2,9.5,2,12.1c0,0.7,0.1,1.3,0.2,2h7.5L8.5,12.1z M2.5,15.1c0.9,2.9,3.2,5.2,6,6.3l3.7-6.3C12.2,15.1,2.5,15.1,2.5,15.1z\t\t M13.7,15.1l-3.9,6.7C10.5,22,11.2,22,12,22c2.4,0,4.6-0.8,6.3-2.2l-3.7-6.3C14.6,13.5,13.7,15.1,13.7,15.1z"/></g><g id="camera_alt">\t<circle cx="11.9" cy="13.1" r="3.2"/>\t<path d="M9,3.1l-1.8,2H4c-1.1,0-2,0.9-2,2v12c0,1.1,0.9,2,2,2h15.9c1.1,0,2-0.9,2-2v-12c0-1.1-0.9-2-2-2h-3.2l-1.8-2\t\tC14.9,3.1,9,3.1,9,3.1z M11.9,18c-2.7,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S14.7,18,11.9,18z"/></g><g id="film">\t<path d="M13.9,5.9c0-1.1-0.9-1.9-2-1.9H11V3c0-0.5-0.4-0.9-0.9-0.9H6.2C5.7,2.1,5.3,2.5,5.3,3v0.9H4.4c-1.1,0-1.9,0.8-1.9,1.9V20\t\tc0,1.1,0.8,1.9,1.9,1.9H12c1.1,0,1.9-0.8,1.9-1.9h7.6V5.9H13.9z M11.9,18.2H10v-1.9h1.9V18.2z M11.9,9.7H10V7.8h1.9V9.7z\t\t M15.8,18.2h-1.9v-1.9h1.9V18.2z M15.8,9.7h-1.9V7.8h1.9V9.7z M19.5,18.2h-1.9v-1.9h1.9V18.2z M19.5,9.7h-1.9V7.8h1.9V9.7z"/></g><g id="visibility">\t<path d="M12,5.3c-4.5,0-8.3,2.8-9.9,6.7c1.5,3.9,5.4,6.7,9.9,6.7s8.3-2.8,9.9-6.7C20.3,8,16.5,5.3,12,5.3z M12,16.5\t\tc-2.5,0-4.5-2-4.5-4.5s2-4.5,4.5-4.5s4.5,2,4.5,4.5S14.5,16.5,12,16.5z M12,9.2c-1.5,0-2.7,1.2-2.7,2.7s1.2,2.7,2.7,2.7\t\ts2.7-1.2,2.7-2.7S13.5,9.2,12,9.2z"/></g><g id="visibility_off">\t<path d="M12,7.4c2.5,0,4.5,2,4.5,4.5c0,0.6-0.1,1.2-0.3,1.7l2.7,2.7c1.3-1.2,2.4-2.6,3.1-4.2c-1.6-4.1-5.4-6.8-9.9-6.8\t\tc-1.2,0-2.5,0.2-3.6,0.7l1.9,1.9C10.9,7.5,11.5,7.4,12,7.4z M3.1,4.9l2,2.1l0.4,0.4C4,8.6,2.8,10.2,2.1,11.9c1.6,4,5.4,6.7,9.9,6.7\t\tc1.4,0,2.7-0.2,3.9-0.7l0.4,0.4L19,21l1.2-1.2L4.1,3.8L3.1,4.9z M8,9.9l1.4,1.4c-0.1,0.2-0.1,0.4-0.1,0.6c0,1.5,1.2,2.7,2.7,2.7\t\tc0.2,0,0.4,0,0.6-0.1L14,16c-0.6,0.3-1.2,0.5-2,0.5c-2.5,0-4.5-2-4.5-4.5C7.5,11.2,7.7,10.5,8,9.9z M11.9,9.2l2.8,2.8v-0.2\t\tC14.7,10.4,13.4,9.2,11.9,9.2L11.9,9.2z"/></g><g id="layers">\t<path d="M11.9,19.5l-7.3-5.7L3,15l8.9,7l9-7l-1.6-1.2L11.9,19.5z M11.9,17l7.3-5.7l1.7-1.2l-9-6.9l-9,7l1.6,1.2L11.9,17z"/></g><g id="layers_off">\t<path d="M19.7,16l1.2-0.9l-1.4-1.4l-1.2,0.9L19.7,16z M19.3,11.3l1.7-1.2l-9-7L9,5.3l7.8,7.8C16.9,13.1,19.3,11.3,19.3,11.3z\t\t M3.3,2.1L2,3.3l4.2,4.2L2.9,10l1.6,1.2l7.3,5.7l2.1-1.6l1.4,1.4L12,19.4l-7.3-5.7l-1.6,1.2l8.9,7l4.9-3.8l3.7,3.7l1.2-1.2L3.3,2.1\t\tz"/></g><g id="hamburger">\t<path d="M20.9,9.1H3.2c-0.6,0-1.1,0.3-1.1,0.7V14c0,0.4,0.5,0.8,1.1,0.8h17.9c0.6,0,1.1-0.3,1.1-0.7V9.9C22,9.4,21.5,9.1,20.9,9.1z\t\t M20.9,2.1H3.2c-0.6,0-1.1,0.3-1.1,0.7V7c0,0.4,0.5,0.7,1.1,0.7h17.9c0.6,0,1.1-0.3,1.1-0.7V2.8C22,2.4,21.5,2.1,20.9,2.1z\t\t M20.9,16.5H3.2c-0.6,0-1.1,0.3-1.1,0.7v4.2c0,0.4,0.5,0.7,1.1,0.7h17.9c0.6,0,1.1-0.3,1.1-0.7v-4.2C22,16.8,21.5,16.5,20.9,16.5z"\t\t/></g></svg>';IoIconsetSingleton.registerIcons("icons",icons);class IoBoolicon extends IoBoolean{static get Style(){return"\n\t\t:host {\n\t\t\twidth: var(--io-item-height);\n\t\t\theight: var(--io-item-height);\n\t\t\tfill: var(--io-color, currentcolor);\n\t\t\tpadding: 0;\n\t\t}\n\t\t:host[stroke] {\n\t\t\tstroke: var(--io-background-color, currentcolor);\n\t\t\tstroke-width: var(--io-stroke-width);\n\t\t}\n\t\t:host > svg {\n\t\t\tpointer-events: none;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t\t:host > svg > g {\n\t\t\ttransform-origin: 0px 0px;\n\t\t}\n\t\t:host[aria-invalid] {\n\t\t\tborder: var(--io-border-error);\n\t\t\tbackground-image: var(--io-gradient-error);\n\t\t}\n\t\t"}static get Properties(){return{true:"icons:box_fill_checked",false:"icons:box",stroke:{value:!1,reflect:1}}}changed(){this.title=this.label,this.innerHTML=IoIconsetSingleton.getIcon(this.value?this.true:this.false)}setAria(){super.setAria(),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true")}}IoBoolicon.Register();class IoSwitch extends IoBoolean{static get Style(){return"\n\t\t:host {\n\t\t\tposition: relative;\n\t\t\twidth: calc(1.5 * var(--io-item-height));\n\t\t}\n\t\t:host:before {\n\t\t\tdisplay: inline-block;\n\t\t\tbox-sizing: border-box;\n\t\t\tposition: absolute;\n\t\t\tcontent: '';\n\t\t\ttop: var(--io-spacing);\n\t\t\tleft: 0;\n\t\t\twidth: calc(100% - calc(2 * var(--io-border-width)));\n\t\t\theight: var(--io-line-height);\n\t\t\tborder-radius: var(--io-line-height);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tbox-shadow: var(--io-shadow-inset);\n\t\t\ttransition: background-color 0.4s;\n\t\t}\n\t\t:host:after {\n\t\t\tdisplay: inline-block;\n\t\t\tbox-sizing: border-box;\n\t\t\tposition: absolute;\n\t\t\tcontent: '';\n\t\t\ttop: calc(var(--io-border-width) + var(--io-spacing));\n\t\t\tleft: var(--io-border-width);\n\t\t\theight: calc(var(--io-line-height) - calc(2 * var(--io-border-width)));\n\t\t\twidth: calc(var(--io-line-height) - calc(2 * var(--io-border-width)));\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-outset);\n\t\t\tborder-radius: var(--io-line-height);\n\t\t\ttransition-timing-function: ease-in-out;\n\t\t\ttransition: left 0.25s;\n\t\t}\n\t\t:host[value]:after {\n\t\t\tbackground-color: rgba(80, 210, 355, 0.75);\n\t\t\tleft: calc(calc(100% - var(--io-line-height)) - var(--io-border-width));\n\t\t}\n\t\t:host[aria-invalid] {\n\t\t\tborder: var(--io-border-error);\n\t\t\tbackground-image: var(--io-gradient-error);\n\t\t}\n\t\t:host:hover:before,\n\t\t:host[display=\"switch\"][value]:not([aria-invalid]):before {\n\t\t\tbackground-color: var(--io-background-color);\n\t\t}\n\t\t:host:focus:before,\n\t\t:host:focus:after {\n\t\t\tborder-color: var(--io-color-focus);\n\t\t}\n\t\t:host:focus {\n\t\t\toutline-color: var(--io-color-focus);\n\t\t}\n\t\t"}changed(){this.title=this.label}setAria(){super.setAria(),this.setAttribute("aria-checked",String(!!this.value)),this.setAttribute("aria-invalid","boolean"!=typeof this.value&&"true"),this.setAttribute("aria-label",this.label)}}IoSwitch.Register();class IoString extends IoItem{static get Style(){return"\n\t\t:host {\n\t\t\tcursor: text;\n\t\t\tuser-select: text;\n\t\t\t-webkit-user-select: text;\n\t\t\t-webkit-touch-callout: default;\n\t\t\tmin-width: var(--io-item-height);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tcolor: var(--io-color-field);\n\t\t\tbackground-color: var(--io-background-color-field);\n\t\t\tbox-shadow: var(--io-shadow-inset);\n\t\t}\n\t\t:host:before,\n\t\t:host:after {\n\t\t\tcontent: ' ';\n\t\t\twhite-space: pre;\n\t\t\tvisibility: hidden;\n\t\t}\n\t\t:host[aria-invalid] {\n\t\t\tborder: var(--io-border-error);\n\t\t\tbackground-image: var(--io-gradient-error);\n\t\t}\n\t\t"}static get Properties(){return{live:Boolean,value:String,contenteditable:!0,role:"textbox"}}_setFromTextNode(){const t=this.textNode;"string"==typeof this.value&&t!==String(this.value)&&this.set("value",t)}_tryParseFromTextNode(){const t=this.textNode;try{const e=JSON.parse(t.replace(/[\t\n\r ]+/g," "));this.set("value",e)}catch(e){console.warn("IoString: Cannot parse value",t),console.error(e),this._setFromTextNode()}}_onBlur(t){super._onBlur(t),this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0}_onPointerdown(){this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(){}_onPointerup(){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}_onKeyup(t){if(super._onKeyup(t),this.live){const t=this.getCaretPosition();this._setFromTextNode(),this.setCaretPosition(t)}}_onKeydown(t){const e=window.getSelection().getRangeAt(0),n=e.startOffset,i=e.endOffset,o=this.childNodes[0]?this.childNodes[0].length:0,s=e.startContainer===e.endContainer&&(e.startContainer===this.childNodes[0]||e.startContainer===this);"Enter"==t.key?(t.preventDefault(),t.shiftKey?this._tryParseFromTextNode():this._setFromTextNode()):"ArrowLeft"==t.key?(t.ctrlKey||s&&n===i&&0===n)&&(t.preventDefault(),this.focusTo("left")):"ArrowUp"==t.key?(t.ctrlKey||s&&n===i&&0===n)&&(t.preventDefault(),this.focusTo("up")):"ArrowRight"==t.key?(t.ctrlKey||s&&n===i&&n===o)&&(t.preventDefault(),this.focusTo("right")):"ArrowDown"==t.key&&(t.ctrlKey||s&&n===i&&n===o)&&(t.preventDefault(),this.focusTo("down"))}changed(){this.title=this.label,this.textNode=String(this.value).replace(new RegExp(" ","g")," ")}setAria(){super.setAria(),this.setAttribute("aria-invalid","string"!=typeof this.value&&"true")}}IoString.Register();let lastFocus=null;window.addEventListener("focusin",()=>{lastFocus=document.activeElement},{capture:!1}),window.addEventListener("blur",()=>{setTimeout(()=>{document.activeElement===document.body&&(lastFocus=null)})},{capture:!0});class IoLayer extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t\tvisibility: hidden;\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\tz-index: 100000;\n\t\t\tuser-select: none;\n\t\t\toverflow: hidden;\n\t\t\tpointer-events: none;\n\t\t\ttouch-action: none;\n\t\t\topacity: 0;\n\t\t\ttransition: opacity 0.25s;\n\t\t\tbackground: transparent;\n\t\t}\n\t\t:host[expanded] {\n\t\t\tpointer-events: all;\n\t\t\tvisibility: visible;\n\t\t\topacity: 1;\n\t\t\t/* background: rgba(0,0,0,0.2); */\n\t\t}\n\t\t:host > * {\n\t\t\tposition: absolute;\n\t\t\ttouch-action: none;\n\t\t}\n\t\t"}static get Properties(){return{expanded:{value:!1,reflect:1}}}static get Listeners(){return{pointerup:"_onPointerup",contextmenu:"_onContextmenu",focusin:"_onFocusIn",scroll:"_onScroll",wheel:"_onScroll",mousedown:"stopPropagation",mouseup:"stopPropagation",mousemove:"stopPropagation",touchstart:"stopPropagation",touchmove:"stopPropagation",touchend:"stopPropagation",keydown:"stopPropagation",keyup:"stopPropagation"}}constructor(t){super(t),Object.defineProperty(this,"x",{value:0,writable:!0}),Object.defineProperty(this,"y",{value:0,writable:!0})}stopPropagation(t){t.stopPropagation()}_onPointerup(t){t.composedPath()[0]===this&&this.requestAnimationFrameOnce(this._collapse)}_collapse(){this.expanded=!1}_onContextmenu(t){t.preventDefault()}_onFocusIn(t){t.stopPropagation()}_onScroll(t){t.composedPath()[0]===this&&this.requestAnimationFrameOnce(this._collapse)}nudgeDown(t,e,n,i,o){return e=Math.max(0,Math.min(e,window.innerWidth-i.width)),!!(n+i.height<window.innerHeight||o)&&(t.style.left=e+"px",t.style.top=n+"px",!0)}nudgeUp(t,e,n,i,o){return e=Math.max(0,Math.min(e,window.innerWidth-i.width)),!!(n-i.height>0||o)&&(t.style.left=e+"px",t.style.top=n-i.height+"px",!0)}nudgeRight(t,e,n,i,o){return!!(e+i.width<window.innerWidth||o)&&(t.style.left=e+"px",t.style.top=Math.min(n,window.innerHeight-i.height)+"px",!0)}nudgeLeft(t,e,n,i,o){return!!(e-i.width>0||o)&&(t.style.left=e-i.width+"px",t.style.top=Math.min(n,window.innerHeight-i.height)+"px",!0)}nudgePointer(t,e,n,i){return t.style.left=Math.max(0,Math.min(e,window.innerWidth-i.width))+"px",t.style.top=Math.max(0,Math.min(n,window.innerHeight-i.height))+"px",!0}setElementPosition(t,e,n){const i=t.getBoundingClientRect(),o=n.left,s=n.top,r=n.right,l=n.bottom,a=window.innerHeight-l,h=window.innerWidth-r;switch(e){case"pointer":this.nudgePointer(t,this.x+5,this.y+5,i);break;case"top":this.nudgeUp(t,o,s,i)||this.nudgeDown(t,o,l,i)||this.nudgeUp(t,o,s,i,s>a)||this.nudgeDown(t,o,l,i,s<=a);break;case"left":this.nudgeLeft(t,o,s,i)||this.nudgeRight(t,r,s,i)||this.nudgeLeft(t,o,s,i,o>h)||this.nudgeRight(t,r,s,i,o<=h);break;case"bottom":this.nudgeDown(t,o,l,i)||this.nudgeUp(t,o,s,i)||this.nudgeDown(t,o,l,i,a>s)||this.nudgeUp(t,o,s,i,a<=s);break;case"right":default:this.nudgeRight(t,r,s,i)||this.nudgeLeft(t,o,s,i)||this.nudgeRight(t,r,s,i,h>o)||this.nudgeLeft(t,o,s,i,h<=o)}}appendChild(t){super.appendChild(t),t.addEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}removeChild(t){super.removeChild(t),t.removeEventListener("expanded-changed",this.onChildExpanded),this.onChildExpanded()}onChildExpanded(){this.requestAnimationFrameOnce(this.onChildExpandedDelayed)}onChildExpandedDelayed(){for(let t=this.children.length;t--;)if(this.children[t].expanded)return void(this.expanded=!0);this.requestAnimationFrameOnce(this._collapse)}expandedChanged(){if(!this.expanded){for(let t=this.children.length;t--;)this.children[t].expanded=!1;lastFocus&&lastFocus.focus()}}}IoLayer.Register();const IoLayerSingleton=new IoLayer;document.body.appendChild(IoLayerSingleton);let lastFocus$1=null;window.addEventListener("focusin",()=>{lastFocus$1=document.activeElement},{capture:!1}),window.addEventListener("blur",()=>{setTimeout(()=>{document.activeElement===document.body&&(lastFocus$1=null)})},{capture:!0});class IoLadderStep extends IoItem{static get Style(){return"\n\t\t:host {\n\t\t\tpointer-events: all;\n\t\t\tdisplay: inline-block;\n\t\t\tcursor: ew-resize;\n\t\t\ttext-align: center;\n\t\t\tbackground-color: var(--io-background-color-light);\n\t\t\tcolor: var(--io-color);\n\t\t\talign-self: stretch;\n\t\t\ttouch-action: none;\n\t\t\twidth: 6em;\n\t\t}\n\t\t:host:before {\n\t\t\tfloat: left;\n\t\t\tcontent: '<';\n\t\t\topacity: 0.25;\n\t\t}\n\t\t:host:after {\n\t\t\tfloat: right;\n\t\t\tcontent: '>';\n\t\t\topacity: 0.25;\n\t\t}\n\t\t"}static get Properties(){return{role:"spinbutton",type:{value:"number",reflect:1}}}_onKeydown(t){let e=0;"Escape"===t.key||" "===t.key?this.dispatchEvent("ladder-step-collapse",{},!0):"ArrowLeft"===t.key||"Backspace"===t.key?(t.preventDefault(),e=-1*this.value):"ArrowUp"===t.key?(t.preventDefault(),this.focusTo("up")):"ArrowRight"===t.key||"Enter"===t.key?(t.preventDefault(),e=1*this.value):"ArrowDown"===t.key&&(t.preventDefault(),this.focusTo("down")),0!==e&&(this.dispatchEvent("ladder-step-change",{step:Number(e.toFixed(5)),round:t.shiftKey},!0),this.setAttribute("aria-valuenow",this.parentElement.value))}_onPointerdown(t){this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),this._startX=t.clientX}_onPointermove(t){const e=t.clientX-this._startX;if(Math.abs(e)>5){const n=Math.pow(e/5,2)*e<0?-1:1,i=e>0?Math.floor(n):Math.ceil(n);let o=this.value*i;this._startX=t.clientX,this.dispatchEvent("ladder-step-change",{step:Number(o.toFixed(5)),round:t.shiftKey},!0)}}_onPointerup(t){this.releasePointerCapture(t.pointerId),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.dispatchEvent("ladder-step-collapse",{},!0)}setAria(){super.setAria(),this.setAttribute("aria-valuemax",this.parentElement.max),this.setAttribute("aria-valuemin",this.parentElement.min),this.setAttribute("aria-valuenow",this.parentElement.value)}}IoLadderStep.Register();class IoLadder extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tposition: relative;\n\t\t\tpointer-events: none;\n\t\t\tuser-select: none;\n\t\t\t-webkit-tap-highlight-color: transparent;\n\t\t\t-webkit-user-select: none;\n\t\t\t-webkit-touch-callout: none;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t}\n\t\t:host:not([expanded]) {\n\t\t\tvisibility: hidden;\n\t\t}\n\t\t:host:not([expanded]) > io-ladder-step {\n\t\t\topacity: 0.5;\n\t\t}\n\t\t:host > io-ladder-step:nth-child(-n+5) {\n\t\t\tbox-shadow: 0 -1px 4px rgba(0,0,0,0.2);\n\t\t}\n\t\t:host > io-ladder-step:nth-child(n+6) {\n\t\t\tbox-shadow: 0 1px 4px rgba(0,0,0,0.2);\n\t\t}\n\t\t:host > .io-up1,\n\t\t:host > .io-down1{\n\t\t\tz-index: 4;\n\t\t\ttransition: opacity 0.1s, transform 0.1s;\n\t\t}\n\t\t:host > .io-up2,\n\t\t:host > .io-down2 {\n\t\t\tz-index: 3;\n\t\t\topacity: 0.8;\n\t\t\ttransition: opacity 0.2s, transform 0.2s;\n\t\t}\n\t\t:host:not([expanded]) > .io-up4 {\n\t\t\ttransform: translateY(calc(3 * var(--io-item-height)));\n\t\t}\n\t\t:host:not([expanded]) > .io-up3 {\n\t\t\ttransform: translateY(calc(2 * var(--io-item-height)));\n\t\t}\n\t\t:host:not([expanded]) > .io-up2 {\n\t\t\ttransform: translateY(calc(1 * var(--io-item-height)));\n\t\t}\n\t\t:host:not([expanded]) > .io-down2 {\n\t\t\ttransform: translateY(calc(-1 * var(--io-item-height)));\n\t\t}\n\t\t:host:not([expanded]) > .io-down3 {\n\t\t\ttransform: translateY(calc(-2 * var(--io-item-height)));\n\t\t}\n\t\t:host:not([expanded]) > .io-down4 {\n\t\t\ttransform: translateY(calc(-3 * var(--io-item-height)));\n\t\t}\n\t\t:host > .io-up3,\n\t\t:host > .io-down3 {\n\t\t\tz-index: 2;\n\t\t\topacity: 0.6;\n\t\t\ttransition: opacity 0.4s, transform 0.4s;\n\t\t}\n\t\t:host > .io-up4,\n\t\t:host > .io-down4 {\n\t\t\tz-index: 1;\n\t\t\topacity: 0.4;\n\t\t\ttransition: opacity 0.8s, transform 0.8s;\n\t\t}\n\t\t:host > io-ladder-step:hover,\n\t\t:host > io-ladder-step:focus {\n\t\t\tbackground-color: var(--io-background-color-light);\n\t\t\tborder-color: var(--io-color-focus);\n\t\t\ttransition: opacity 0.2s;\n\t\t\topacity: 1;\n\t\t}\n\t\t:host > .io-ladder-empty {\n\t\t\theight: var(--io-item-height);\n\t\t}\n\t\t:host > .io-ladder-center {\n\t\t\theight: calc(1.5 * var(--io-item-height));\n\t\t}\n\t\t"}static get Properties(){return{src:HTMLElement,conversion:1,expanded:{type:Boolean,reflect:1},min:-1/0,max:1/0,step:1e-4,role:"list"}}static get Listeners(){return{"ladder-step-change":"_onLadderStepChange","ladder-step-collapse":"_onLadderStepCollapse",focusin:"_onFocusIn"}}get value(){return this.src?this.src.value:0}_onFocusIn(t){t.stopPropagation()}_onFocusTo(t){t.stopPropagation();const e=t.composedPath()[0],n=this.src,i=t.detail.dir;if(n&&(e===this.querySelector(".io-up1")&&"down"===i||e===this.querySelector(".io-down1")&&"up"===i))return n.focus(),void(n.selectionStart=n.selectionEnd=n.textNode.length);super._onFocusTo(t)}_onLadderStepChange(t){const e=this.src;if(this.src){const n=t.detail.step,i=t.detail.round?Math.round(this.value/n)*n:this.value;let o=Math.min(this.max,Math.max(this.min,i+n));o=Number(o.toFixed(5)),e.set("value",o)}}_onLadderStepCollapse(){this.set("expanded",!1)}srcChanged(){const t=this.src;t&&this.setProperties({min:t.min,max:t.max,step:t.step,conversion:t.conversion})}expandedChanged(){const t=this.src;if(this.expanded)if(t){const e=t.getBoundingClientRect(),n=IoLayerSingleton.getBoundingClientRect();this.style.top=e.bottom-n.top+"px",this.style.left=e.left-n.left+"px",this.style.position="absolute",this.style.marginTop="calc(-5.25 * var(--io-item-height))"}else this.removeAttribute("style");else t&&"touch"!==t._pointerType?t.focus():lastFocus$1&&lastFocus$1.focus();this.dispatchEvent("expanded",{value:this.expanded},!0)}changed(){const t=this.max-this.min,e=["span",{class:"io-ladder-empty"}];let n=this.step/1e4;for(;n<.1;)n*=10;const i=1e4*n,o=1e3*n,s=100*n,r=10*n,l=1*n,a=.1*n,h=.01*n,c=.001*n,d=Number((i*this.conversion).toFixed(6)),u=Number((o*this.conversion).toFixed(6)),p=Number((s*this.conversion).toFixed(6)),g=Number((r*this.conversion).toFixed(6)),v=Number((l*this.conversion).toFixed(6)),m=Number((a*this.conversion).toFixed(6)),f=Number((h*this.conversion).toFixed(6)),b=Number((c*this.conversion).toFixed(6));this.template([t>=i?["io-ladder-step",{class:"io-up4",value:i,label:d}]:e,t>=o?["io-ladder-step",{class:"io-up3",value:o,label:u}]:e,t>=s?["io-ladder-step",{class:"io-up2",value:s,label:p}]:e,t>=r?["io-ladder-step",{class:"io-up1",value:r,label:g}]:e,["span",{class:"io-ladder-center"}],this.step<=l?["io-ladder-step",{class:"io-down1",value:l,label:v}]:e,this.step<=a?["io-ladder-step",{class:"io-down2",value:a,label:m}]:e,this.step<=h?["io-ladder-step",{class:"io-down3",value:h,label:f}]:e,this.step<=c?["io-ladder-step",{class:"io-down4",value:c,label:b}]:e]);const y=this.querySelectorAll("io-ladder-step");for(let t=y.length;t--;)y[t].setAria()}}IoLadder.Register();const IoLadderSingleton=new IoLadder;IoLayerSingleton.appendChild(IoLadderSingleton);class IoNumber extends IoItem{static get Style(){return"\n\t\t:host {\n\t\t\tcursor: text;\n\t\t\tuser-select: text;\n\t\t\t-webkit-user-select: text;\n\t\t\t-webkit-touch-callout: default;\n\t\t\tmin-width: var(--io-item-height);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tcolor: var(--io-color-field);\n\t\t\tbackground-color: var(--io-background-color-field);\n\t\t\tbox-shadow: var(--io-shadow-inset);\n\t\t}\n\t\t:host:before,\n\t\t:host:after {\n\t\t\tcontent: ' ';\n\t\t\twhite-space: pre;\n\t\t\tvisibility: hidden;\n\t\t}\n\t\t:host:before {\n\t\t\tcontent: '-';\n\t\t}\n\t\t:host:not([positive]):before {\n\t\t\tcontent: ' ';\n\t\t}\n\t\t:host[aria-invalid] {\n\t\t\tborder: var(--io-border-error);\n\t\t\tbackground-image: var(--io-gradient-error);\n\t\t}\n\t\t"}static get Properties(){return{value:Number,conversion:1,step:.001,min:-1/0,max:1/0,ladder:!1,contenteditable:!0,role:"textbox",type:{value:"number",reflect:1},pattern:{value:'pattern="[0-9]*"',reflect:1},inputmode:{value:"numeric",reflect:1},spellcheck:{value:"false",reflect:1}}}constructor(t){super(t),Object.defineProperty(this,"_pointer",{value:"touch",writable:!0})}_onPointerdown(t){"touch"===this._pointer&&t.preventDefault(),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),document.activeElement===this&&0===t.button||(this._pointer=t.pointerType)}_onPointerup(t){this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.ladder||1===t.button?("touch"===this._pointer?(t.preventDefault(),document.activeElement.blur()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length)),this._expandLadder()):document.activeElement!==this&&(this.focus(),this.setCaretPosition(this.textNode.length))}_onFocus(t){super._onFocus(t),"touch"===this._pointer&&(IoLadderSingleton.expanded=!1)}_onBlur(t){super._onBlur(t),this._setFromTextNode(),this.scrollTop=0,this.scrollLeft=0,setTimeout(()=>{document.activeElement.parentElement!==IoLadderSingleton&&(IoLadderSingleton.expanded=!1)})}_expandLadder(){IoLadderSingleton.src=this,IoLadderSingleton.expanded=!0}_onKeydown(t){const e=window.getSelection().getRangeAt(0),n=e.startOffset,i=e.endOffset,o=this.childNodes[0]?this.childNodes[0].length:0,s=e.startContainer===e.endContainer&&(e.startContainer===this.childNodes[0]||e.startContainer===this);if(27===t.which||13===t.which||32===t.which)t.preventDefault(),this._setFromTextNode();else if(36===t.which)this.textNode=this.min,this._setFromTextNode();else if(35===t.which)this.textNode=this.max,this._setFromTextNode();else if(33===t.which){const t=Number(this.textNode);"number"==typeof t&&!isNaN(t)&&Math.abs(t)<1/0?this.textNode=Number(this.textNode)+this.step:this.textNode=this.step,this._setFromTextNode()}else if(34===t.which){const t=Number(this.textNode);"number"==typeof t&&!isNaN(t)&&Math.abs(t)<1/0?this.textNode=Number(this.textNode)-this.step:this.textNode=-this.step,this._setFromTextNode()}else if(37===t.which)(t.ctrlKey||s&&n===i&&0===n)&&(t.preventDefault(),this.focusTo("left"));else if(38===t.which)if(IoLadderSingleton.expanded){const t=IoLadderSingleton.querySelector(".io-up1");t&&t.focus()}else(t.ctrlKey||s&&n===i&&0===n)&&(t.preventDefault(),this.focusTo("up"));else if(39===t.which)(t.ctrlKey||s&&n===i&&n===o)&&(t.preventDefault(),this.focusTo("right"));else if(40===t.which)if(IoLadderSingleton.expanded){const t=IoLadderSingleton.querySelector(".io-down1");t&&t.focus()}else(t.ctrlKey||s&&n===i&&n===o)&&(t.preventDefault(),this.focusTo("down"))}_onKeyup(t){17===t.which?this._expandLadder():27!==t.which&&13!==t.which&&32!==t.which||(IoLayerSingleton.expanded=!1)}_setFromTextNode(){let t=this.textNode,e=Number(t)/this.conversion;e=Math.min(this.max,Math.max(this.min,e)),e=Math.round(e/this.step)*this.step;let n=Math.max(0,Math.min(100,-Math.floor(Math.log(this.step)/Math.LN10)));e=Number(e.toFixed(n)),isNaN(e)?this.textNode="NaN":this.set("value",e)}changed(){this.title=this.label;let t,e=this.value;if("number"!=typeof e||isNaN(e))t="NaN";else{e*=this.conversion;let n=-Math.floor(Math.log(this.step*this.conversion)/Math.LN10);n=Math.max(0,Math.min(100,n)),e=e.toFixed(n),t=Number(String(e))}this.textNode=t,this.setAttribute("positive",this.value>=0)}setAria(){super.setAria(),this.setAttribute("aria-invalid",!("number"==typeof this.value&&!isNaN(this.value))&&"true")}}IoNumber.Register();class IoSlider extends IoGl{static get Style(){return"\n\t\t:host {\n\t\t\tcursor: ns-resize;\n\t\t\tbox-sizing: border-box;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tmin-width: var(--io-item-height);\n\t\t\tmin-height: var(--io-item-height);\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host[horizontal] {\n\t\t\tcursor: ew-resize;\n\t\t}\n\t\t:host[aria-invalid] {\n\t\t\tborder: var(--io-border-error);\n\t\t\tbackground-image: var(--io-gradient-error);\n\t\t}\n\t\t:host[aria-invalid] > .io-gl-canvas {\n\t\t\topacity: 0.5;\n\t\t}\n\t\t:host:focus {\n\t\t\tborder-color: var(--io-color-focus);\n\t\t\toutline-color: var(--io-color-focus);\n\t\t}\n\t\t"}static get Properties(){return{value:0,step:.01,min:0,max:1,exponent:1,horizontal:{value:!0,reflect:1},noscroll:!1,role:"slider",tabindex:0,lazy:!0}}static get Listeners(){return{focus:"_onFocus",contextmenu:"_onContextmenu",pointerdown:"_onPointerdown",touchstart:"_onTouchstart"}}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup),this.removeEventListener("touchstart",this._onTouchstart),this.removeEventListener("touchmove",this._onTouchmove),this.removeEventListener("touchend",this._onTouchend)}_onFocus(){this.addEventListener("blur",this._onBlur),this.addEventListener("keydown",this._onKeydown)}_onBlur(){this.removeEventListener("blur",this._onBlur),this.removeEventListener("keydown",this._onKeydown)}_onContextmenu(t){t.preventDefault()}_onTouchstart(t){this.addEventListener("touchmove",this._onTouchmove),this.addEventListener("touchend",this._onTouchend),this._x=t.changedTouches[0].clientX,this._y=t.changedTouches[0].clientY,this._active=this.noscroll?1:-1}_onTouchmove(t){const e=Math.abs(this._x-t.changedTouches[0].clientX),n=Math.abs(this._y-t.changedTouches[0].clientY);-1===this._active&&(this.horizontal?e>3&&e>n&&(this._active=e>n&&n<10?1:0):n>3&&n>e&&(this._active=n>e&&e<10?1:0)),1===this._active&&t.preventDefault()}_onTouchend(){this.removeEventListener("touchmove",this._onTouchmove),this.removeEventListener("touchend",this._onTouchend)}_onPointerdown(t){this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup)}_onPointermove(t){"touch"!==t.pointerType&&(this._active=1),this.throttle(this._onPointermoveThrottled,t,!0)}_onPointerup(){this.releasePointerCapture(event.pointerId),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup)}_getPointerCoord(t){const e=this.getBoundingClientRect();return[Math.pow(Math.max(0,Math.min(1,(t.clientX-e.x)/e.width)),this.exponent),Math.pow(Math.max(0,Math.min(1,1-(t.clientY-e.y)/e.height)),this.exponent)]}_getValueFromCoord(t){let e=this.min*(1-t)+this.max*t;return e=Math.min(this.max,Math.max(this.min,e)),Math.round(e/this.step)*this.step}_getCoordFromValue(t){return(t-this.min)/(this.max-this.min)}_onPointermoveThrottled(t){if(1===this._active){document.activeElement!==this&&this.focus();const e=this._getPointerCoord(t);let n=this._getValueFromCoord(e[0]),i=this._getValueFromCoord(e[1]);this._setValue(this.horizontal?n:i,this.horizontal?i:n)}}_setValue(t){this.set("value",Number(t.toFixed(5)))}_onKeydown(t){"ArrowLeft"===t.key?(t.preventDefault(),t.shiftKey?this._setDecrease():this.focusTo("left")):"ArrowUp"===t.key?(t.preventDefault(),t.shiftKey?this._setIncrease():this.focusTo("up")):"ArrowRight"===t.key?(t.preventDefault(),t.shiftKey?this._setIncrease():this.focusTo("right")):"ArrowDown"===t.key?(t.preventDefault(),t.shiftKey?this._setDecrease():this.focusTo("down")):"PageUp"===t.key||"+"===t.key?(t.preventDefault(),this._setIncrease()):"PageDown"===t.key||"-"===t.key?(t.preventDefault(),this._setDecrease()):"Home"===t.key?(t.preventDefault(),this._setMin()):"PageDown"===t.key&&(t.preventDefault(),this._setMax())}_setIncrease(){let t=this.value+this.step;t=Math.min(this.max,Math.max(this.min,t)),this._setValue(t)}_setDecrease(){let t=this.value-this.step;t=Math.min(this.max,Math.max(this.min,t)),this._setValue(t)}_setMin(){let t=this.min;t=Math.min(this.max,Math.max(this.min,t)),this._setValue(t)}_setMax(){let t=this.max;t=Math.min(this.max,Math.max(this.min,t)),this._setValue(t)}changed(){super.changed()}setAria(){super.setAria(),this.setAttribute("aria-invalid",!!isNaN(this.value)&&"true"),this.setAttribute("aria-valuenow",isNaN(this.value)?0:this.value),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max)}static get GlUtils(){return"\n\t\tvec4 paintSlider(vec2 position, vec2 sliderStart, vec2 sliderEnd, float knobRadius, float slotWidth, vec3 color) {\n\t\t\tvec4 slotColor = mix(cssColor, cssBackgroundColorField, 0.125);\n\t\t\tvec4 sliderColor = vec4(0.0);\n\t\t\tfloat stroke = cssStrokeWidth;\n\n\t\t\tvec2 startPos = translate(position, sliderStart);\n\t\t\tvec2 endPos = translate(position, sliderEnd);\n\t\t\tvec2 slotCenter = (startPos + endPos) / 2.;\n\t\t\tfloat slotSpan = abs(startPos.x - endPos.x) / 2.0;\n\n\t\t\tfloat strokeShape = min(min(\n\t\t\t\tcircle(startPos, knobRadius + stroke + stroke),\n\t\t\t\trectangle(slotCenter, vec2(slotSpan, slotWidth + stroke + stroke))),\n\t\t\t\tcircle(endPos, knobRadius + stroke + stroke)\n\t\t\t);\n\t\t\tsliderColor = mix(vec4(slotColor.rgb, 1.0), sliderColor, strokeShape);\n\n\t\t\tfloat fillShape = min(min(\n\t\t\t\tcircle(startPos, knobRadius + stroke),\n\t\t\t\trectangle(slotCenter, vec2(slotSpan, slotWidth + stroke))),\n\t\t\t\tcircle(endPos, knobRadius + stroke)\n\t\t\t);\n\t\t\tsliderColor = mix(vec4(cssBackgroundColor.rgb, 1.0), sliderColor, fillShape);\n\n\t\t\tfloat colorShape = min(min(\n\t\t\t\tcircle(startPos, knobRadius),\n\t\t\t\trectangle(slotCenter, vec2(slotSpan, slotWidth))),\n\t\t\t\tcircle(endPos, knobRadius)\n\t\t\t);\n\t\t\tsliderColor = mix(vec4(color, 1.0), sliderColor, colorShape);\n\n\t\t\treturn sliderColor;\n\t\t}\n\t\t\n\n"}static get Frag(){return"\n\t\t#extension GL_OES_standard_derivatives : enable\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main(void) {\n\t\t\tvec3 finalColor = cssBackgroundColorField.rgb;\n\n\t\t\tvec2 size = uHorizontal == 1 ? uSize : uSize.yx;\n\t\t\tvec2 uv = uHorizontal == 1 ? vUv : vUv.yx;\n\t\t\tvec2 position = size * uv;\n\n\n\t\t\tfloat stepInPx = size.x / ((uMax - uMin) / uStep);\n\t\t\tvec4 stepColorBg = mix(cssColor, cssBackgroundColorField, 0.75);\n\n\t\t\tfloat lineWidth = cssStrokeWidth;\n\t\t\tif (stepInPx > lineWidth * 2.0) {\n\t\t\t\t// TODO: grid with exponent\n\t\t\t\tfloat gridWidth = size.x / ((uMax - uMin) / uStep);\n\t\t\t\tfloat gridOffset = mod(uMin, uStep) / (uMax - uMin) * size.x;\n\t\t\t\tvec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y);\n\t\t\t\tfloat gridShape = grid(translate(expPosition, - gridOffset, size.y / 2.), gridWidth, size.y + lineWidth * 2.0, lineWidth);\n\t\t\t\tfinalColor.rgb = mix(stepColorBg.rgb, finalColor.rgb, gridShape);\n\t\t\t}\n\n\t\t\tvec4 slotGradient = mix(cssColorFocus, cssColorLink, uv.x);\n\t\t\tfloat knobRadius = cssItemHeight * 0.125;\n\t\t\tfloat slotWidth = cssItemHeight * 0.125;\n\n\t\t\tfloat valueInRange = (uValue - uMin) / (uMax - uMin);\n\t\t\tfloat sign = valueInRange < 0.0 ? -1.0 : 1.0;\n\t\t\tvalueInRange = abs(pow(valueInRange, 1./uExponent)) * sign;\n\n\t\t\tvec2 sliderStart = vec2(0.0, size.y * 0.5);\n\t\t\tvec2 sliderEnd = vec2(size.x * min(2.0, max(-1.0, (valueInRange))), size.y * 0.5);\n\n\t\t\tvec4 slider = paintSlider(position, sliderStart, sliderEnd, knobRadius, slotWidth, slotGradient.rgb);\n\t\t\tfinalColor = mix(finalColor.rgb, slider.rgb, slider.a);\n\n\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t}"}}IoSlider.Register();class IoSliderRange extends IoSlider{static get Properties(){return{value:{type:Array,value:[0,0],observe:!0}}}_onPointerdown(t){super._onPointerdown(t);const e=this._getPointerCoord(t),n=this._getCoordFromValue(Math.min(this.max,Math.max(this.min,this.value[0]))),i=this._getCoordFromValue(Math.min(this.max,Math.max(this.min,this.value[1])));this.horizontal?this._index=Math.abs(n-e[0])<Math.abs(i-e[0])?0:1:this._index=Math.abs(n-e[1])<Math.abs(i-e[1])?0:1}_onPointermoveThrottled(t){if(1===this._active){document.activeElement!==this&&this.focus();const e=this._getPointerCoord(t);let n=this._getValueFromCoord(e[0]),i=this._getValueFromCoord(e[1]);0===this._index?this._setValue(this.horizontal?n:i,this.value[1]):1===this._index&&this._setValue(this.value[0],this.horizontal?n:i)}}_setValue(t,e){this.set("value",[Number(t.toFixed(5)),Number(e.toFixed(5))])}_onKeydown(t){"ArrowLeft"===t.key?(t.preventDefault(),t.shiftKey?this._setDecrease():this.focusTo("left")):"ArrowUp"===t.key?(t.preventDefault(),t.shiftKey?this._setIncrease():this.focusTo("up")):"ArrowRight"===t.key?(t.preventDefault(),t.shiftKey?this._setIncrease():this.focusTo("right")):"ArrowDown"===t.key?(t.preventDefault(),t.shiftKey?this._setDecrease():this.focusTo("down")):"PageUp"===t.key||"+"===t.key?(t.preventDefault(),this._setIncrease()):"PageDown"===t.key||"-"===t.key?(t.preventDefault(),this._setDecrease()):"Home"===t.key?(t.preventDefault(),this._setMin()):"PageDown"===t.key&&(t.preventDefault(),this._setMax())}_setIncrease(){let t=this.value[0]+this.step,e=this.value[1]+this.step;t=Math.min(this.max,Math.max(this.min,t)),e=Math.min(this.max,Math.max(this.min,e)),this._setValue(t,e)}_setDecrease(){let t=this.value[0]-this.step,e=this.value[1]-this.step;t=Math.min(this.max,Math.max(this.min,t)),e=Math.min(this.max,Math.max(this.min,e)),this._setValue(t,e)}_setMin(){let t=this.min,e=this.min;t=Math.min(this.max,Math.max(this.min,t)),e=Math.min(this.max,Math.max(this.min,e)),this._setValue(t,e)}_setMax(){let t=this.max,e=this.max;t=Math.min(this.max,Math.max(this.min,t)),e=Math.min(this.max,Math.max(this.min,e)),this._setValue(t,e)}setAria(){super.setAria(),this.setAttribute("aria-invalid",!(this.value instanceof Array&&2===this.value.length)&&"true"),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuestep",this.step)}static get Frag(){return"\n\t\t#extension GL_OES_standard_derivatives : enable\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main(void) {\n\t\t\tvec3 finalColor = cssBackgroundColorField.rgb;\n\n\t\t\tvec2 size = uHorizontal == 1 ? uSize : uSize.yx;\n\t\t\tvec2 uv = uHorizontal == 1 ? vUv : vUv.yx;\n\t\t\tvec2 position = size * uv;\n\n\n\t\t\tfloat stepInPx = size.x / ((uMax - uMin) / uStep);\n\t\t\tvec4 stepColorBg = mix(cssColor, cssBackgroundColorField, 0.75);\n\n\t\t\tfloat lineWidth = cssStrokeWidth;\n\t\t\tif (stepInPx > lineWidth * 2.0) {\n\t\t\t\t// TODO: grid with exponent\n\t\t\t\tfloat gridWidth = size.x / ((uMax - uMin) / uStep);\n\t\t\t\tfloat gridOffset = mod(uMin, uStep) / (uMax - uMin) * size.x;\n\t\t\t\tvec2 expPosition = size * vec2(pow(uv.x, uExponent), uv.y);\n\t\t\t\tfloat gridShape = grid(translate(expPosition, - gridOffset, size.y / 2.), gridWidth, size.y + lineWidth * 2.0, lineWidth);\n\t\t\t\tfinalColor.rgb = mix(stepColorBg.rgb, finalColor.rgb, gridShape);\n\t\t\t}\n\n\t\t\tfloat knobRadius = cssItemHeight * 0.25;\n\t\t\tfloat slotWidth = cssItemHeight * 0.125;\n\n\t\t\tfloat valueInRangeStart = (uValue[0] - uMin) / (uMax - uMin);\n\t\t\tfloat signStart = valueInRangeStart < 0.0 ? -1.0 : 1.0;\n\t\t\tvalueInRangeStart = abs(pow(valueInRangeStart, 1./uExponent)) * signStart;\n\n\t\t\tfloat valueInRangeEnd = (uValue[1] - uMin) / (uMax - uMin);\n\t\t\tfloat signEnd = valueInRangeEnd < 0.0 ? -1.0 : 1.0;\n\t\t\tvalueInRangeEnd = abs(pow(valueInRangeEnd, 1./uExponent)) * signEnd;\n\n\t\t\tfloat grad = 0.5;\n\t\t\tif (valueInRangeEnd > valueInRangeStart) {\n\t\t\t\tgrad = (uv.x - valueInRangeStart) / max(valueInRangeEnd - valueInRangeStart, 0.01);\n\t\t\t} else if (valueInRangeEnd < valueInRangeStart) {\n\t\t\t\tgrad = 1.0 - (uv.x - valueInRangeEnd) / max(valueInRangeStart - valueInRangeEnd, 0.01);\n\t\t\t}\n\t\t\tvec4 slotGradient = mix(cssColorFocus, cssColorLink, saturate(grad));\n\n\t\t\tvec2 sliderStart = vec2(size.x * min(2.0, max(-1.0, (valueInRangeStart))), size.y * 0.5);\n\t\t\tvec2 sliderEnd = vec2(size.x * min(2.0, max(-1.0, (valueInRangeEnd))), size.y * 0.5);\n\n\t\t\tvec4 slider = paintSlider(position, sliderStart, sliderEnd, knobRadius, slotWidth, slotGradient.rgb);\n\t\t\tfinalColor = mix(finalColor.rgb, slider.rgb, slider.a);\n\n\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t}"}}IoSliderRange.Register();class IoNumberSlider extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host > io-number {\n\t\t\tflex: 0 0 calc(2 * var(--io-item-height));\n\t\t\tmargin-right: var(--io-spacing);\n\t\t}\n\t\t:host > io-slider {\n\t\t\tflex: 1 1 calc(2 * var(--io-item-height));\n\t\t\tmin-width: calc(2 * var(--io-item-height));\n\t\t}\n\t\t"}static get Properties(){return{value:0,step:.01,conversion:1,min:0,max:1,exponent:1}}_onNumberSet(t){this.value=t.detail.value,this.dispatchEvent("value-set",t.detail,!1)}_onSliderSet(t){t.detail.value=t.detail.value/this.conversion,this.value=t.detail.value,this.dispatchEvent("value-set",t.detail,!1)}changed(){this.template([["io-number",{id:"number",value:this.value,step:this.step,conversion:this.conversion,label:this.label,"on-value-set":this._onNumberSet}],["io-slider",{id:"slider",value:this.value*this.conversion,step:this.step*this.conversion,min:this.min*this.conversion,max:this.max*this.conversion,exponent:this.exponent,label:this.label,"on-value-set":this._onSliderSet}]])}}IoNumberSlider.Register();class IoNumberSliderRange extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host > io-number {\n\t\t\tflex: 0 0 calc(2 * var(--io-item-height));\n\t\t}\n\t\t:host > io-slider-range {\n\t\t\tmargin-left: var(--io-spacing);\n\t\t\tmargin-right: var(--io-spacing);\n\t\t\tflex: 1 1 calc(2 * var(--io-item-height));\n\t\t\tmin-width: calc(2 * var(--io-item-height));\n\t\t}\n\t\t"}static get Properties(){return{value:{type:Array,value:[0,0],observe:!0},step:.01,conversion:1,min:0,max:1,exponent:1}}_onNumberSet(t){const e=t.composedPath()[0];e==this.$.number0&&(this.value[0]=t.detail.value),e==this.$.number1&&(this.value[1]=t.detail.value),t.detail.value=this.value,this.dispatchEvent("value-set",t.detail,!1)}_onSliderSet(){this.value=event.detail.value,this.dispatchEvent("value-set",event.detail,!1)}changed(){this.template([["io-number",{id:"number0",value:this.value[0],step:this.step,conversion:this.conversion,label:this.label,"on-value-set":this._onNumberSet}],["io-slider-range",{id:"slider",value:this.value,step:this.step,min:this.min,max:this.max,exponent:this.exponent,label:this.label,"on-value-set":this._onSliderSet}],["io-number",{id:"number1",value:this.value[1],step:this.step,conversion:this.conversion,label:this.label,"on-value-set":this._onNumberSet}]])}}IoNumberSliderRange.Register();class IoIcon extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\t@apply --io-item;\n\t\t}\n\t\t:host {\n\t\t\twidth: var(--io-item-height);\n\t\t\theight: var(--io-item-height);\n\t\t\tborder: 0;\n\t\t\tpadding: 0;\n\t\t\tfill: var(--io-color, currentcolor);\n\t\t}\n\t\t:host[stroke] {\n\t\t\tstroke: var(--io-background-color, currentcolor);\n\t\t\tstroke-width: var(--io-stroke-width);\n\t\t}\n\t\t:host > svg {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t\t:host > svg > g {\n\t\t\tpointer-events: none;\n\t\t\ttransform-origin: 0px 0px;\n\t\t}\n\t\t"}static get Properties(){return{icon:{value:"",reflect:-1},label:{value:"",reflect:1},stroke:{value:!1,reflect:1}}}iconChanged(){this.innerHTML=IoIconsetSingleton.getIcon(this.icon)}}IoIcon.Register();const rects=new WeakMap;class IoMenuOptions extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\t@apply --io-panel;\n\t\t\tbox-sizing: border-box;\n\t\t\talign-self: flex-start;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: stretch;\n\t\t\twhite-space: nowrap;\n\t\t\tuser-select: none;\n\t\t\tbackground-image: none;\n\t\t\tpadding: 0;\n\t\t\topacity: 1;\n\t\t\ttransition: opacity 0.25s;\n\t\t\toverflow-y: auto !important;\n\t\t\tpadding: var(--io-spacing);\n\t\t}\n\t\t:host > io-menu-item {\n\t\t\talign-self: stretch;\n\t\t\tflex: 0 0 auto;\n\t\t}\n\t\t:host[inlayer] {\n\t\t\tbox-shadow: var(--io-shadow);\n\t\t}\n\t\t:host[inlayer]:not([expanded]) {\n\t\t\tvisibility: hidden;\n\t\t\topacity: 0;\n\t\t}\n\t\t:host[horizontal] {\n\t\t\tflex-direction: row;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t\tflex-wrap: nowrap;\n\t\t\tpadding: 0 var(--io-spacing);\n\t\t}\n\t\t:host[horizontal] > io-menu-item {\n\t\t\tborder-left-width: 0;\n\t\t\tborder-right-width: 0;\n\t\t\tpadding: var(--io-spacing) calc(0.5 * var(--io-line-height));\n\t\t}\n\t\t:host:not([horizontal]) > io-menu-item > * {\n\t\t\tmin-width: 0.5em;\n\t\t\tpadding: 0 var(--io-spacing);\n\t\t}\n\t\t:host[horizontal] > io-menu-item > .io-menu-hint,\n\t\t:host[horizontal] > io-menu-item > .io-menu-more {\n\t\t\tdisplay: none;\n\t\t}\n\t\t:host[horizontal] > io-menu-item.io-hamburger {\n\t\t\tmargin-left: auto;\n\t\t}\n\t\t:host[horizontal] > io-menu-item.io-hamburger[hidden] {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 0;\n\t\t\tpadding: 0;\n\t\t\tborder: 0;\n\t\t\toverflow: hidden;\n\t\t\tvisibility: hidden;\n\t\t}\n\t\t:host > io-string {\n\t\t\talign-self: stretch;\n\t\t\tflex: 0 0 auto;\n\t\t\tmin-width: 8em;\n\t\t}\n\t\t:host > io-string:empty:before {\n\t\t\tcontent: ' 🔍';\n\t\t\twhite-space: pre;\n\t\t\tvisibility: visible;\n\t\t\topacity: 0.33;\n\t\t}\n\t\t"}static get Properties(){return{value:{value:null,notify:!0},options:{type:Array,observe:!0},expanded:{value:!1,reflect:1},horizontal:{type:Boolean,reflect:1},position:"right",selectable:Boolean,searchable:Boolean,search:String,overflow:{type:Boolean,reflect:1},inlayer:{type:Boolean,reflect:1},slotted:Array,$parent:HTMLElement,_rects:Array,role:"listbox"}}static get Listeners(){return{"item-clicked":"_onItemClicked",touchstart:"_stopPropagation"}}connectedCallback(){super.connectedCallback(),this.inlayer=this.parentElement===IoLayerSingleton}_onItemClicked(t){const e=t.composedPath()[0],n=t.detail;"io-string"!=e.localName?e!==this&&(t.stopImmediatePropagation(),void 0!==n.value&&!1!==n.selectable&&this.set("value",n.value),this.dispatchEvent("item-clicked",n,!0),this.requestAnimationFrameOnce(this._collapse)):t.stopImmediatePropagation()}_stopPropagation(t){t.stopPropagation()}onResized(){this.requestAnimationFrameOnce(this._setOverflow)}_setOverflow(){const t=this.querySelectorAll("io-menu-item:not(.io-hamburger)");if(this.horizontal){const e=this.querySelector(".io-hamburger");if(!t.length)return;let n=this.getBoundingClientRect().right,i=!1,o=1/0;e.hidden=!0;const s=[];for(let r=t.length;r--;){const l=t[r].getBoundingClientRect(),a=rects.get(t[r])||{right:0,width:0};0!==l.right&&0!==l.width&&(a.right=l.right,a.width=l.width,rects.set(t[r],a)),e.hidden&&i&&(e.hidden=!1,n-=e.getBoundingClientRect().width),t[r].selected?(n-=a.width,t[r].hidden=!1):(o=Math.min(o,a.right))<n?t[r].hidden=!1:(t[r].hidden=!0,s.push(t[r].option),i=!0)}e.option={options:s},this.overflow=i}else for(let e=t.length;e--;)t[e].hidden=!1}_collapse(){const t=this.selectable&&!!this.search&&!this.inlayer;this.setProperties({search:"",expanded:!1}),t&&this.$.search.focus()}expandedChanged(){this.expanded?(this.inlayer=this.parentElement===IoLayerSingleton,this.inlayer&&this.$parent&&(this._expandedChangedLazy(),this.throttle(this._expandedChangedLazy,null,!0))):(this.style.top=null,this.style.height=null,this.style.touchAction=null,this.scrollTop=0,this.search="")}searchChanged(){this.inlayer&&this.$parent&&this.requestAnimationFrameOnce(this._clipHeight)}_expandedChangedLazy(){const t=this.$parent.getBoundingClientRect();IoLayerSingleton.setElementPosition(this,this.position,t),this._clipHeight(),this.searchable=!!this.style.height}_clipHeight(){if(this.scrollTop=0,!this.firstChild)return;const t=this.firstChild.getBoundingClientRect().top,e=this.lastChild.getBoundingClientRect().bottom,n=e-t;t<0?(this.style.top="0px",this.style.height=n+t+"px",this.style.touchAction="pan-y"):e>window.innerHeight?(this.style.height=window.innerHeight-t+"px",this.style.touchAction="pan-y"):(this.style.height=null,this.style.touchAction=null)}get _options(){if(this.search){const t=this.search.toLowerCase(),e=this.filterObjects(this.options,e=>{if(e.value||e.action){if(-1!==String(e.value).toLowerCase().search(t))return!0;if(e.label&&-1!==e.label.toLowerCase().search(t))return!0;if(e.hint&&-1!==e.hint.toLowerCase().search(t))return!0}});return e.length?e:[{label:"No matches"}]}return this.options}changed(){const t=this.horizontal?"bottom":"right",e=[];this.searchable&&e.push(["io-string",{id:"search",value:this.bind("search"),live:!0}]),this._options&&e.push(...[this._options.map(e=>["io-menu-item",{$parent:this,option:e,value:this.value,direction:t,selectable:this.selectable,lazy:!1}])]),this.horizontal&&(e.splice(0,0,...this.slotted),e.push(["io-menu-item",{label:"☰",title:"select tab",value:this.value,selectable:this.selectable,class:"io-hamburger",lazy:!1}])),this.template(e),this.requestAnimationFrameOnce(this._setOverflow)}}IoMenuOptions.Register();class IoMenuItem extends IoItem{static get Style(){return'\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex: 0 0 auto;\n\t\t\tflex-direction: row;\n\t\t\tpadding: var(--io-spacing);\n\t\t\tborder-radius: 0;\n\t\t\tbackground: none;\n\t\t\tborder: var(--io-border-width) solid transparent;\n\t\t\tbackground-color: transparent;\n\t\t\tborder-color: transparent;\n\t\t}\n\t\t:host > * {\n\t\t\toverflow: visible;\n\t\t\tpointer-events: none;\n\t\t}\n\t\t:host > :empty {\n\t\t\tdisplay: none;\n\t\t}\n\t\t:host > :not(:empty) {\n\t\t\tpadding: 0 var(--io-spacing);\n\t\t}\n\t\t:host > .io-menu-icon {}\n\t\t:host > .io-menu-label {\n\t\t\tflex: 1 1 auto;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t\t:host > .io-menu-hint {\n\t\t\topacity: 0.25;\n\t\t}\n\t\t:host[hasmore]:after {\n\t\t\tcontent: \'▸\';\n\t\t}\n\t\t:host[selected][direction="top"],\n\t\t:host[selected][direction="bottom"] {\n\t\t\tborder-bottom-color: var(--io-color-link);\n\t\t}\n\t\t:host[selected][direction="right"],\n\t\t:host[selected][direction="left"] {\n\t\t\tborder-left-color: var(--io-color-link);\n\t\t}\n\t\t'}static get Properties(){return{option:{type:Object},expanded:{value:!1,reflect:1},direction:{value:"bottom",reflect:1},$parent:HTMLElement,$options:HTMLElement,selectable:!1,lazy:!0}}static get Listeners(){return{click:"preventDefault"}}preventDefault(t){t.stopPropagation(),t.preventDefault()}get _options(){return this._option.options}get _option(){return this.option&&"object"==typeof this.option?this.option:{value:this.option}}get _selectable(){return this.selectable&&!1!==this._option.selectable}get _action(){return this._option.action}get _value(){return this._option.value}get _icon(){return this._option.icon||""}get _label(){const t=void 0!==this._option.value?String(this._option.value):"";return this.label||this._option.label||t||""}get _hint(){return this._option.hint||""}get _selected(){return!(!this.selectable||!1===this._option.selectable)&&(!(!this._option.selected&&this._option.value!==this.value)||!!this.filterObject(this._options||{},t=>t===this.value||t.value===this.value))}get inlayer(){return this.$parent&&this.$parent.inlayer}connectedCallback(){super.connectedCallback(),this.$options&&IoLayerSingleton.appendChild(this.$options),this.inlayer||IoLayerSingleton.addEventListener("pointermove",this._onLayerPointermove)}disconnectedCallback(){super.disconnectedCallback(),this.$options&&this.$options.inlayer&&IoLayerSingleton.removeChild(this.$options),IoLayerSingleton.removeEventListener("pointermove",this._onLayerPointermove)}_onClick(){const t=void 0!==this._value&&this._selectable,e="function"==typeof this._action;t||e?(t&&this.set("value",this._value,!0),e&&this._action.apply(null,[this._value]),this.dispatchEvent("item-clicked",{value:this._value,action:this._action,selectable:this._selectable},!0),this.requestAnimationFrameOnce(this._collapse)):!this.expanded&&this._options&&(this.expanded=!0)}_onItemClicked(t){const e=t.composedPath()[0],n=t.detail;if(e!==this){t.stopImmediatePropagation(),void 0!==n.value&&n.selectable&&this.set("value",n.value),this.dispatchEvent("item-clicked",n,!0)}this.expanded&&this.requestAnimationFrameOnce(this._collapse)}_onPointerdown(t){t.stopPropagation(),t.preventDefault(),this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",this._onPointermove),this.addEventListener("pointerup",this._onPointerup),(this.expanded||"mouse"===t.pointerType||this.inlayer)&&(this.focus(),this._options&&(this.expanded=!0)),hovered=this,hoveredParent=this.parentElement,this._x=t.clientX,this._y=t.clientY}_onPointermove(t){if(t.stopPropagation(),!this.expanded&&"touch"===t.pointerType&&!this.inlayer)return;const e=!!this.$parent&&!!this.$parent.style.height;if("touch"===t.pointerType&&e)return;const n=t.clientX-this._x,i=t.clientY-this._y;if(this._x=t.clientX,this._y=t.clientY,IoLayerSingleton.x=t.clientX,IoLayerSingleton.y=t.clientY,clearTimeout(this.__timeoutOpen),hovered=this._gethovered(t)){const t=Math.abs(i)-Math.abs(n),e=hovered.parentElement.horizontal;hoveredParent!==hovered.parentElement?(hoveredParent=hovered.parentElement,this._expandHovered()):(e?t<-.5:t>.5)?this._expandHovered():this.__timeoutOpen=setTimeout(()=>{this._expandHovered()},100)}}_gethovered(t){const e=getElementDescendants(getRootElement(this));for(let n=e.length;n--;)if(isPointerAboveItem(t,e[n]))return e[n]}_expandHovered(){if(hovered&&(hovered.focus(),hovered._options)){if(hovered.$options){const t=getElementDescendants(hovered.$options);for(let e=t.length;e--;)t[e].expanded=!1}hovered.expanded=!0}}_onLayerPointermove(t){this.expanded&&this._onPointermove(t)}_onPointerup(t,e){t.stopPropagation(),this.removeEventListener("pointermove",this._onPointermove),this.removeEventListener("pointerup",this._onPointerup);const n=this._gethovered(t),i=e&&e.nocollapse;n?(n.focus(),n._onClick(t)):i||this.requestAnimationFrameOnce(this._collapseRoot)}_onKeydown(t){if("Enter"===t.key||" "===t.key)return t.preventDefault(),void this._onClick(t);if("Escape"===t.key)return t.preventDefault(),void this.requestAnimationFrameOnce(this._collapseRoot);let e="";"left"===this.direction||"right"===this.direction?("ArrowUp"===t.key&&(e="prev"),"ArrowRight"===t.key&&(e="in"),"ArrowDown"===t.key&&(e="next"),"ArrowLeft"===t.key&&(e="out")):("ArrowUp"===t.key&&(e="out"),"ArrowRight"===t.key&&(e="next"),"ArrowDown"===t.key&&(e="in"),"ArrowLeft"===t.key&&(e="prev")),this.inlayer&&"Tab"===t.key&&(e="next");const n=this.$parent?[...this.$parent.children]:[],i=n.indexOf(this);if(e&&(this.inlayer||this.expanded))switch(t.preventDefault(),e){case"prev":{const t=n[(i+n.length-1)%n.length];this.expanded=!1,t&&(t._options&&(t.expanded=!0),t.focus());break}case"next":{const t=n[(i+1)%n.length];this.expanded=!1,t&&(t._options&&(t.expanded=!0),t.focus());break}case"in":this.$options&&this.$options.children.length&&this.$options.children[0].focus();break;case"out":this.expanded=!1,this.$parent&&this.$parent.$parent&&this.$parent.$parent.focus()}else super._onKeydown(t)}_collapse(){this.expanded=!1}_collapseRoot(){getRootElement(this).expanded=!1}expandedChanged(){if(this.expanded){this.$options||(this.$options=new IoMenuOptions({$parent:this,expanded:this.bind("expanded"),"on-item-clicked":this._onItemClicked})),this.$options&&this.$options.parentElement!==IoLayerSingleton&&IoLayerSingleton.appendChild(this.$options);const t=getElementDescendants(getRootElement(this)),e=getElementAncestors(this);for(let n=t.length;n--;)-1===e.indexOf(t[n])&&(t[n].expanded=!1);if(this.$options){const t=getElementDescendants(this.$options);for(let e=t.length;e--;)t[e].expanded=!1}}else{const t=getElementDescendants(this);for(let e=t.length;e--;)t[e].expanded=!1}}changed(){this.__properties.selected.value=this._selected,this.setAttribute("selected",this._selected),this.setAttribute("hasmore",!!this._options&&"right"===this.direction),this.template([["span",{class:"io-menu-icon"},this._icon],["span",{class:"io-menu-label"},this._label],["span",{class:"io-menu-hint"},this._hint]]),this.$options&&this.expanded&&this.$options.setProperties({value:this.value,options:this._options,selectable:this._selectable,position:this.direction})}}function getElementDescendants(t){const e=[];let n=[];-1!=="io-menu-item, io-option-menu".search(t.localName)?(e.push(t),t.$options&&(n=t.$options.querySelectorAll("io-menu-item, io-option-menu"))):"io-context-menu"===t.localName?t.$options&&(n=t.$options.querySelectorAll("io-menu-item, io-option-menu")):n=t.querySelectorAll("io-menu-item, io-option-menu");for(let t=n.length;t--;)e.push(n[t]),n[t].expanded&&e.push(...getElementDescendants(n[t]));return e}function getElementAncestors(t){let e=t;const n=[t];for(;e&&e.$parent;)(e=e.$parent)&&n.push(e);return n}function getRootElement(t){let e=t;for(;e&&e.$parent;)e=e.$parent;return e}function isPointerAboveItem(t,e){const n=e.getBoundingClientRect(),i=t.clientX,o=t.clientY;if(-1!==["io-menu-item","io-option-menu"].indexOf(e.localName)&&(!e.inlayer||e.parentElement.expanded)){return n.top<=o&&n.bottom>=o&&n.left<=i&&n.right>=i}}let hovered,hoveredParent;IoMenuItem.Register();class IoOptionMenu extends IoMenuItem{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: inline-block;\n\t\t\ttext-align: center;\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-outset);\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tbackground-image: var(--io-gradient-button);\n\t\t\tpadding-left: calc(2 * var(--io-spacing));\n\t\t\tpadding-right: calc(2 * var(--io-spacing));\n\t\t}\n\t\t:host {\n\t\t\ttext-align: left;\n\t\t}\n\t\t"}static get Properties(){return{value:{reflect:-1},selectable:!0,options:{type:Array,reflect:-1,observe:!0},icon:"▾",role:"button",lazy:!1}}get _options(){return this.options}get _label(){const t=void 0!==this.value?String(this.value):"";return this.label||t||""}changed(){let t="";if(this.options){const e=this.options.find(t=>t.value===this.value);e&&(t=e.label?e.label:"object"==typeof e.value?`${e.value.constructor.name}`+(e.value instanceof Array?`(${e.value.length})`:""):String(e.value))}t||(t=this._label),this.icon&&(t=this.icon+"\t"+t),this.title=t,this.textNode=t,this.setAttribute("aria-haspopup","listbox"),this.setAttribute("aria-expanded",String(this.expanded)),this.expanded&&this.$options.setProperties({value:this.value,options:this.options,selectable:this.selectable,position:this.direction})}}IoOptionMenu.Register();class IoContextMenu extends IoElement{static get Properties(){return{value:null,options:{type:Array,observe:!0},expanded:Boolean,position:"pointer",button:0,selectable:!1,$options:HTMLElement}}connectedCallback(){super.connectedCallback(),IoLayerSingleton.addEventListener("pointermove",this._onLayerPointermove),this._parent=this.parentElement,this._parent.style.userSelect="none",this._parent.style.webkitUserSelect="none",this._parent.style.webkitTouchCallout="default",this._parent.addEventListener("pointerdown",this._onPointerdown),this._parent.addEventListener("click",this._onClick),this._parent.addEventListener("contextmenu",this._onContextmenu)}disconnectedCallback(){super.disconnectedCallback(),this.$options&&IoLayerSingleton.removeChild(this.$options),IoLayerSingleton.removeEventListener("pointermove",this._onLayerPointermove),this._parent.style.userSelect=null,this._parent.style.webkitUserSelect=null,this._parent.style.webkitTouchCallout=null,this._parent.removeEventListener("pointerdown",this._onPointerdown),this._parent.removeEventListener("contextmenu",this._onContextmenu),this._parent.removeEventListener("pointermove",this._onPointermove),this._parent.removeEventListener("pointerup",this._onPointerup),this._parent.removeEventListener("click",this._onClick),delete this._parent}getBoundingClientRect(){return this._parent.getBoundingClientRect()}_onItemClicked(t){const e=t.composedPath()[0],n=t.detail;e!==this&&(t.stopImmediatePropagation(),void 0!==n.value&&!1!==n.selectable&&this.set("value",n.value),this.dispatchEvent("item-clicked",n,!0),this.requestAnimationFrameOnce(this._collapse))}_onContextmenu(t){2===this.button&&t.preventDefault()}_onPointerdown(t){IoLayerSingleton.x=t.clientX,IoLayerSingleton.y=t.clientY,this._parent.addEventListener("pointermove",this._onPointermove),this._parent.addEventListener("pointerup",this._onPointerup),clearTimeout(this._contextTimeout),"touch"!==t.pointerType?t.button===this.button&&(this.expanded=!0):(t.preventDefault(),this._contextTimeout=setTimeout(()=>{this.expanded=!0},150))}_onPointermove(t){if(clearTimeout(this._contextTimeout),this.expanded&&this.$options){const e=this.$options.querySelector("io-menu-item");e&&e._onPointermove(t)}}_onPointerup(t){if(clearTimeout(this._contextTimeout),this.expanded&&this.$options){const e=this.$options.querySelector("io-menu-item");e&&e._onPointerup(t,{nocollapse:!0})}this._parent.removeEventListener("pointermove",this._onPointermove),this._parent.removeEventListener("pointerup",this._onPointerup)}_onLayerPointermove(t){this.expanded&&this._onPointermove(t)}_onClick(t){t.button===this.button&&2!==t.button&&(this.expanded=!0)}_collapse(){this.expanded=!1}expandedChanged(){if(this.expanded)this.$options||(this.$options=new IoMenuOptions({$parent:this,"on-item-clicked":this._onItemClicked})),this.$options.parentElement!==IoLayerSingleton&&IoLayerSingleton.appendChild(this.$options),this.$options.setProperties({value:this.bind("value"),expanded:this.bind("expanded"),options:this.options,selectable:this.selectable,position:this.position});else{const t=getElementDescendants(this);for(let e=t.length;e--;)t[e].expanded=!1}}}IoContextMenu.Register();class IoVector extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host > io-number {\n\t\t\twidth: inherit;\n\t\t\tflex: 1 1;\n\t\t}\n\t\t:host > *:not(:last-child) {\n\t\t\tmargin-right: var(--io-spacing);\n\t\t}\n\t\t:host > io-boolean {\n\t\t\twidth: var(--io-line-height) !important;\n\t\t}\n\t\t"}static get Properties(){return{value:{value:[0,0,0,0],observe:!0},conversion:1,step:.001,min:-1/0,max:1/0,linkable:!1,linked:!1,components:{type:Array,notify:!1}}}_onValueSet(t){const e=t.composedPath()[0].id,n=t.detail.value,i=t.detail.oldValue;if(this.value[e]=n,this.linked){const t=n/i;for(let o in this.components){const s=this.components[o];0===i?this.value[s]=n:s!==e&&(this.value[s]*=t)}}const o={object:this.value,property:this.linked?null:e,value:n,oldValue:i};this.dispatchEvent("object-mutated",o,!1,window)}valueChanged(){this.components=Object.keys(this.value).filter(t=>"number"==typeof this.value[t])}changed(){const t=[];for(let e in this.components){const n=this.components[e];void 0!==this.value[n]&&t.push(["io-number",{id:n,value:this.value[n],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:!0,"on-value-set":this._onValueSet}])}t.push(this.getSlotted()),this.template(t)}getSlotted(){return this.linkable?["io-boolicon",{value:this.bind("linked"),true:"icons:link",false:"icons:unlink"}]:null}}IoVector.Register();class IoMatrix extends IoElement{static get Style(){return'\n\t\t:host {\n\t\t\tdisplay: grid;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t\tgrid-gap: var(--io-spacing);\n\t\t}\n\t\t:host[columns="4"] {\n\t\t\tgrid-template-columns: repeat(4, 1fr);\n\t\t}\n\t\t:host[columns="3"] {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t}\n\t\t:host[columns="2"] {\n\t\t\tgrid-template-columns: repeat(2, 1fr);\n\t\t}\n\t\t:host > io-number {\n\t\t\twidth: inherit;\n\t\t}\n\t\t'}static get Properties(){return{value:{value:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],observe:!0},step:.001,components:{type:Array,notify:!1},columns:{value:4,reflect:1}}}_onValueSet(t){if(t.detail.object)return;const e=t.composedPath()[0].id,n=t.detail.value,i=t.detail.oldValue;this.value[e]=n;const o={object:this.value,property:e,value:n,oldValue:i};this.dispatchEvent("object-mutated",o,!1,window)}valueChanged(){let t;4===this.value.length&&(t=[0,1,2,3],this.columns=2),9===this.value.length&&(t=[0,1,2,3,4,5,6,7,8],this.columns=3),16===this.value.length&&(t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],this.columns=4),this.components=t}changed(){const t=[];for(let e in this.components){const n=this.components[e];void 0!==this.value[n]&&t.push(["io-number",{id:n,value:this.value[n],step:this.step,"on-value-set":this._onValueSet}])}this.template(t)}}IoMatrix.Register();class Config{constructor(t){for(let e=0;e<t.length;e++)this.registerConfig(t[e].constructor.Config||{})}registerConfig(t){for(let e in t)this[e]=this[e]||[],this[e]=[t[e][0]||this[e][0],Object.assign(this[e][1]||{},t[e][1]||{})]}getConfig(t,e){const n=Object.getOwnPropertyNames(t),i=[];let o=t.__proto__;for(;o;)i.push(o.constructor.name),n.push(...Object.keys(o)),o=o.__proto__;const s={};for(let t in this){const e=t.split("|");1===e.length&&e.splice(0,0,"Object"),-1!==i.indexOf(e[0])&&(s[e[1]]=this[t])}for(let t in e){const n=t.split("|");1===n.length&&n.splice(0,0,"Object"),-1!==i.indexOf(n[0])&&(s[n[1]]=e[t])}const r={};for(let e=0;e<n.length;e++){const i=n[e],o=t[i]instanceof Binding?t[i].value:t[i],l=null===o?"null":typeof o,a=void 0!=o&&o.constructor?o.constructor.name:"null";if("function"==l)continue;const h="type:"+l,c="constructor:"+a,d=i.replace("type:","").replace("constructor:","");r[i]=null,s[h]&&(r[i]=s[h]),s[c]&&(r[i]=s[c]),s[d]&&(r[i]=s[d])}return r}}class Groups{constructor(t){for(let e=0;e<t.length;e++)this.registerGroups(t[e].constructor.Groups||{})}registerGroups(t){for(let e in t)this[e]=this[e]||[],this[e]=[...this[e],...t[e]]}getGroups(t,e,n,i=!1){const o=[];let s=t.__proto__;for(;s;)o.push(s.constructor.name),s=s.__proto__;const r={};for(let e in this){const s=e.split("|");if(1===s.length&&s.splice(0,0,"Object"),s[1]=s[1].split(":"),-1!==o.indexOf(s[0])){if(!("advanced"===s[1][1])||i){r[s[1][0]]=r[s[1][0]]||[];for(let i=0;i<this[e].length;i++){const o=this[e][i];if("string"==typeof o&&o.startsWith("constructor:")){const e=o.replace("constructor:","");for(let i=0;i<n.length;i++)t[n[i]]&&t[n[i]].constructor.name==e&&r[s[1][0]].push(n[i])}else if("string"==typeof o&&o.startsWith("type:")){const e=o.replace("type:","");for(let i=0;i<n.length;i++)t[n[i]]&&typeof t[n[i]]==e&&r[s[1][0]].push(n[i])}else r[s[1][0]].push(o)}}}}for(let t in e){const n=t.split("|");if(1===n.length&&n.splice(0,0,"Object"),n[1]=n[1].split(":"),-1!==o.indexOf(n[0])){"advanced"===n[1][1]&&!i||(r[n[1][0]]=r[n[1][0]]||[],r[n[1][0]].push(...e[t]))}}const l={},a=[];for(let t in r){l[t]=l[t]||[];for(let e in r[t]){const i=r[t][e],o=new RegExp(i);for(let e=0;e<n.length;e++){const s=n[e];"string"==typeof i?s==i&&-1==a.indexOf(s)&&(l[t].push(s),a.push(s)):"object"==typeof i&&o.exec(s)&&-1==a.indexOf(s)&&(l[t].push(s),a.push(s))}}}if(0===a.length)l.properties=n;else if(i){l.advanced=l.advanced||[];for(let t=0;t<n.length;t++)-1===a.indexOf(n[t])&&l.advanced.push(n[t])}for(let t in l)0===l[t].length&&delete l[t];return delete l.hidden,l}}class Widgets{constructor(t){for(let e=0;e<t.length;e++)this.registerWidgets(t[e].constructor.Widgets||{})}registerWidgets(t){for(let e in t)this[e]=this[e]||[],this[e]=[...this[e],...t[e]]}getWidgets(t){const e=[];let n=t.__proto__;for(;n;)e.push(n.constructor.name),n=n.__proto__;let i=null;const o={};for(let n in this){const s=n.split("|"),r=s[0],l=s[1];if(-1!==e.indexOf(r)){const e=this[n];e[1]=e[1]||{},e[1].$value?e[1].value=t[e[1].$value]:e[1].value=t,l?o[l]=e:i=e}}return{main:i,groups:o}}}class IoBreadcrumbs extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex: 0 0 auto;\n\t\t\tflex-direction: row;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tpadding: var(--io-spacing);\n\t\t\tcolor: var(--io-color-field);\n\t\t\tbackground-color: var(--io-background-color-field);\n\t\t\toverflow-x: hidden;\n\t\t}\n\t\t:host > io-item:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t\t:host > io-item:first-of-type {\n\t\t\toverflow: visible;\n\t\t\ttext-overflow: clip;\n\t\t\tmargin-left: var(--io-spacing);\n\t\t}\n\t\t:host > io-item:last-of-type {\n\t\t\toverflow: visible;\n\t\t\ttext-overflow: clip;\n\t\t\tmargin-right: var(--io-spacing);\n\t\t}\n\t\t:host > io-item:not(:first-of-type):before {\n\t\t\tcontent: '>';\n\t\t\tmargin: 0 var(--io-spacing);\n\t\t\tpadding: 0 var(--io-spacing) 0 0;\n\t\t\topacity: 0.25;\n\t\t}\n\t\t"}static get Properties(){return{value:Object,selected:null,options:{type:Array,observe:!0}}}_onClick(t){this.set("selected",this.options[t.detail.value])}valueChanged(){this.options.length=0,this.options.push(this.value)}selectedChanged(){const t=this.options.indexOf(this.selected);-1!==t?this.options.length=t+1:this.options.push(this.selected)}changed(){const t=[];for(let e=0;e<this.options.length;e++)t.push(["io-item",{value:e,label:getLabel(this.options[e]),"on-item-clicked":this._onClick}]);this.template(t)}}function getLabel(t){return t instanceof Array?String(`${t.constructor.name} (${t.length})`):"object"==typeof t?String(`${t.constructor.name}`):String(t)}IoBreadcrumbs.Register();class IoInspector extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\t@apply --io-column;\n\t\t}\n\t\t:host > * {\n\t\t\tflex-shrink: 0;\n\t\t}\n\t\t:host > .inspector-header {\n\t\t\tmargin-bottom: var(--io-spacing);\n\t\t\tflex-grow: 0;\n\t\t}\n\t\t:host > .inspector-header > io-breadcrumbs {\n\t\t\tflex: 1 1;\n\t\t}\n\t\t:host > .inspector-header > io-boolicon {\n\t\t\twidth: calc(var(--io-spacing) + var(--io-item-height));\n\t\t\talign-self: stretch;\n\t\t\theight: auto;\n\t\t}\n\t\t:host > .inspector-header > io-boolicon:not([value]) {\n\t\t\topacity: 0.25;\n\t\t}\n\t\t:host > .inspector-header > io-string {\n\t\t\tmargin: 0 var(--io-spacing);\n\t\t\tpadding: calc(2 * var(--io-spacing));\n\t\t\talign-self: stretch;\n\t\t\theight: auto;\n\t\t}\n\t\t:host > .inspector-header > io-string:focus {\n\t\t\twidth: 6em;\n\t\t}\n\t\t:host > .inspector-header > io-string:empty:before {\n\t\t\tcontent: ' 🔍';\n\t\t\twhite-space: pre;\n\t\t\tvisibility: visible;\n\t\t\topacity: 0.33;\n\t\t}\n\t\t:host > io-collapsable > io-boolean,\n\t\t:host > io-object > io-boolean {\n\t\t\ttext-transform: capitalize;\n\t\t}\n\t\t:host > io-object > io-properties {\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tbackground-color: var(--io-background-color) !important;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tbox-shadow: var(--io-shadow-inset);\n\t\t\tpadding: var(--io-spacing);\n\t\t\toverflow: hidden;\n\t\t}\n\t\t:host > io-object > io-properties:not([horizontal])[labeled] {\n\t\t\tgrid-template-columns: minmax(6em, min-content) minmax(12em, 1fr);\n\t\t}\n\t\t:host > io-object > io-properties:not([horizontal])[labeled] > span.io-item {\n\t\t\ttext-align: right;\n\t\t}\n\t\t:host io-properties > io-item.select {\n\t\t\tcolor: var(--io-color-link);\n\t\t}\n\t\t:host io-properties > io-item.select:hover {\n\t\t\ttext-decoration: underline;\n\t\t}\n\t\t"}static get Properties(){return{value:{type:Object,observe:!0},selected:{type:Object,observe:!0},search:String,advanced:!1,groups:Object,config:Object,widgets:Object,autoExpand:["main","properties"]}}static get Listeners(){return{"item-clicked":"_onItemClicked"}}constructor(t){super(t),Object.defineProperty(this,"uuid",{value:null,writable:!0})}_onItemClicked(t){t.stopPropagation();const e=t.detail.value,n=t.composedPath()[0];e&&"object"==typeof e&&n.classList.contains("select")&&this.set("selected",e)}valueChanged(){this.selected=this.value}advancedChanged(){delete this._currentCfgLen}selectedMutated(){clearTimeout(this._cfgTimeout),this._cfgTimeout=setTimeout(()=>{this._changed()},100)}_getConfig(){this._config=this.__proto__.__config.getConfig(this.selected,this.config)}_getGroups(){this._groups=this.__proto__.__groups.getGroups(this.selected,this.groups,Object.getOwnPropertyNames(this._config),this.advanced)}_getWidgets(){this._widgets=this.__proto__.__widgets.getWidgets(this.selected,this.widgets)}_getAll(){const t=Object.getOwnPropertyNames(this.selected).length;this._config&&this.selected===this._currentCfgObj&&t===this._currentCfgLen||(this._currentCfgObj=this.selected,this._currentCfgLen=t,this._getConfig(),this._getGroups(),this._getWidgets())}changed(){this.advanced=IoStorageFactory({value:!1,storage:"local",key:"inspector-show-advanced"}),this._changedThrottled()}_changedThrottled(){this.throttle(this._changed,null,!0)}_changed(){this._getAll(),this.uuid=genUUID(this.selected);const t=[["div",{class:"inspector-header io-row io-panel"},[["io-breadcrumbs",{value:this.value,selected:this.bind("selected"),trim:!0}],["io-string",{id:"search",value:this.bind("search"),live:!0}],["io-boolicon",{value:this.bind("advanced"),true:"icons:less",false:"icons:more"}]]],this._widgets.main?this._widgets.main:null];for(let e in this._widgets.groups)if(!this._groups[e]){const n=-1!==this.autoExpand.indexOf(e);t.push(["io-collapsable",{label:e,expanded:IoStorageFactory({value:n,storage:"local",key:this.uuid+"-"+e}),elements:[this._widgets.groups[e]]||[],class:"io-panel"}])}for(let e in this._groups){const n=-1!==this.autoExpand.indexOf(e);t.push(["io-object",{label:e,expanded:IoStorageFactory({value:n,storage:"local",key:this.uuid+"-"+e}),value:this.selected,properties:this._groups[e],config:this._config,slotted:this._widgets.groups[e]||[]}])}this.template(t)}static get Config(){return{"type:object":["io-item",{class:"select"}],"type:null":["io-item",{class:"select"}]}}static get Groups(){return{"Object|hidden":[/^_/],"HTMLElement|main":["localName","tagName","nodeName",/class/i,/attribute/i],"HTMLElement|hidden":[/^on/,/^[A-Z0-9_]*$/,"childElementCount"],"HTMLElement|content":[/content/i,/inner/i,/outer/i],"HTMLElement|display":[/width/i,/height/i,/top/i,/left/i,/scroll/i,/style/i],"HTMLElement|hierarchy":[/parent/i,/child/i,/element/i,/root/i,/slot/i,/sibling/i,/document/i]}}static get Widgets(){return{}}}function genUUID(t){let e="io-object-collapse-state-"+t.constructor.name;e+="-"+t.guid||t.uuid||t.id||"";const n=JSON.stringify(Object.keys(t));let i=0;for(let t=0;t<n.length;t++)i=(i<<5)-i+n.charCodeAt(t),i|=0;return e+="-"+(i=(-i).toString(16))}IoInspector.Register=function(){IoElement.Register.call(this),Object.defineProperty(this.prototype,"__config",{value:new Config(this.prototype.__protochain)}),Object.defineProperty(this.prototype,"__groups",{value:new Groups(this.prototype.__protochain)}),Object.defineProperty(this.prototype,"__widgets",{value:new Widgets(this.prototype.__protochain)})},IoInspector.RegisterConfig=function(t){this.prototype.__config.registerConfig(t)},IoInspector.RegisterGroups=function(t){this.prototype.__groups.registerGroups(t)},IoInspector.RegisterWidgets=function(t){this.prototype.__widgets.registerWidgets(t)},IoInspector.Register(),IoInspector.RegisterGroups({"Array|main":[/^[0-9]+$/]});class IoProperties extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: grid;\n\t\t\tgrid-gap: var(--io-spacing);\n\t\t\tjustify-self: stretch;\n\t\t\tjustify-items: start;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t\t:host[horizontal] {\n\t\t\tgrid-auto-flow: column;\n\t\t\tgrid-template-rows: auto;\n\t\t}\n\t\t:host[horizontal][labeled] {\n\t\t\tgrid-template-rows: auto auto;\n\t\t}\n\t\t:host:not([horizontal]) {\n\t\t\tgrid-template-columns: auto;\n\t\t}\n\t\t:host:not([horizontal])[labeled] {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: min-content minmax(12em, 1fr);\n\t\t}\n\t\t:host > span.io-item {\n\t\t\tmax-width: 8em !important;\n\t\t\twidth: 100%;\n\t\t}\n\t\t:host:not([horizontal]) > * {\n\t\t\tmax-width: 100%;\n\t\t}\n\t\t:host > :first-child {\n\t\t\tgrid-column: span 2;\n\t\t\twidth: 100%;\n\t\t}\n\t\t:host > io-object {}\n\t\t:host > io-object {\n\t\t\tpadding: 0;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder-color: transparent;\n\t\t\tbackground-color: transparent;\n\t\t\tbackground-image: none;\n\t\t}\n\t\t:host > io-object,\n\t\t:host > io-properties,\n\t\t:host > io-number,\n\t\t:host > io-string {\n\t\t\twidth: auto;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host io-properties {\n\t\t\tborder: 0 !important;\n\t\t\tborder-radius: 0 !important;\n\t\t\tbox-shadow: none !important;\n\t\t}\n\t\t"}static get Properties(){return{labeled:{value:!0,reflect:1},horizontal:{value:!1,reflect:1},value:{type:Object,observe:!0},properties:Array,slotted:Array,config:Object}}static get Config(){return{"type:string":["io-string",{}],"type:number":["io-number",{step:1e-7}],"type:boolean":["io-boolean",{}],"type:object":["io-object",{}],"type:null":["io-string",{}],"type:undefined":["io-string",{}]}}_onValueSet(t){if(t.detail.object)return;const e=t.composedPath()[0];if(e===this)return;t.stopImmediatePropagation();const n=e.id;if(null!==n&&"value"===t.detail.property){const e=t.detail.value,i=t.detail.oldValue;this.value[n]=e;const o={object:this.value,property:n,value:e,oldValue:i};this.dispatchEvent("object-mutated",o,!1,window)}}_getConfig(){const t=Object.getOwnPropertyNames(this.value).length;return this._config&&this.config===this._currentConfig&&this.value===this._currentValue&&t===this._currentLength?this._config:(this._currentConfig=this.config,this._currentValue=this.value,this._currentLength=t,this._config=this.__proto__.__config.getConfig(this.value,this.config),this._config)}valueMutated(){this._changedThrottled(),clearTimeout(this._cfgTimeout),this._cfgTimeout=setTimeout(()=>{this._updateChildren()},100)}_updateChildren(){const t=this.querySelectorAll(":scope > *, io-properties > *"),e=this.filterObjects(this.value,t=>"object"==typeof t,1);for(let n=0;n<t.length;n++){const i=t[n];"object"==typeof i.value&&-1!==e.indexOf(i.value)&&i.changed&&i.changed()}}changed(){this._changedThrottled()}_changedThrottled(){this.throttle(this._changed,null)}_changed(){this._config=this._getConfig();const t=this._config,e=[],n=this.properties.length?this.properties:Object.keys(t);this.slotted.length?e.push(this.slotted):e.push(["slotted-dummy"]);for(let i=0;i<n.length;i++){const o=n[i];if(!this.properties.length||-1!==this.properties.indexOf(o)){const n=t[o][0],i=t[o][1],s=t[o].label||o,r={title:s,id:o,value:this.value[o],"on-value-set":this._onValueSet};r.config=this.config,e.push(this.labeled?["span",{class:"io-item"},s+":"]:null,[n,Object.assign(r,i)])}}this.template(e)}}IoProperties.Register=function(){IoElement.Register.call(this),Object.defineProperty(this.prototype,"__config",{value:new Config(this.prototype.__protochain)})},IoProperties.RegisterConfig=function(t){this.prototype.__config.registerConfig(t)},IoProperties.Register();class IoObject extends IoElement{static get Style(){return'\n\t\t:host {\n\t\t\t@apply --io-panel;\n\t\t}\n\t\t:host > io-boolean {\n\t\t\talign-self: stretch;\n\t\t}\n\t\t:host > io-boolean:before {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 1.125em;\n\t\t\tcontent: "▸"\n\t\t}\n\t\t:host > io-boolean[value]:before {\n\t\t\tcontent: "▾";\n\t\t}\n\t\t:host > :nth-child(n+2) {\n\t\t\tmargin-top: var(--io-spacing);\n\t\t}\n\t\t'}static get Properties(){return{value:Object,properties:Array,config:Object,labeled:!0,label:{reflect:1},expanded:{type:Boolean,reflect:1},slotted:Array,role:"region"}}changed(){const t=this.label||this.value.constructor.name,e=[["io-boolean",{true:t,false:t,value:this.bind("expanded")}]];this.expanded&&e.push(["io-properties",{value:this.value,properties:this.properties,config:this.config,labeled:this.labeled,slotted:this.slotted}]),this.template(e),this.setAttribute("aria-expanded",String(this.expanded))}}IoObject.Register();
/**@License
 * Copyright (c) 2011-2016 Heather Arthur <fayearthur@gmail.com>
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
const convert={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(const t of Object.keys(convert)){if(!("channels"in convert[t]))throw new Error("missing channels property: "+t);if(!("labels"in convert[t]))throw new Error("missing channel labels property: "+t);if(convert[t].labels.length!==convert[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:n}=convert[t];delete convert[t].channels,delete convert[t].labels,Object.defineProperty(convert[t],"channels",{value:e}),Object.defineProperty(convert[t],"labels",{value:n})}convert.rgb.hsl=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.min(e,n,i),s=Math.max(e,n,i),r=s-o;let l,a;s===o?l=0:e===s?l=(n-i)/r:n===s?l=2+(i-e)/r:i===s&&(l=4+(e-n)/r),(l=Math.min(60*l,360))<0&&(l+=360);const h=(o+s)/2;return[l,100*(a=s===o?0:h<=.5?r/(s+o):r/(2-s-o)),100*h]},convert.rgb.hsv=function(t){let e,n,i,o,s;const r=t[0]/255,l=t[1]/255,a=t[2]/255,h=Math.max(r,l,a),c=h-Math.min(r,l,a),d=function(t){return(h-t)/6/c+.5};return 0===c?(o=0,s=0):(s=c/h,e=d(r),n=d(l),i=d(a),r===h?o=i-n:l===h?o=1/3+e-i:a===h&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*s,100*h]},convert.rgb.hwb=function(t){const e=t[0],n=t[1];let i=t[2];return[convert.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(n,i))),100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},convert.rgb.cmyk=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.min(1-e,1-n,1-i);return[100*((1-e-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-i-o)/(1-o)||0),100*o]},convert.rgb.xyz=function(t){let e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?((e+.055)/1.055)**2.4:e/12.92)+.3576*(n=n>.04045?((n+.055)/1.055)**2.4:n/12.92)+.1805*(i=i>.04045?((i+.055)/1.055)**2.4:i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},convert.rgb.lab=function(t){const e=convert.rgb.xyz(t);let n=e[0],i=e[1],o=e[2];return i/=100,o/=108.883,n=(n/=95.047)>.008856?n**(1/3):7.787*n+16/116,[116*(i=i>.008856?i**(1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(o=o>.008856?o**(1/3):7.787*o+16/116))]},convert.hsl.rgb=function(t){const e=t[0]/360,n=t[1]/100,i=t[2]/100;let o,s,r;if(0===n)return[r=255*i,r,r];const l=2*i-(o=i<.5?i*(1+n):i+n-i*n),a=[0,0,0];for(let t=0;t<3;t++)(s=e+1/3*-(t-1))<0&&s++,s>1&&s--,r=6*s<1?l+6*(o-l)*s:2*s<1?o:3*s<2?l+(o-l)*(2/3-s)*6:l,a[t]=255*r;return a},convert.hsl.hsv=function(t){const e=t[0];let n=t[1]/100,i=t[2]/100,o=n;const s=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,o*=s<=1?s:2-s,[e,100*(0===i?2*o/(s+o):2*n/(i+n)),100*((i+n)/2)]},convert.hsv.rgb=function(t){const e=t[0]/60,n=t[1]/100;let i=t[2]/100;const o=Math.floor(e)%6,s=e-Math.floor(e),r=255*i*(1-n),l=255*i*(1-n*s),a=255*i*(1-n*(1-s));switch(i*=255,o){case 0:return[i,a,r];case 1:return[l,i,r];case 2:return[r,i,a];case 3:return[r,l,i];case 4:return[a,r,i];case 5:return[i,r,l]}},convert.hsv.hsl=function(t){const e=t[0],n=t[1]/100,i=t[2]/100,o=Math.max(i,.01);let s,r;r=(2-n)*i;const l=(2-n)*o;return s=n*o,[e,100*(s=(s/=l<=1?l:2-l)||0),100*(r/=2)]},convert.hwb.rgb=function(t){const e=t[0]/360;let n=t[1]/100,i=t[2]/100;const o=n+i;let s;o>1&&(n/=o,i/=o);const r=Math.floor(6*e),l=1-i;s=6*e-r,0!=(1&r)&&(s=1-s);const a=n+s*(l-n);let h,c,d;switch(r){default:case 6:case 0:h=l,c=a,d=n;break;case 1:h=a,c=l,d=n;break;case 2:h=n,c=l,d=a;break;case 3:h=n,c=a,d=l;break;case 4:h=a,c=n,d=l;break;case 5:h=l,c=n,d=a}return[255*h,255*c,255*d]},convert.cmyk.rgb=function(t){const e=t[0]/100,n=t[1]/100,i=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o))]},convert.xyz.rgb=function(t){const e=t[0]/100,n=t[1]/100,i=t[2]/100;let o,s,r;return s=-.9689*e+1.8758*n+.0415*i,r=.0557*e+-.204*n+1.057*i,o=(o=3.2406*e+-1.5372*n+-.4986*i)>.0031308?1.055*o**(1/2.4)-.055:12.92*o,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,[255*(o=Math.min(Math.max(0,o),1)),255*(s=Math.min(Math.max(0,s),1)),255*(r=Math.min(Math.max(0,r),1))]},convert.xyz.lab=function(t){let e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?e**(1/3):7.787*e+16/116,[116*(n=n>.008856?n**(1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?i**(1/3):7.787*i+16/116))]},convert.lab.xyz=function(t){const e=t[0],n=t[1],i=t[2];let o,s,r;const l=(s=(e+16)/116)**3,a=(o=n/500+s)**3,h=(r=s-i/200)**3;return s=l>.008856?l:(s-16/116)/7.787,o=a>.008856?a:(o-16/116)/7.787,r=h>.008856?h:(r-16/116)/7.787,[o*=95.047,s*=100,r*=108.883]},convert.lab.lch=function(t){const e=t[0],n=t[1],i=t[2];let o;return(o=360*Math.atan2(i,n)/2/Math.PI)<0&&(o+=360),[e,Math.sqrt(n*n+i*i),o]},convert.lch.lab=function(t){const e=t[0],n=t[1],i=t[2]/360*2*Math.PI;return[e,n*Math.cos(i),n*Math.sin(i)]},convert.rgb.ansi16=function(t,e=null){const[n,i,o]=t;let s=null===e?convert.rgb.hsv(t)[2]:e;if(0===(s=Math.round(s/50)))return 30;let r=30+(Math.round(o/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return 2===s&&(r+=60),r},convert.hsv.ansi16=function(t){return convert.rgb.ansi16(convert.hsv.rgb(t),t[2])},convert.rgb.ansi256=function(t){const e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},convert.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];const n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},convert.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},convert.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},convert.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let n=e[0];3===e[0].length&&(n=n.split("").map(t=>t+t).join(""));const i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},convert.rgb.hcg=function(t){const e=t[0]/255,n=t[1]/255,i=t[2]/255,o=Math.max(Math.max(e,n),i),s=Math.min(Math.min(e,n),i),r=o-s;let l,a;return l=r<1?s/(1-r):0,a=r<=0?0:o===e?(n-i)/r%6:o===n?2+(i-e)/r:4+(e-n)/r+4,a/=6,[360*(a%=1),100*r,100*l]},convert.hsl.hcg=function(t){const e=t[1]/100,n=t[2]/100,i=n<.5?2*e*n:2*e*(1-n);let o=0;return i<1&&(o=(n-.5*i)/(1-i)),[t[0],100*i,100*o]},convert.hsv.hcg=function(t){const e=t[1]/100,n=t[2]/100,i=e*n;let o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],100*i,100*o]},convert.hcg.rgb=function(t){const e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];const o=[0,0,0],s=e%1*6,r=s%1,l=1-r;let a=0;switch(Math.floor(s)){case 0:o[0]=1,o[1]=r,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=r;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=r,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return a=(1-n)*i,[255*(n*o[0]+a),255*(n*o[1]+a),255*(n*o[2]+a)]},convert.hcg.hsv=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);let i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},convert.hcg.hsl=function(t){const e=t[1]/100,n=t[2]/100*(1-e)+.5*e;let i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},convert.hcg.hwb=function(t){const e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},convert.hwb.hcg=function(t){const e=t[1]/100,n=1-t[2]/100,i=n-e;let o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],100*i,100*o]},convert.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},convert.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},convert.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},convert.gray.hsl=function(t){return[0,0,t[0]]},convert.gray.hsv=convert.gray.hsl,convert.gray.hwb=function(t){return[0,100,t[0]]},convert.gray.cmyk=function(t){return[0,0,0,t[0]]},convert.gray.lab=function(t){return[t[0],0,0]},convert.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},convert.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const IoColorMixin=t=>{const e=class extends t{static get Properties(){return{value:{value:[1,1,1,1],observe:!0},rgb:[1,1,1],hsv:[1,1,1],hsl:[1,1,1],cmyk:[1,1,1,1],alpha:1,mode:0}}static get GlUtils(){return"\n\t\t\tvec3 hue2rgb(float hue) {\n\t\t\t\thue=fract(hue);\n\t\t\t\tfloat R = abs(hue * 6. - 3.) - 1.;\n\t\t\t\tfloat G = 2. - abs(hue * 6. - 2.);\n\t\t\t\tfloat B = 2. - abs(hue * 6. - 4.);\n\t\t\t\treturn saturate(vec3(R,G,B));\n\t\t\t}\n\t\t\tvec3 hsv2rgb(vec3 hsv) {\n\t\t\t\tvec3 rgb = hue2rgb(hsv.r);\n\t\t\t\treturn ((rgb - 1.) * hsv.g + 1.) * hsv.b;\n\t\t\t}\n\t\t\tvec3 hsl2rgb(vec3 hsl) {\n\t\t\t\tvec3 rgb = hue2rgb(hsl.x);\n\t\t\t\tfloat C = (1. - abs(2. * hsl.z - 1.)) * hsl.y;\n\t\t\t\treturn (rgb - 0.5) * C + hsl.z;\n\t\t\t}\n\t\t\tvec3 cmyk2rgb(vec4 cmyk) {\n\t\t\t\tfloat r = 1. - min(1., cmyk.x * (1. - cmyk.w) + cmyk.w);\n\t\t\t\tfloat g = 1. - min(1., cmyk.y * (1. - cmyk.w) + cmyk.w);\n\t\t\t\tfloat b = 1. - min(1., cmyk.z * (1. - cmyk.w) + cmyk.w);\n\t\t\t\treturn vec3(r, g, b);\n\t\t\t}\n\t\t\t\n\n"}valueMutated(){this.valueChanged()}modeChanged(){this.valueChanged()}setValueFromRgb(){const t=Object.keys(this.value);switch(this.mode){case 0:this.value[t[0]]=this.rgb[0],this.value[t[1]]=this.rgb[1],this.value[t[2]]=this.rgb[2];break;case 1:{const e=convert.rgb.hsv([255*this.rgb[0],255*this.rgb[1],255*this.rgb[2]]);this.value[t[0]]=e[0]/360,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100;break}case 2:{const e=convert.rgb.hsl([255*this.rgb[0],255*this.rgb[1],255*this.rgb[2]]);this.value[t[0]]=e[0]/360,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100;break}case 3:{const e=convert.rgb.cmyk([255*this.rgb[0],255*this.rgb[1],255*this.rgb[2]]);this.value[t[0]]=e[0]/100,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100,this.value[t[3]]=e[3]/100;break}}this._notifyValueChange()}setValueFromHsv(){const t=Object.keys(this.value);switch(this.mode){case 0:{const e=convert.hsv.rgb([360*this.hsv[0],100*this.hsv[1],100*this.hsv[2]]);this.value[t[0]]=e[0]/255,this.value[t[1]]=e[1]/255,this.value[t[2]]=e[2]/255;break}case 1:this.value[t[0]]=this.hsv[0],this.value[t[1]]=this.hsv[1],this.value[t[2]]=this.hsv[2];break;case 2:{const e=convert.rgb.hsl(convert.hsv.rgb([360*this.hsv[0],100*this.hsv[1],100*this.hsv[2]]));this.value[t[0]]=e[0]/360,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100;break}case 3:{const e=convert.rgb.cmyk(convert.hsv.rgb([360*this.hsv[0],100*this.hsv[1],100*this.hsv[2]]));this.value[t[0]]=e[0]/100,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100,this.value[t[3]]=e[3]/100;break}}this._notifyValueChange()}setValueFromHsl(){const t=Object.keys(this.value);switch(this.mode){case 0:{const e=convert.hsl.rgb([360*this.hsl[0],100*this.hsl[1],100*this.hsl[2]]);this.value[t[0]]=e[0]/255,this.value[t[1]]=e[1]/255,this.value[t[2]]=e[2]/255;break}case 1:{const e=convert.rgb.hsv(convert.hsl.rgb([360*this.hsl[0],100*this.hsl[1],100*this.hsl[2]]));this.value[t[0]]=e[0]/360,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100;break}case 2:this.value[t[0]]=this.hsl[0],this.value[t[1]]=this.hsl[1],this.value[t[2]]=this.hsl[2];break;case 3:{const e=convert.rgb.cmyk(convert.hsl.rgb([360*this.hsl[0],100*this.hsl[1],100*this.hsl[2]]));this.value[t[0]]=e[0]/100,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100,this.value[t[3]]=e[3]/100;break}}this._notifyValueChange()}setValueFromCmyk(){const t=Object.keys(this.value);switch(this.mode){case 0:{const e=convert.cmyk.rgb([100*this.cmyk[0],100*this.cmyk[1],100*this.cmyk[2],100*this.cmyk[3]]);this.value[t[0]]=e[0]/255,this.value[t[1]]=e[1]/255,this.value[t[2]]=e[2]/255;break}case 1:{const e=convert.rgb.hsv(convert.cmyk.rgb([100*this.cmyk[0],100*this.cmyk[1],100*this.cmyk[2],100*this.cmyk[3]]));this.value[t[0]]=e[0]/360,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100;break}case 2:{const e=convert.rgb.hsl(convert.cmyk.rgb([100*this.cmyk[0],100*this.cmyk[1],100*this.cmyk[2],100*this.cmyk[3]]));this.value[t[0]]=e[0]/360,this.value[t[1]]=e[1]/100,this.value[t[2]]=e[2]/100;break}case 3:this.value[t[0]]=this.cmyk[0],this.value[t[1]]=this.cmyk[1],this.value[t[2]]=this.cmyk[2],this.value[t[3]]=this.cmyk[3]}this._notifyValueChange()}valueChanged(){let t=Object.keys(this.value),e=this.mode;-1!==t.indexOf("r")?e=0:-1!==t.indexOf("h")&&-1!==t.indexOf("v")?e=1:-1!==t.indexOf("h")&&-1!==t.indexOf("l")?e=2:-1!==t.indexOf("c")&&(e=3);const n=[];for(let e=0;e<t.length;e++)n.push(this.value[t[e]]);let i,o,s,r,l=void 0;switch(e){case 3:r=[100*n[0],100*n[1],100*n[2],100*n[3]],i=convert.cmyk.rgb(r),o=convert.rgb.hsv(convert.cmyk.rgb(r)),s=convert.rgb.hsl(convert.cmyk.rgb(r)),void 0!==n[4]&&(l=100*n[4]);break;case 2:s=[360*n[0],100*n[1],100*n[2]],i=convert.hsl.rgb(s),o=convert.hsl.hsv(s),r=convert.rgb.cmyk(convert.hsl.rgb(s)),void 0!==n[3]&&(l=100*n[3]);break;case 1:o=[360*n[0],100*n[1],100*n[2]],i=convert.hsv.rgb(o),s=convert.hsv.hsl(o),r=convert.rgb.cmyk(convert.hsv.rgb(o)),void 0!==n[3]&&(l=100*n[3]);break;case 0:default:i=[255*n[0],255*n[1],255*n[2]],o=convert.rgb.hsv(i),s=convert.rgb.hsl(i),r=convert.rgb.cmyk(i),void 0!==n[3]&&(l=100*n[3])}0===o[1]&&(o[0]=360*this.hsv[0]),0===o[2]&&(o[1]=100*this.hsv[1]),0===s[1]&&(s[0]=360*this.hsl[0]),0!==s[2]&&100!==s[2]||(s[0]=360*this.hsl[0],s[1]=100*this.hsl[1]),100===r[3]&&(r[0]=100*this.cmyk[0],r[1]=100*this.cmyk[1],r[2]=100*this.cmyk[2]),this.setProperties({rgb:[i[0]/255,i[1]/255,i[2]/255],hsv:[o[0]/360,o[1]/100,o[2]/100],hsl:[s[0]/360,s[1]/100,s[2]/100],cmyk:[r[0]/100,r[1]/100,r[2]/100,r[3]/100],alpha:void 0!==l?l/100:void 0,mode:e})}};return e.Register=IoElement.Register,e};class IoColorSlider extends(IoColorMixin(IoSlider)){static get Properties(){return{value:[1,1,1,1],step:.001,min:0,max:1}}static get GlUtils(){return"\n\t\tvec4 paintColorSlider(vec2 position, vec3 color) {\n\t\t\t// return paintSlider(position, color);\n\t\t\tvec4 slotColor = vec4(.2, .2, .2, 1.);\n\t\t\tvec4 fillColor = vec4(.8, .8, .8, 1.);\n\t\t\tvec4 sliderColor = vec4(0.);\n\t\t\tfloat slotWidth = cssStrokeWidth * 1.5;\n\t\t\tfloat radius = cssItemHeight / 4.;\n\t\t\tfloat stroke = cssStrokeWidth;\n\t\t\tfloat strokeShape = min(circle(position, radius + stroke), rectangle(position - vec2(0., 2500.), vec2(slotWidth + stroke, 5000.)));\n\t\t\tsliderColor = mix(vec4(slotColor.rgb, 1.), sliderColor, strokeShape);\n\t\t\tfloat fillShape = min(circle(position, radius), rectangle(position - vec2(0., 2500.), vec2(slotWidth, 5000.)));\n\t\t\tsliderColor = mix(fillColor, sliderColor, fillShape);\n\t\t\tfloat colorShape = min(circle(position, radius - stroke), rectangle(position - vec2(0., 2500.), vec2(slotWidth - stroke, 5000.)));\n\t\t\tsliderColor = mix(vec4(color, 1.), sliderColor, colorShape);\n\t\t\treturn sliderColor;\n\t\t}\n\t\tvec4 paintColorSlider2D(vec2 position, vec3 color) {\n\t\t\tvec4 sliderColor = vec4(0.);\n\t\t\tfloat radius = cssItemHeight / 4.;\n\t\t\tfloat stroke = cssStrokeWidth;\n\t\t\tvec4 slotColor = vec4(.2, .2, .2, 1.);\n\t\t\tvec4 fillColor = vec4(.8, .8, .8, 1.);\n\t\t\tvec2 width = (uHorizontal == 1) ? vec2(stroke * 2., uSize.y) : vec2(uSize.x, stroke * 2.);\n\t\t\tfloat strokeShape = circle(position, radius + stroke);\n\t\t\tsliderColor = mix(slotColor, sliderColor, strokeShape);\n\t\t\tfloat fillShape = circle(position, radius);\n\t\t\tsliderColor = mix(fillColor, sliderColor, fillShape);\n\t\t\tfloat colorShape = circle(position, radius - stroke);\n\t\t\tsliderColor = mix(vec4(color, 1.), sliderColor, colorShape);\n\t\t\treturn sliderColor;\n\t\t}\n\t\t\n\n"}valueMutated(){this.valueChanged()}setAria(){}_onKeydown(t){super._onKeydown(t),this._notifyValueChange()}_setIncrease(){}_setDecrease(){}_setMin(){this._setValue(0,0)}_setMax(){this._setValue(1,1)}_onPointermoveThrottled(t){super._onPointermoveThrottled(t),this._notifyValueChange()}_notifyValueChange(){this.dispatchEvent("object-mutated",{object:this.value},!1,window),this.dispatchEvent("value-set",{property:"value",value:this.value},!1),this.dispatchEvent("io-value-set",{property:"value",value:this.value},!0)}_setValue(){}}IoColorSlider.Register();class IoColorSliderRed extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = vec3(uv.x, uRgb[1], uRgb[2]);\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uRgb[0], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.rgb[0]=Math.min(1,this.rgb[0]+.01),this.setValueFromRgb()}_setDecrease(){this.rgb[0]=Math.max(0,this.rgb[0]-.01),this.setValueFromRgb()}_setValue(t){this.rgb[0]=t,this.setValueFromRgb()}}IoColorSliderRed.Register();class IoColorSliderGreen extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = vec3(uRgb[0], uv.x, uRgb[2]);\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uRgb[1], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.rgb[1]=Math.min(1,this.rgb[1]+.01),this.setValueFromRgb()}_setDecrease(){this.rgb[1]=Math.max(0,this.rgb[1]-.01),this.setValueFromRgb()}_setValue(t){this.rgb[1]=t,this.setValueFromRgb()}}IoColorSliderGreen.Register();class IoColorSliderBlue extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = vec3(uRgb[0], uRgb[1], uv.x);\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uRgb[2], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.rgb[2]=Math.min(1,this.rgb[2]+.01),this.setValueFromRgb()}_setDecrease(){this.rgb[2]=Math.max(0,this.rgb[2]-.01),this.setValueFromRgb()}_setValue(t){this.rgb[2]=t,this.setValueFromRgb()}}IoColorSliderBlue.Register();class IoColorSliderHue extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Hue spectrum\n\t\t\t\tvec3 finalColor = hsv2rgb(vec3(uv.x, uHsv[1], uHsv[2]));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uHsv[0], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.hsv[0]=Math.min(1,this.hsv[0]+.01),this.setValueFromHsv()}_setDecrease(){this.hsv[0]=Math.max(0,this.hsv[0]-.01),this.setValueFromHsv()}_setValue(t){this.hsv[0]=t,this.setValueFromHsv()}}IoColorSliderHue.Register();class IoColorSliderSaturation extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Saturation gradient\n\t\t\t\tvec3 finalColor = hsv2rgb(vec3(uHsv[0], uv.x, uHsv[2]));\n\t\t\t\tfloat saturation = uHsv[1];\n\t\t\t\tif (uMode == 2.0) {\n\t\t\t\t\tsaturation = uHsl[1];\n\t\t\t\t\tfinalColor = hsl2rgb(vec3(uHsl[0], uv.x, uHsl[2]));\n\t\t\t\t}\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * saturation, size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.hsv[1]=Math.min(1,this.hsv[1]+.01),this.setValueFromHsv()}_setDecrease(){this.hsv[1]=Math.max(0,this.hsv[1]-.01),this.setValueFromHsv()}_setValue(t){this.hsv[1]=t,this.setValueFromHsv()}}IoColorSliderSaturation.Register();class IoColorSliderValue extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = hsv2rgb(vec3(uHsv[0], uHsv[1], uv.x));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uHsv[2], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.hsv[2]=Math.min(1,this.hsv[2]+.01),this.setValueFromHsv()}_setDecrease(){this.hsv[2]=Math.max(0,this.hsv[2]-.01),this.setValueFromHsv()}_setValue(t){this.hsv[2]=t,this.setValueFromHsv()}}IoColorSliderValue.Register();class IoColorSliderLevel extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = hsl2rgb(vec3(uHsl[0], uHsl[1], uv.x));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uHsl[2], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.hsv[2]=Math.min(1,this.hsv[2]+.01),this.setValueFromHsl()}_setDecrease(){this.hsv[2]=Math.max(0,this.hsv[2]-.01),this.setValueFromHsl()}_setValue(t){this.hsl[2]=t,this.setValueFromHsl()}}IoColorSliderLevel.Register();class IoColorSliderHs extends IoColorSlider{static get Style(){return"\n\t\t:host {\n\t\t\tcursor: move !important;\n\t\t}\n\t\t"}static get Properties(){return{noscroll:!0}}static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// HS gradient\n\t\t\t\tvec3 finalColor = hsv2rgb(vec3(uv, uHsv[2]));\n\t\t\t\tif (uMode == 2.0) {\n\t\t\t\t\tfinalColor = hsl2rgb(vec3(uv, uHsl[2]));\n\t\t\t\t}\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uHsv[0], size.y * uHsv[1]));\n\t\t\t\tvec4 slider = paintColorSlider2D(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_onKeydown(t){t.shiftKey&&"ArrowLeft"===t.key?(t.preventDefault(),this.horizontal?this.hsv[0]=Math.max(0,this.hsv[0]-.01):this.hsv[1]=Math.max(0,this.hsv[1]-.01),this.setValueFromHsv()):t.shiftKey&&"ArrowUp"===t.key?(t.preventDefault(),this.horizontal?this.hsv[1]=Math.min(1,this.hsv[1]+.01):this.hsv[0]=Math.min(1,this.hsv[0]+.01),this.setValueFromHsv()):t.shiftKey&&"ArrowRight"===t.key?(t.preventDefault(),this.horizontal?this.hsv[0]=Math.min(1,this.hsv[0]+.01):this.hsv[1]=Math.min(1,this.hsv[1]+.01),this.setValueFromHsv()):t.shiftKey&&"ArrowDown"===t.key?(t.preventDefault(),this.horizontal?this.hsv[1]=Math.max(0,this.hsv[1]-.01):this.hsv[0]=Math.max(0,this.hsv[0]-.01),this.setValueFromHsv()):super._onKeydown(t)}_setValue(t,e){this.hsv[0]=t,this.hsv[1]=e,this.setValueFromHsv()}}IoColorSliderHs.Register();class IoColorSliderSv extends IoColorSlider{static get Style(){return"\n\t\t:host {\n\t\t\tcursor: move !important;\n\t\t}\n\t\t"}static get Properties(){return{noscroll:!0}}static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// SV gradient\n\t\t\t\tvec3 finalColor = hsv2rgb(vec3(uHsv[0], uv));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uHsv[1], size.y * uHsv[2]));\n\t\t\t\tvec4 slider = paintColorSlider2D(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_onKeydown(t){t.shiftKey&&"ArrowLeft"===t.key?(t.preventDefault(),this.horizontal?this.hsv[1]=Math.max(0,this.hsv[1]-.01):this.hsv[2]=Math.max(0,this.hsv[2]-.01),this.setValueFromHsv()):t.shiftKey&&"ArrowUp"===t.key?(t.preventDefault(),this.horizontal?this.hsv[2]=Math.min(1,this.hsv[2]+.01):this.hsv[1]=Math.min(1,this.hsv[1]+.01),this.setValueFromHsv()):t.shiftKey&&"ArrowRight"===t.key?(t.preventDefault(),this.horizontal?this.hsv[1]=Math.min(1,this.hsv[1]+.01):this.hsv[2]=Math.min(1,this.hsv[2]+.01),this.setValueFromHsv()):t.shiftKey&&"ArrowDown"===t.key?(t.preventDefault(),this.horizontal?this.hsv[2]=Math.max(0,this.hsv[2]-.01):this.hsv[1]=Math.max(0,this.hsv[1]-.01),this.setValueFromHsv()):super._onKeydown(t)}_setValue(t,e){this.hsv[1]=t,this.hsv[2]=e,this.setValueFromHsv()}}IoColorSliderSv.Register();class IoColorSliderSl extends IoColorSlider{static get Style(){return"\n\t\t:host {\n\t\t\tcursor: move !important;\n\t\t}\n\t\t"}static get Properties(){return{noscroll:!0}}static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// SV gradient\n\t\t\t\tvec3 finalColor = hsl2rgb(vec3(uHsl[0], uv));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uHsl[1], size.y * uHsl[2]));\n\t\t\t\tvec4 slider = paintColorSlider2D(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_onKeydown(t){t.shiftKey&&"ArrowLeft"===t.key?(t.preventDefault(),this.horizontal?this.hsl[1]=Math.max(0,this.hsl[1]-.01):this.hsl[2]=Math.max(0,this.hsl[2]-.01),this.setValueFromHsl()):t.shiftKey&&"ArrowUp"===t.key?(t.preventDefault(),this.horizontal?this.hsl[2]=Math.min(1,this.hsl[2]+.01):this.hsl[1]=Math.min(1,this.hsl[1]+.01),this.setValueFromHsl()):t.shiftKey&&"ArrowRight"===t.key?(t.preventDefault(),this.horizontal?this.hsl[1]=Math.min(1,this.hsl[1]+.01):this.hsl[2]=Math.min(1,this.hsl[2]+.01),this.setValueFromHsl()):t.shiftKey&&"ArrowDown"===t.key?(t.preventDefault(),this.horizontal?this.hsl[2]=Math.max(0,this.hsl[2]-.01):this.hsl[1]=Math.max(0,this.hsl[1]-.01),this.setValueFromHsl()):super._onKeydown(t)}_setValue(t,e){this.hsl[1]=t,this.hsl[2]=e,this.setValueFromHsl()}}IoColorSliderSl.Register();class IoColorSliderCyan extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = cmyk2rgb(vec4(uv.x, uCmyk[1], uCmyk[2], uCmyk[3]));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uCmyk[0], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.cmyk[0]=Math.min(1,this.cmyk[0]+.01),this.setValueFromCmyk()}_setDecrease(){this.cmyk[0]=Math.max(0,this.cmyk[0]-.01),this.setValueFromCmyk()}_setValue(t){this.cmyk[0]=t,this.setValueFromCmyk()}}IoColorSliderCyan.Register();class IoColorSliderMagenta extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = cmyk2rgb(vec4(uCmyk[0], uv.x, uCmyk[2], uCmyk[3]));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uCmyk[1], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.cmyk[1]=Math.min(1,this.cmyk[1]+.01),this.setValueFromCmyk()}_setDecrease(){this.cmyk[1]=Math.max(0,this.cmyk[1]-.01),this.setValueFromCmyk()}_setValue(t){this.cmyk[1]=t,this.setValueFromCmyk()}}IoColorSliderMagenta.Register();class IoColorSliderYellow extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = cmyk2rgb(vec4(uCmyk[0], uCmyk[1], uv.x, uCmyk[3]));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uCmyk[2], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.cmyk[2]=Math.min(1,this.cmyk[2]+.01),this.setValueFromCmyk()}_setDecrease(){this.cmyk[2]=Math.max(0,this.cmyk[2]-.01),this.setValueFromCmyk()}_setValue(t){this.cmyk[2]=t,this.setValueFromCmyk()}}IoColorSliderYellow.Register();class IoColorSliderKey extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Value gradient\n\t\t\t\tvec3 finalColor = cmyk2rgb(vec4(uCmyk[0], uCmyk[1], uCmyk[2], uv.x));\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uCmyk[3], size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, uRgb);\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}_setIncrease(){this.cmyk[3]=Math.min(1,this.cmyk[3]+.01),this.setValueFromCmyk()}_setDecrease(){this.cmyk[3]=Math.max(0,this.cmyk[3]-.01),this.setValueFromCmyk()}_setValue(t){this.cmyk[3]=t,this.setValueFromCmyk()}}IoColorSliderKey.Register();class IoColorSliderAlpha extends IoColorSlider{static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 size = (uHorizontal == 1) ? uSize : uSize.yx;\n\t\t\t\tvec2 uv = uHorizontal == 1 ? vUv.xy : vUv.yx;\n\t\t\t\tvec2 position = size * uv;\n\n\t\t\t\t// Alpha pattern\n\t\t\t\tvec3 alphaPattern = mix(vec3(0.5), vec3(1.0), checker(position, 6.));\n\t\t\t\tvec3 finalColor = alphaPattern;\n\n\t\t\t\t// Apha gradient\n\t\t\t\tfinalColor = mix(finalColor, vec3(1.0), uv.x);\n\n\t\t\t\t// Marker\n\t\t\t\tvec2 markerPos = translate(position, vec2(size.x * uAlpha, size.y * 0.5));\n\t\t\t\tvec4 slider = paintColorSlider(markerPos, vec3(1.0));\n\t\t\t\tfinalColor = mix(finalColor, slider.rgb, slider.a);\n\n\t\t\t\tgl_FragColor = vec4(finalColor, 1.0);\n\t\t\t}\n\t\t"}setAria(){super.setAria();const t=3===this.mode?4:3,e=Object.keys(this.value),n=void 0!==this.value[e[t]];this.setAttribute("aria-invalid",!n&&"true")}_setIncrease(){const t=3===this.mode?4:3,e=Object.keys(this.value);this.value[e[t]]=Math.min(1,this.value[e[t]]+.01)}_setDecrease(){const t=3===this.mode?4:3,e=Object.keys(this.value);this.value[e[t]]=Math.max(0,this.value[e[t]]-.01)}_setMin(){const t=3===this.mode?4:3,e=Object.keys(this.value);this.value[e[t]]=0}_setMax(){const t=3===this.mode?4:3,e=Object.keys(this.value);this.value[e[t]]=1}_setValue(t){const e=3===this.mode?4:3,n=Object.keys(this.value);void 0!==this.value[n[e]]&&(this.value[n[e]]=t)}}IoColorSliderAlpha.Register();class IoColorPanel extends(IoColorMixin(IoElement)){static get Style(){return"\n\t\t:host {\n\t\t\t@apply --io-panel;\n\t\t\tdisplay: flex;\n\t\t\tcursor: move;\n\t\t\talign-items: stretch;\n\t\t\tmin-width: var(--io-line-height);\n\t\t\tmin-height: var(--io-line-height);\n\t\t\tflex-direction: column;\n\t\t}\n\t\t:host:not([expanded]) {\n\t\t\tdisplay: none;\n\t\t}\n\t\t:host[horizontal] {\n\t\t\tflex-direction: row;\n\t\t}\n\t\t:host > * {\n\t\t\tborder-radius: calc(var(--io-border-radius) - var(--io-border-width));\n\t\t}\n\t\t:host > io-color-slider-sl,\n\t\t:host > io-color-slider-sv {\n\t\t\tflex: 1 1;\n\t\t}\n\t\t:host > *:not(:last-child) {\n\t\t\tmargin: 0 0 var(--io-spacing) 0;\n\t\t}\n\t\t:host[horizontal] > *:not(:last-child) {\n\t\t\tmargin: 0 var(--io-spacing) 0 0;\n\t\t}\n\t\t"}static get Properties(){return{expanded:{type:Boolean,reflect:1},horizontal:{value:!0,reflect:1}}}static get Listeners(){return{keydown:"_onKeydown"}}_onKeydown(t){"Escape"!==t.key&&"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.expanded=!1)}changed(){this.template([2===this.mode?["io-color-slider-sl",{value:this.value,mode:this.mode}]:["io-color-slider-sv",{value:this.value,mode:this.mode}],["io-color-slider-hue",{value:this.value,mode:this.mode,horizontal:!this.horizontal}],void 0!==this.alpha?["io-color-slider-alpha",{value:this.value,horizontal:!this.horizontal}]:null])}}IoColorPanel.Register();const IoColorPanelSingleton=new IoColorPanel;IoLayerSingleton.appendChild(IoColorPanelSingleton);class IoColorSwatch extends(IoColorMixin(IoGl)){static get Style(){return"\n\t\t:host {\n\t\t\tbox-sizing: border-box;\n\t\t\talign-self: flex-start;\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tmin-width: var(--io-item-height);\n\t\t\tmin-height: var(--io-item-height);\n\t\t}\n\t\t:host[aria-invalid] {\n\t\t\tborder: var(--io-border-error);\n\t\t}\n\t\t:host:focus {\n\t\t\tborder-color: var(--io-color-focus);\n\t\t\toutline-color: var(--io-color-focus);\n\t\t}\n\t\t"}static get Frag(){return"\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main(void) {\n\t\t\t\tvec2 position = vUv * uSize;\n\n\t\t\t\t// Alpha pattern\n\t\t\t\tvec3 alphaPattern = mix(vec3(0.5), vec3(1.0), checker(position, 6.));\n\n\t\t\t\tfloat alpha = uAlpha;\n\t\t\t\tfloat lineWidth = cssStrokeWidth * 2.0;\n\t\t\t\tvec2 pxUv = vUv * uSize;\n\t\t\t\tif (pxUv.x < lineWidth) alpha = 1.0;\n\t\t\t\tif (pxUv.y < lineWidth) alpha = 1.0;\n\t\t\t\tif (pxUv.x > uSize.x - lineWidth) alpha = 1.0;\n\t\t\t\tif (pxUv.y > uSize.y - lineWidth) alpha = 1.0;\n\n\t\t\t\tgl_FragColor = saturate(vec4(mix(alphaPattern, uRgb.rgb, alpha), 1.0));\n\t\t\t}\n\t\t"}}IoColorSwatch.Register();class IoColorPicker extends(IoColorMixin(IoItem)){static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tbox-sizing: border-box;\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tmin-width: var(--io-item-height);\n\t\t\tmin-height: var(--io-item-height);\n\t\t\tpadding: 0;\n\t\t}\n\t\t:host > io-color-swatch {\n\t\t\tborder: 0;\n\t\t\tflex: 1 1 auto;\n\t\t\talign-self: stretch;\n\t\t\tmin-width: 0;\n\t\t\tmin-height: 0;\n\t\t\tborder-radius: 0;\n\t\t}\n\t\t"}static get Properties(){return{value:[.5,.5,.5,.5],horizontal:!1,role:"slider",tabindex:0}}static get Listeners(){return{click:"_onClick",keydown:"_onKeydown"}}_onClick(){event.preventDefault(),this.focus(),this.toggle()}get expanded(){return IoColorPanelSingleton.expanded&&IoColorPanelSingleton.value===this.value}_onKeydown(t){const e=this.getBoundingClientRect(),n=IoColorPanelSingleton.getBoundingClientRect();"Enter"===t.key||" "===t.key?(t.preventDefault(),this.toggle(),this.expanded&&IoColorPanelSingleton.firstChild.focus()):this.expanded&&n.top>=e.bottom&&"ArrowDown"===t.key?(t.preventDefault(),IoColorPanelSingleton.firstChild.focus()):this.expanded&&n.bottom<=e.top&&"ArrowUp"===t.key?(t.preventDefault(),IoColorPanelSingleton.firstChild.focus()):(this.collapse(),super._onKeydown(t))}_onValueSet(){this.dispatchEvent("io-value-set",{property:"value",value:this.value},!0)}toggle(){this.expanded?this.collapse():this.expand()}expand(){const t=void 0!==this.alpha;IoColorPanelSingleton.value=this.value,IoColorPanelSingleton.mode=this.mode,IoColorPanelSingleton.style.width=t?"192px":"160px",IoColorPanelSingleton.style.height="128px",IoColorPanelSingleton.expanded=!0,IoLayerSingleton.setElementPosition(IoColorPanelSingleton,"bottom",this.getBoundingClientRect()),IoColorPanelSingleton.removeEventListener("io-value-set",IoColorPanelSingleton._targetValueSetHandler),IoColorPanelSingleton.addEventListener("io-value-set",this._onValueSet),IoColorPanelSingleton._targetValueSetHandler=this._onValueSet}collapse(){IoColorPanelSingleton.expanded=!1}changed(){this.template([["io-color-swatch",{value:this.value,mode:this.mode}]])}}IoColorPicker.Register();class IoColorVector extends(IoColorMixin(IoElement)){static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host > io-number {\n\t\t\twidth: inherit;\n\t\t\tflex: 1 1;\n\t\t}\n\t\t:host > *:not(:last-child) {\n\t\t\tmargin-right: var(--io-spacing);\n\t\t}\n\t\t:host > io-color-picker {\n\t\t\twidth: calc(var(--io-line-height) + calc(2 * var(--io-spacing)));\n\t\t}\n\t\t"}static get Properties(){return{value:[0,0,0,0],conversion:1,step:.01,min:0,max:1}}_onValueSet(t){const e=t.composedPath()[0].id,n=t.detail.value,i=t.detail.oldValue;this.value[e]=n;const o={object:this.value,property:this.linked?null:e,value:n,oldValue:i};this.dispatchEvent("object-mutated",o,!1,window)}changed(){const t=[],e=Object.keys(this.value);for(let n in e){const i=e[n];void 0!==this.value[i]&&t.push(["io-number",{id:i,value:this.value[i],conversion:this.conversion,step:this.step,min:this.min,max:this.max,ladder:!0,"on-value-set":this._onValueSet}])}t.push(this.getSlotted()),this.template(t)}getSlotted(){return["io-color-picker",{id:"swatch",mode:this.mode,value:this.value}]}}IoColorVector.Register();class IoLayout extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\toverflow: hidden;\n\t\t\ttouch-action: none;\n\t\t}\n\t\t:host[orientation=horizontal] {\n\t\t\tflex-direction: row;\n\t\t}\n\t\t:host[orientation=vertical] {\n\t\t\tflex-direction: column;\n\t\t}\n\t\t"}static get Properties(){return{elements:Array,splits:{type:Array,observe:!0},editable:!0,orientation:{value:"horizontal",reflect:1}}}static get Listeners(){return{"io-layout-divider-move":"_onDividerMove","io-layout-tab-insert":"_onLayoutTabInsert"}}_onSelectedChanged(){const t=[].slice.call(this.children).filter(t=>"io-layout-divider"!==t.localName);for(let e=0;e<t.length;e++)t[e].selected&&(this.splits[e].selected=t[e].selected)}changed(){let t=[];for(let e=0;e<this.splits.length;e++){const n=this.splits[e],i=void 0!==n.size?n.size+"px":null,o={"flex-basis":i||"auto","flex-grow":i?0:1,"flex-shrink":i?0:1};n.tabs?t.push(["io-selector-tabs",{elements:this.elements,filter:n.tabs,selected:n.selected,editable:this.editable,style:o,"on-selected-changed":this._onSelectedChanged}]):n.splits?t.push(["io-layout",{elements:this.elements,splits:n.splits,orientation:n.orientation,editable:this.editable,style:o}]):t.push(["p","Malformed layout data."]),e<this.splits.length-1&&t.push(["io-layout-divider",{orientation:this.orientation||"horizontal",index:e}])}this.template([t])}_onLayoutTabInsert(t){t.stopImmediatePropagation();const e=[].slice.call(this.children).filter(t=>"io-layout-divider"!==t.localName),n=t.detail.source,i=t.detail.destination,o=e.indexOf(i),s=t.detail.tab,r="vertical"===this.orientation,l=t.detail.direction;for(let t=n.filter.length;t--;)n.filter[t]===s&&(n.filter.splice(t,1),n.selected=n.filter[n.filter.length-1],n.changed());r&&"down"===l||!r&&"right"===l?this.splits.splice(o+1,0,{tabs:[s],selected:s}):r&&"up"===l||!r&&"left"===l?this.splits.splice(o,0,{tabs:[s],selected:s}):r&&"left"===l||!r&&"up"===l?this.splits[o]={splits:[{tabs:[s],selected:s},this.splits[o]],orientation:r?"horizontal":"vertical"}:(r&&"right"===l||!r&&"down"===l)&&(this.splits[o]={splits:[this.splits[o],{tabs:[s],selected:s}],orientation:r?"horizontal":"vertical"}),this.changed()}_onDividerMove(t){t.stopImmediatePropagation();let e=t.detail.index,n=t.detail.index+1,i=this.splits[e],o=this.splits[n],s=void 0===i.size?void 0:i.size+t.detail.movement,r=void 0===o.size?void 0:o.size-t.detail.movement;if(void 0!==s&&s>=0&&(void 0===r||r>=0)&&(this.splits[e].size=Math.max(0,s)),void 0!==r&&r>=0&&(void 0===s||s>=0)&&(this.splits[n].size=Math.max(0,r)),void 0===i.size&&void 0===o.size){const t=[].slice.call(this.children).filter(t=>"io-layout-divider"!==t.localName);let i="horizontal"===this.orientation?"width":"height",o=Math.floor(this.splits.length/2);if(Math.abs(o-e)<=Math.abs(o-n))for(let e=n;e<this.splits.length;e++)this.splits[e].size=parseInt(t[e].getBoundingClientRect()[i]);else for(let n=e;n>=0;n--)this.splits[n].size=parseInt(t[n].getBoundingClientRect()[i])}this.queue("splits",this.splits,this.splits),this.queueDispatch()}}IoLayout.Register();class IoLayoutDivider extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tbackground: var(--io-background-color);\n\t\t\tcolor: var(--io-color);\n\t\t\tz-index: 1;\n\t\t\tdisplay: flex;\n\t\t\tflex: none;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-outset);\n\t\t\tuser-select: none;\n\t\t\ttransition: background-color 0.4s;\n\t\t}\n\t\t:host:hover {\n\t\t\tbackground-color: var(--io-color-focus);\n\t\t}\n\t\t:host[orientation=horizontal] {\n\t\t\tcursor: col-resize;\n\t\t\twidth: var(--io-spacing);\n\t\t\tborder-top: 0;\n\t\t\tborder-bottom: 0;\n\t\t}\n\t\t:host[orientation=vertical] {\n\t\t\tcursor: row-resize;\n\t\t\theight: var(--io-spacing);\n\t\t\tborder-left: 0;\n\t\t\tborder-right: 0;\n\t\t}\n\t\t:host > .app-divider {\n\t\t\tflex: 1;\n\t\t\tdisplay: flex;\n\t\t\tmargin-left: -0.03em;\n\t\t\tmargin-top: -0.06em;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t}\n\t\t"}static get Properties(){return{orientation:{value:"horizontal",reflect:1},index:Number,pointermode:"relative"}}static get Listeners(){return{pointermove:"_onPointermove"}}_onPointermove(t){t.buttons&&(t.preventDefault(),this.setPointerCapture(t.pointerId),this.dispatchEvent("io-layout-divider-move",{movement:"horizontal"===this.orientation?t.movementX:t.movementY,index:this.index},!0))}changed(){this.template([["div",{class:"app-divider"},"horizontal"===this.orientation?"⋮":"⋯"]])}}IoLayoutDivider.Register();class IoCollapsable extends IoElement{static get Style(){return'\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t}\n\t\t:host > io-boolean {\n\t\t\ttext-align: left;\n\t\t\talign-self: stretch;\n\t\t\twidth: auto;\n\t\t\tborder-radius: 0;\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t}\n\t\t:host > io-boolean:before {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 1.125em;\n\t\t\tcontent: "▸"\n\t\t}\n\t\t:host > io-boolean[value]:before {\n\t\t\tcontent: "▾";\n\t\t}\n\t\t:host > :nth-child(n+2) {\n\t\t\tmargin-top: var(--io-spacing);\n\t\t}\n\t\t'}static get Properties(){return{elements:Array,label:{reflect:1},expanded:{type:Boolean,reflect:1},role:"region"}}changed(){this.template([["io-boolean",{true:this.label,false:this.label,value:this.bind("expanded")}],["io-content",{elements:this.elements,expanded:this.expanded}]])}}IoCollapsable.Register();class IoSelector extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex: 1 1;\n\t\t\tflex-direction: column;\n\t\t\talign-self: stretch;\n\t\t\tjustify-self: stretch;\n\t\t\toverflow-x: hidden;\n\t\t\toverflow-y: auto;\n\t\t\tcolor: var(--io-color);\n\t\t\tbackground-color: var(--io-background-color);\n\t\t}\n\t\t@keyframes io-selector-spinner {\n\t\t\tto {\n\t\t\t\ttransform: rotate(360deg);\n\t\t\t}\n\t\t}\n\t\t:host .io-loading {\n\t\t\tbackground-image: repeating-linear-gradient(135deg, var(--io-background-color-light), var(--io-background-color) 3px, var(--io-background-color) 7px, var(--io-background-color-light) 10px) !important;\n\t\t\tbackground-repeat: repeat;\n\t\t\tposition: relative;\n\t\t}\n\t\t:host .io-loading:after {\n\t\t\tcontent: '';\n\t\t\tbox-sizing: border-box;\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tmargin-top: -20px;\n\t\t\tmargin-left: -20px;\n\t\t\tborder-radius: 50%;\n\t\t\tborder: var(--io-border);\n\t\t\tborder-top-color: #000;\n\t\t\tanimation: io-selector-spinner .6s linear infinite;\n\t\t}\n\t\t"}static get Properties(){return{elements:{type:Array,observe:!0},selected:{type:String,reflect:1},cache:Boolean,_caches:Object,_selectedID:String,_scrollID:{type:String,notify:!0}}}static get Listeners(){return{scroll:["_onScroll",{capture:!0,passive:!0}],"content-ready":"_onIoContentReady"}}_onIoContentReady(t){t.stopImmediatePropagation(),this.scrollTo(this._scrollID,!1)}connectedCallback(){super.connectedCallback(),this.scrollTo(this._scrollID,!1)}scrollTo(t,e){t&&setTimeout(()=>{const n=this.$.content.querySelector("#"+t.toLowerCase());n&&n.scrollIntoView({behavior:e?"smooth":"auto"})},100)}_onScroll(){void 0!==this._scrollID&&(clearTimeout(this.__scrollThrottle),this.__scrollThrottle=setTimeout(()=>{delete this.__scrollThrottle;const t=[...this.$.content.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]")],e=this.$.content.scrollTop||this.$.content.children[0].scrollTop,n=e+this.$.content.getBoundingClientRect().height/2,i=this._scrollID;let o;for(let i=t.length;i--;){const s=t[i],r=t[i+1],l=s.offsetTop,a=r?r.offsetTop:l;if(l<e-5&&a<n&&i!==t.length-1)break;o=s.id}if(void 0!==o&&o!==i){this._scrollID=o;const t=this.selected,e=this._selectedID+"#"+this._scrollID;this.__properties.selected.value=e,this.dispatchEvent("selected-changed",{value:e,oldValue:t})}},100))}selectedChanged(){this.updateScroll()}elementsChanged(){this.updateScroll()}updateScroll(){const t=this._scrollID,e=this._selectedID;this._selectedID=this.selected.split("#")[0],this._scrollID=this.selected.split("#")[1],this._selectedID!==e?(this.update(),this.scrollTo(this._scrollID)):this._scrollID!==t&&this.scrollTo(this._scrollID,!0)}getSlotted(){return null}update(){const t=this._selectedID;let e=this.elements.find(e=>e[1].name===t);e||(console.warn(`Could not find element with id:${t}!`),e=["span",`Could not find element with id:${t}!`]),"object"!=typeof e[1]&&e.splice(1,0,{});const n=!0===e[1].cache,i=!1===e[1].cache;this.template([this.getSlotted(),["div",{id:"content",class:"io-content"}]]),this.$.content&&(this.$.content.textContent=""),this.$.content.classList.toggle("io-loading",!0),!i&&(this.cache||n)&&this._caches[t]?(this.$.content.appendChild(this._caches[t]),this.$.content.classList.toggle("io-loading",!1)):this.import(e[1].import).then(()=>{e[1].name===this.selected.split("#")[0]&&(this.$.content.classList.toggle("io-loading",!1),this.template([e],this.$.content),this._caches[t]=this.$.content.childNodes[0])})}}IoSelector.Register();class IoSidebar extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tflex-wrap: nowrap;\n\t\t\toverflow-x: hidden;\n\t\t\toverflow-y: auto;\n\t\t\tpadding: var(--io-spacing);\n\t\t\tflex-direction: column;\n\t\t\t-webkit-overflow-scrolling: touch;\n\t\t}\n\t\t:host > * {\n\t\t\talign-self: stretch !important;\n\t\t\tflex: 0 0 auto;\n\t\t}\n\t\t:host * {\n\t\t\toverflow: visible !important;\n\t\t}\n\t\t:host io-collapsable {\n\t\t\tpadding: 0;\n\t\t}\n\t\t:host io-collapsable > io-content {\n\t\t\tpadding: 0 0 0 0.75em;\n\t\t}\n\t\t:host io-button {\n\t\t\ttext-align: left;\n\t\t\talign-self: stretch;\n\t\t}\n\t\t:host io-button,\n\t\t:host io-collapsable,\n\t\t:host io-content {\n\t\t\tbackground: none;\n\t\t\tbox-shadow: none;\n\t\t\tborder-color: transparent;\n\t\t}\n\t\t:host io-boolean:not(:focus) {\n\t\t\tborder-bottom-color: transparent\t!important;\n\t\t}\n\t\t"}static get Properties(){return{selected:String,options:{type:Array,observe:!0},collapsed:{type:Boolean,reflect:1},role:"navigation"}}_onSelect(t){this.set("selected",t)}_addOptions(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];if(i.options){const o=!!this.filterObject(i.options,t=>matches(this.selected,t)),s=IoStorageFactory({value:!1,storage:"local",key:genUUID$1(t,n)});e.push(["io-collapsable",{label:i.label,expanded:o||s,elements:[...this._addOptions(i.options)]}])}else{const t=matches(this.selected,i);e.push(["io-button",{value:i.value||i,label:i.label||i.value||i,action:this._onSelect,selected:t}])}}return e}changed(){if(this.collapsed){const t=this.filterObject(this.options,t=>matches(this.selected,t));this.template([["io-option-menu",{options:this.options,value:this.bind("selected"),label:t.label,icon:"☰",selectable:!0,title:"select tab",class:"io-item"}]])}else this.template([...this._addOptions(this.options)])}}function genUUID$1(t,e){const n=t[e];let i="io-sidebar-collapse-state-"+e+"-"+t.length;return n.label&&(i+="-"+n.label),n.options.length&&(i+="("+n.options.length+")"),i}function matches(t,e){return void 0!==t&&("object"==typeof e&&(e=e.value),String(t).toLowerCase()===String(e).toLowerCase())}IoSidebar.Register();class IoSelectorSidebar extends IoSelector{static get Style(){return"\n\t\t:host {\n\t\t\tflex-direction: row;\n\t\t}\n\t\t:host[right] {\n\t\t\tflex-direction: row-reverse;\n\t\t}\n\t\t:host[collapsed] {\n\t\t\tflex-direction: column;\n\t\t}\n\t\t:host > io-sidebar {\n\t\t\tflex: 0 0 8em;\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-width: 0 var(--io-border-width) 0 0;\n\t\t}\n\t\t:host[right] > io-sidebar {\n\t\t\tborder-width: 0 0 0 var(--io-border-width);\n\t\t}\n\t\t:host[collapsed] > io-sidebar {\n\t\t\tflex: 0 0 auto;\n\t\t\tborder-width: 0 0 var(--io-border-width) 0;\n\t\t}\n\t\t"}static get Properties(){return{options:{type:Array,observe:!0},collapseWidth:410,collapsed:{type:Boolean,reflect:1},right:{type:Boolean,reflect:1}}}onResized(){this.collapsed=this.getBoundingClientRect().width<this.collapseWidth}collapsedChanged(){this.update()}getSlotted(){return["io-sidebar",{selected:this.bind("selected"),options:this.options,collapsed:this.collapsed}]}}IoSelectorSidebar.Register();class IoSelectorTabs extends IoSelector{static get Style(){return"\n\t\t:host > io-menu-options {\n\t\t\tflex: 0 0 auto;\n\t\t\tborder: none;\n\t\t\tborder-radius: 0;\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-width: 0 0 var(--io-border-width) 0;\n\t\t}\n\t\t"}static get Properties(){return{options:{type:Array,observe:!0},slotted:{type:Array,observe:!0}}}getSlotted(){return["io-menu-options",{role:"navigation",horizontal:!0,value:this.bind("selected"),options:this.options,slotted:this.slotted,selectable:!0}]}}IoSelectorTabs.Register();class IoNotify extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\tdisplay: flex;\n\t\t\tposition: fixed;\n\t\t\tbox-sizing: border-box;\n\t\t\tbackground-color: var(--io-background-color-dark);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-error);\n\t\t\twidth: 100%;\n\t\t\topacity: 1;\n\t\t\tfont-weight: bold;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tpadding: 0 var(--io-spacing);\n\t\t}\n\t\t:host > span {\n\t\t\tcursor: default;\n\t\t\tbox-sizing: border-box;\n\t\t\tline-height: var(--io-item-height);\n\t\t\tfont-size: var(--io-font-size);\n\t\t\tcolor: var(--io-color);\n\t\t\tpadding: 0 var(--io-spacing);\n\t\t}\n\t\t:host > :nth-child(n+2) {\n\t\t\tflex-shrink: 0;\n\t\t\talign-self: center;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t\t@keyframes io-notification-fade {\n\t\t\tto {\n\t\t\t\topacity: 0;\n\t\t\t}\n\t\t}\n\t\t:host:not([expanded]) {\n\t\t\tanimation: io-notification-fade .6s linear forwards;\n\t\t\tpointer-events: none;\n\t\t}\n\t\t"}static get Properties(){return{expanded:{value:!0,reflect:1}}}static get Listeners(){return{}}constructor(t){super(t),this.template([["span","This app uses cookies for user interface customization."],["span","Agree"],["io-boolicon",{"on-value-set":this._onAgree}],["span","Disagree"],["io-boolicon",{"on-value-set":this._onDisgree}]])}_onAgree(){event.detail.value?IoStorageFactory.permitted=!0:IoStorageFactory.permitted=!1,this.expanded=!1}_onDisgree(){IoStorageFactory.permitted=!1,this.expanded=!1}}IoNotify.Register(),null===IoStorageFactory.permitted&&document.body.appendChild(new IoNotify);const suboptions=[],options=[{label:"Red",icon:"❤️",options:[{value:"Red1"},{value:"Red2"},{value:"Red3"}]},{label:"Green",icon:"💚",options:[{value:"Green1"},{value:"Green2"},{value:"Green3"}]},{label:"Blue",icon:"💙",options:[{value:"Blue1"},{value:"Blue2"},{value:"Blue3"}]},{label:"Numbers",options:[{label:"one",value:1},{label:"two",value:2},{label:"three",value:3},{label:"four",value:4},{label:"five",value:5}]},{label:"Suboptions",options:suboptions}];suboptions.push(...[{label:"Hearts",options:options},{label:"suboption one",options:options},{label:"suboption two",options:options},{label:"suboption three",options:options}]);const option={label:"Hearts",icon:"💕",hint:"colors",options:options},words=["lorem","ipsum","dolor","sit","amet","ac","libero","vitae","magna","tellus","nisl","wisi","lacinia","curae","mauris","fusce","interdum","vestibulum","nunc","velit"],hearts=["❤️","💚","💙","💜","🧡","💔","💖","🖤","💗","💘"],longOptions=[];for(let t=0;t<100;t++){const t=words[Math.floor(20*Math.random())],e=words[Math.floor(20*Math.random())],n=words[Math.floor(20*Math.random())],i=hearts[Math.floor(10*Math.random())]||"";longOptions.push({icon:i,label:t+" "+e,value:t+" "+e,hint:n})}IoStorageFactory({key:"demo:boolean",value:!0}),IoStorageFactory({key:"demo:string",value:"Hello io!"}),IoStorageFactory({key:"demo:leet",value:1337}),IoStorageFactory({key:"demo:number",value:0}),IoStorageFactory({key:"demo:theme",value:IoThemeSingleton.bind("theme")}),IoStorageFactory({key:"demo:menuoptions",value:options}),IoStorageFactory({key:"demo:longmenuoptions",value:longOptions}),IoStorageFactory({key:"demo:menuoption",value:option}),IoStorageFactory({key:"demo:rgba",value:{r:1,g:.5,b:0,a:1}}),IoStorageFactory({key:"demo:cmyk",value:{c:0,m:0,y:0,k:0}}),IoStorageFactory({key:"demo:object",value:{number:.5,string:"hello",boolean:!0,object:{prop1:1,prop2:2},array:[0,1,2,3,4,5,6,7,8,9,10,11,12],vector2:[1,1],vector3:[1,1,1],vector4:[1,1,1,1],matrix2:[1,1,1,1],matrix3:[1,1,1,1,1,1,1,1,1],matrix4:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}),IoStorageFactory({key:"demo:vector2",value:[0,1]});class IoElementDemo extends IoElement{static get Style(){return"\n\t\t:host {\n\t\t\t@apply --io-panel;\n\t\t\tposition: relative;\n\t\t}\n\t\t:host > io-boolicon {\n\t\t\tz-index: 2;\n\t\t\tposition: absolute !important;\n\t\t\ttop: calc(calc(2 * var(--io-spacing)) + var(--io-border-width));\n\t\t\tright: calc(calc(2 * var(--io-spacing)) + var(--io-border-width));\n\t\t}\n\t\t:host > io-boolicon:not([value]):not(:hover) {\n\t\t\topacity: 0.5;\n\t\t}\n\t\t:host > io-properties {\n\t\t\talign-self: stretch;\n\t\t\tpadding: var(--io-spacing) 0;\n\t\t\tmargin: var(--io-border-width);\n\t\t\tmargin-right: var(--io-spacing);\n\t\t\tmargin-bottom: calc(2 * var(--io-spacing));\n\t\t}\n\t\t:host > io-properties > :nth-child(2) {\n\t\t\tmargin-right: calc(var(--io-item-height) + var(--io-spacing));\n\t\t}\n\t\t:host > .io-content {\n\t\t\tborder-radius: var(--io-border-radius);\n\t\t\tborder: var(--io-border);\n\t\t\tborder-color: var(--io-color-border-inset);\n\t\t\tpadding: var(--io-spacing);\n\t\t\tbox-shadow: var(--io-shadow-inset);\n\t\t\tcolor: var(--io-color);\n\t\t\tbackground-color: var(--io-background-color);\n\t\t\tbackground-image: none;\n\t\t}\n\t\t:host:not([expanded]) > .io-content {\n\t\t\tmargin-right: calc(var(--io-item-height) + calc(3 * var(--io-spacing)));\n\t\t}\n\t\t"}static get Properties(){return{element:{type:String,reflect:-1},properties:{type:Object,reflect:-1,observe:!0},width:{type:String,reflect:-1},height:{type:String,reflect:-1},config:{type:Object,reflect:-1},expanded:{type:Boolean,reflect:2}}}_onObjectMutation(t){super._onObjectMutation(t);for(let e=this.__observedProps.length;e--;){const n=this.__observedProps[e],i=this.__properties[n].value;if(!!this.filterObject(i,e=>e===t.detail.object)){const t=this.querySelectorAll("*");for(let e=0;e<t.length;e++)t[e].changed&&t[e].changed()}}}propertiesChanged(){for(let t in this.properties){const e=this.properties[t];"string"==typeof e&&e.startsWith("demo:")&&(this.properties[t]=IoStorageFactory({key:e}))}}changed(){const t=this.properties,e=[["io-boolicon",{value:this.bind("expanded"),true:"icons:tune",false:"icons:tune"}]];this.expanded&&e.push(["io-properties",{value:t,config:Object.assign({"type:number":["io-number",{step:1e-5}],"type:boolean":["io-switch"]},this.config)}]),e.push(["div",{class:"io-content"},[[this.element,Object.assign({id:"demo-element"},t)]]]),this.template(e),this.width&&(this.$["demo-element"].style.width=this.width),this.height&&(this.$["demo-element"].style.height=this.height),this.$["demo-element"].onResized&&this.$["demo-element"].onResized()}}IoElementDemo.Register();export{IoElementDemo,IoMdView,IoServiceLoader};